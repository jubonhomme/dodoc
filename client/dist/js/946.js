(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[946],{21874:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},o=[],s={props:{options:Object},mounted(){this.init()},beforeDestroy(){this.$flickity.destroy(),this.$flickity=null},methods:{init(){const t=i(11693);this.$flickity=new t(this.$el,this.options),this.$emit("init",this.$flickity)},flickity(){return this.$flickity},select(t,e,i){this.$flickity.select(t,e,i)},next(t,e){this.$flickity.next(t,e)},previous(t,e){this.$flickity.previous(t,e)},selectCell(t,e,i){this.$flickity.selectCell(t,e,i)},resize(){this.$flickity.resize()},reposition(){this.$flickity.reposition()},prepend(t){this.$flickity.prepend(t)},append(t){this.$flickity.append(t)},insert(t,e){this.$flickity.insert(t,e)},remove(t){this.$flickity.remove(t)},playPlayer(){this.$flickity.playPlayer()},stopPlayer(){this.$flickity.stopPlayer()},pausePlayer(){this.$flickity.pausePlayer()},unpausePlayer(){this.$flickity.unpausePlayer()},rerender(){this.$flickity.destroy(),this.init()},destroy(){this.$flickity.destroy()},reloadCells(){this.$flickity.reloadCells()},getCellElements(){return this.$flickity.getCellElements()},data(){const t=i(11693);return t.data(this.$el)},on(t,e){this.$flickity.on(t,e)},off(t,e){this.$flickity.off(t,e)},once(t,e){this.$flickity.once(t,e)},selectedElement(){return this.$flickity.selectedElement},selectedElements(){return this.$flickity.selectedElements},selectedIndex(){return this.$flickity.selectedIndex},cells(){return this.$flickity.cells},slides(){return this.$flickity.slides},disableDrag(){this.$flickity.options.draggable=!1,this.$flickity.updateDraggable()},enableDrag(){this.$flickity.options.draggable=!0,this.$flickity.updateDraggable()}}},a=s,r=(i(84825),i(1001)),l=(0,r.Z)(a,n,o,!1,null,null,null),c=l.exports},33445:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("PickMediaFromProjects",{attrs:{path:t.current_project_path,select_mode:t.select_mode},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){return t.$emit("close")}}})],1)},o=[],s={props:{publication_path:String,select_mode:{type:String,default:"multiple"}},components:{},data(){return{}},async created(){},beforeDestroy(){},watch:{},computed:{current_project_path(){const t=this.getParent(this.publication_path);return this.getParent(t)}},methods:{}},a=s,r=(i(58893),i(1001)),l=(0,r.Z)(a,n,o,!1,null,"3c29bb1a",null),c=l.exports},39476:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("sl-drawer",{staticClass:"_publicationSettings",attrs:{label:t.$t("settings"),"no-header":"",contained:""}},[t.show_settings?i("div",[t._t("default")],2):t._e()])},o=[],s={props:{},components:{},data(){return{show_settings:!1}},created(){},mounted(){this.$eventHub.$on("publication.settings.toggle",this.toggleSettings),this.$eventHub.$on("publication.settings.close",this.closeSettings)},beforeDestroy(){this.$eventHub.$off("publication.settings.close",this.closeSettings)},watch:{},computed:{},methods:{toggleSettings(){this.$el.open?this.closeSettings():this.openSettings()},openSettings(){this.$el.open||(this.$el.show(),this.show_settings=!0)},closeSettings(){this.$el.open&&(this.$el.hide(),this.show_settings=!1)}}},a=s,r=(i(59973),i(1001)),l=(0,r.Z)(a,n,o,!1,null,"70ad4eb8",null),c=l.exports},6483:function(t,e,i){"use strict";i.d(e,{Z:function(){return f}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_moduleCreator",class:{"is--collapsed":!t.show_module_selector}},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[t.show_module_selector||!t.start_collapsed?i("div",{staticClass:"_typePicker"},[t.types_available.includes("text")?i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:t.createText}},[t.show_labels?[t._v(t._s(t.$t("text")))]:t._e(),i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"fonts",label:t.$t("add_text")}})],2):t._e(),t.types_available.includes("medias")?i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[t.show_labels?[t._v(t._s(t.$t("medias")))]:t._e(),i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"image",label:t.$t("add_medias")}})],2):t._e(),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path,select_mode:t.select_mode},on:{addMedias:t.createMosaic,close:function(e){t.show_media_picker=!1}}}):t._e(),t.show_file_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path,select_mode:t.select_mode},on:{addMedias:t.createFiles,close:function(e){t.show_file_picker=!1}}}):t._e(),t.types_available.includes("link")?i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_link_picker=!0}}},[t.show_labels?[t._v(t._s(t.$t("link")))]:t._e(),i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:"link",label:t.$t("add_link")}})],2):t._e(),t.show_link_picker?i("LinkPicker",{on:{embed:t.createEmbed,close:function(e){t.show_link_picker=!1}}}):t._e(),t.types_available.includes("shapes")?t._l(t.shapes,(function(e){return i("button",{key:e.type,staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(i){return t.createCustomModule({module_type:e.type,addtl_meta:e.addtl_meta})}}},[t.show_labels?[t._v(t._s(t.$t(e.type)))]:t._e(),i("sl-icon",{staticStyle:{"font-size":"var(--icon-size)"},attrs:{name:e.icon,label:t.$t(e.type)}})],2)})):t._e(),t.start_collapsed?i("EditBtn",{key:"addmodule",attrs:{btn_type:"close",is_unfolded:!1},on:{click:function(e){t.show_module_selector=!1}}}):t._e()],2):t.start_collapsed&&!t.show_module_selector?i("EditBtn",{key:"addmodule",staticClass:"_addBtn",attrs:{btn_type:"add",is_unfolded:!0},on:{click:function(e){t.show_module_selector=!0}}}):t._e()],1),i("DropZone",{on:{mediaDropped:t.createMosaic}})],1)},o=[],s=(i(57658),i(33445)),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{on:{close:function(e){return t.$emit("close")}}},[i("div",{staticClass:"_linkPicker"},[i("div",{staticClass:"_urlBox"},[i("DLabel",{attrs:{str:t.$t("input_url"),instructions:t.$t("input_url_instr")}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.full_url,expression:"full_url"}],attrs:{type:"url",placeholder:"https://"},domProps:{value:t.full_url},on:{input:function(e){e.target.composing||(t.full_url=e.target.value)}}})],1),i("div",{staticClass:"u-instructions"},[t._v(" PeerTube, YouTube, Vimeo, etc. "+t._s(t.$t("for_example"))+"Â  "),t._l(["https://peertube.fr/w/wB6M6CHdfpWXpozVnqjbde","https://www.youtube.com/watch?v=Bn6zdyCAwJs","https://vimeo.com/447785086","https://observablehq.com/embed/@fil/bertin1953-glsl?cells=canvas"],(function(e,n){return i("button",{key:n,staticClass:"u-buttonLink",attrs:{type:"button"},domProps:{innerHTML:t._s(e)},on:{click:function(i){t.full_url=e}}})}))],2),i("br"),i("div",{key:t.full_url},["any"===t.url_to_site.type?[i("iframe",{staticClass:"_siteIframe",attrs:{src:t.url_to_site.src,frameborder:"0"}})]:i("vue-plyr",[i("div",{staticClass:"plyr__video-embed"},[i("iframe",{attrs:{src:t.url_to_site.src,allowfullscreen:"",allowtransparency:"",allow:"autoplay; fullscreen",sandbox:"allow-same-origin allow-scripts allow-popups",frameborder:"0"}})])])],2),i("br"),t.full_url?i("div",{staticClass:"_selectBtn"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){return t.$emit("embed",t.full_url)}}},[t._v(" "+t._s(t.$t("embed"))+" ")])]):t._e()])])},r=[],l={props:{},components:{},data(){return{full_url:"https://"}},async created(){},beforeDestroy(){},watch:{},computed:{url_to_site(){return!!this.full_url&&this.transformURL({url:this.full_url,autoplay:!1})}},methods:{}},c=l,d=(i(20148),i(1001)),u=(0,d.Z)(c,a,r,!1,null,"a5930508",null),h=u.exports,p={props:{publication_path:String,pre_addtl_meta:Object,post_addtl_meta:Object,select_mode:String,show_labels:{type:Boolean,default:!0},context:String,types_available:{type:Array,default:()=>["text","medias","files","link","shapes"]},start_collapsed:{type:Boolean,default:!0}},components:{MediaPicker:s.Z,LinkPicker:h},data(){return{show_module_selector:!1,show_media_picker:!1,show_file_picker:!1,show_link_picker:!1,shapes:[{type:"ellipsis",icon:"circle-fill",addtl_meta:{background_color:"#1d327f"}},{type:"rectangle",icon:"square-fill",addtl_meta:{background_color:"#ffbe32"}},{type:"line",icon:"dash-lg",addtl_meta:{outline_width:1,outline_color:"#000000"}},{type:"arrow",icon:"arrow-right-square",addtl_meta:{outline_width:1,outline_color:"#000000"}}],is_saving:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createMosaic({meta_filename:t,path_to_source_media_metas:e}){let i=[];t?i.push({meta_filename:t}):e&&e.map((t=>{const e=this.getFilename(t);i.push({meta_filename_in_project:e})})),"page_by_page"===this.context&&(i=i.map((t=>(t.objectFit="contain",t)))),"page_by_page"===this.context?await this.createMultipleModules({module_type:"mosaic",source_medias:i}):await this.createModule({module_type:"mosaic",source_medias:i}),this.show_media_picker=!1},async createEmbed(t){const e="url-"+ +new Date+".txt",i=await this.$api.uploadText({path:this.publication_path,filename:e,content:t,additional_meta:{module_type:this.module_type,$type:"url"}});this.createMosaic({meta_filename:i}),this.show_link_picker=!1},async createFiles({path_to_source_media_metas:t}){let e=[];t.map((t=>{const i=this.getFilename(t);e.push({meta_filename_in_project:i})})),await this.createModule({module_type:"files",source_medias:e}),this.show_file_picker=!1},async createCustomModule({module_type:t,addtl_meta:e}){await this.createModule({module_type:t,addtl_meta:e})},async createText(){const t="text-"+ +new Date+".txt",e=await this.$api.uploadText({path:this.publication_path,filename:t,content:"",additional_meta:{module_type:this.module_type}}),i=[{meta_filename:e}];await this.createModule({module_type:"text",source_medias:i})},async createModule({module_type:t,source_medias:e=[],addtl_meta:i={}}){if(e.length>0){const t=this.getSourceMedia({source_media:e[0],folder_path:this.publication_path});t?.$infos?.gps&&(i.location=t.$infos.gps)}const n=await this.createMetaForModule({module_type:t,source_medias:e,addtl_meta:i});return this.$emit("addModules",{meta_filenames:[n]}),this.show_module_selector=!1,n},async createMultipleModules({module_type:t,source_medias:e=[]}){let i=[];for(const n of e){const e=this.getSourceMedia({source_media:n,folder_path:this.publication_path});let o={};"page_by_page"===this.context&&e?.$infos?.ratio&&(o.height=this.$root.default_new_module_width*e.$infos.ratio),e?.$infos?.gps&&(o.location=e.$infos.gps);const s=await this.createMetaForModule({module_type:t,source_medias:[n],addtl_meta:o});i.push(s)}this.show_module_selector=!1,this.$emit("addModules",{meta_filenames:i})},async createMetaForModule({module_type:t,source_medias:e,addtl_meta:i}){let n={module_type:t,source_medias:e,requested_slug:"module"};return this.pre_addtl_meta&&Object.assign(n,this.pre_addtl_meta),i&&Object.assign(n,i),this.post_addtl_meta&&Object.assign(n,this.post_addtl_meta),await this.$api.uploadFile({path:this.publication_path,additional_meta:n}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))}}},g=p,m=(i(27472),(0,d.Z)(g,n,o,!1,null,"57d38c4c",null)),f=m.exports},83913:function(t,e,i){"use strict";i.d(e,{Z:function(){return O}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationModule",attrs:{"data-type":t.module_type},on:{click:t.preventClickTraversing}},[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.edit_mode&&"page_by_page"!==t.page_template?i("div",{staticClass:"_sideOptions"},[i("div",{staticClass:"_sideOptions--content"},[i("div",{staticClass:"_arrows"},[t.$listeners.hasOwnProperty("moveUp")?i("button",{staticClass:"u-button _sideBtns _moveBefore",attrs:{disabled:"first"===t.module_position||"alone"===t.module_position,type:"button"},on:{click:function(e){return t.$emit("moveUp")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M87.46,49.46,73.39,64.77a65.3,65.3,0,0,1-6.15,6.15A47.8,47.8,0,0,1,61,75.29H131.6V91.14H61A39.1,39.1,0,0,1,67,95.51q2.81,2.46,6.36,6.15L87.46,117,74.48,128,34.17,83.21,74.48,38.39Z"}})])]):t._e(),t.$listeners.hasOwnProperty("moveDown")?i("button",{staticClass:"u-button _sideBtns _moveAfter",attrs:{type:"button",disabled:"last"===t.module_position||"alone"===t.module_position},on:{click:function(e){return t.$emit("moveDown")}}},[i("svg",{staticStyle:{transform:"rotate(90deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"}},[i("path",{staticStyle:{fill:"currentColor"},attrs:{d:"M78.31,117l14.07-15.31a65.3,65.3,0,0,1,6.15-6.15,47.52,47.52,0,0,1,6.29-4.37H34.17V75.29h70.65a39.1,39.1,0,0,1-6.08-4.37q-2.8-2.46-6.36-6.15L78.31,49.46l13-11.07L131.6,83.21,91.29,128Z"}})])]):t._e()]),i("div",{staticClass:"_options"},[i("div",{staticClass:"_advanced_menu"},[i("div",[i("select",{attrs:{disabled:t.available_module_types.length<=1},domProps:{value:t.publimodule.module_type},on:{change:t.changeModuleType}},t._l(t.available_module_types,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(t.$t("module.label."+e))+" ")])})),0)]),i("div",{staticClass:"_buttonRow"},t._l([100,66.6,50,33.3],(function(e){return i("button",{key:e,staticClass:"u-buttonLink",class:{"is--active":!t.publimodule.size&&100===e||t.publimodule.size===e},attrs:{type:"button"},on:{click:function(i){return t.updateMeta({size:e})}}},[t._v(" "+t._s(e)+"% ")])})),0),t.publimodule.size&&100!==t.publimodule.size?i("div",{staticClass:"_buttonRow"},t._l(["left","center","right"],(function(e){return i("button",{key:e,staticClass:"u-buttonLink",class:{"is--active":!t.publimodule.align&&"left"===e||t.publimodule.align===e},attrs:{type:"button"},on:{click:function(i){return t.updateMeta({align:e})}}},["left"===e?i("sl-icon",{attrs:{name:"align-start"}}):t._e(),"center"===e?i("sl-icon",{attrs:{name:"align-center"}}):t._e(),"right"===e?i("sl-icon",{attrs:{name:"align-end"}}):t._e()],1)})),0):t._e(),i("div",{staticClass:"_buttonRow"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.duplicateModule}},[i("sl-icon",{attrs:{name:"file-plus"}})],1),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove"),show_button_text:!0},on:{remove:t.removeModule}}):t._e()],1)]),t.is_associated_to_map?i("div",{staticClass:"_carto"},[t._e(),i("div",{},[i("button",{staticClass:"u-button u-button_red",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.repickLocation.apply(null,arguments)}}},[t.has_coordinates?[i("b-icon",{attrs:{icon:"pin-map-fill"}}),t._v(" "+t._s(t.$t("change_location"))+" ")]:[i("b-icon",{attrs:{icon:"pin-map"}}),t._v(" "+t._s(t.$t("place_on_map"))+" ")]],2)]),i("div",{},[t.has_coordinates?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.eraseCoords}},[i("b-icon",{attrs:{icon:"x-circle"}}),t._v(" "+t._s(t.$t("erase"))+" ")],1):t._e()])]):t._e()]),i("div",{staticClass:"_saveBtn"},[i("EditBtn",{attrs:{btn_type:"check",label_position:"left"},on:{click:t.disableEdit}})],1),t.is_repicking_location?i("div",{staticClass:"_repickNotice"},[i("div",{staticClass:"_repickNotice--content"},[i("div",[t._v(" "+t._s(t.$t("click_on_map_to_repick_location_for_media"))+" ")]),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.is_repicking_location=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])]):t._e()])]):t._e()]),i("div",{staticClass:"_content",style:t.media_styles},[i("div",{ref:"sentinel"}),t.is_associated_to_map&&t.has_coordinates?i("button",{ref:"pinButton",staticClass:"u-button _pinButton",class:{"is--active":t.is_active_on_map},style:"--pin-color: "+(t.pin_options?t.pin_options.color:""),attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.showModuleOnMap.apply(null,arguments)}}},[i("img",{attrs:{src:t.pin_options.pin_preview_src}})]):t._e(),t.can_edit?i("div",{staticClass:"_floatingEditBtn"},[t.edit_mode?t._e():i("EditBtn",{attrs:{label_position:"left"},on:{click:t.enableEdit}})],1):t._e(),["mosaic","carousel","files"].includes(t.publimodule.module_type)?i("MediasModule",{attrs:{publimodule:t.publimodule,can_edit:t.edit_mode,context:t.context,page_template:t.page_template,number_of_max_medias:t.number_of_max_medias,show_fs_button:t.show_fs_button},on:{updateMeta:t.updateMeta,remove:t.removeModule}}):"text"===t.publimodule.module_type&&t.first_media?i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.first_media.$path,content:t.first_media.$content,scrollingContainer:t.$el,line_selected:!1,can_edit:t.edit_mode},on:{lineClicked:function(e){return t.$emit("lineClicked",e)},contentIsEdited:function(e){return t.$emit("contentIsEdited",e)},contentIsNotEdited:function(e){return t.$emit("contentIsNotEdited",e)}}}):"shape"===t.module_type?[i("svg",{attrs:{viewBox:"0 0 100 100",preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"}},["ellipsis"===t.publimodule.module_type?i("circle",{attrs:{cx:"50",cy:"50",r:50-t.publimodule.outline_width*t.magnification/8,"vector-effect":"non-scaling-stroke"}}):"rectangle"===t.publimodule.module_type?i("rect",{attrs:{x:t.publimodule.outline_width*t.magnification/4,y:t.publimodule.outline_width*t.magnification/4,width:100-t.publimodule.outline_width*t.magnification/2,height:100-t.publimodule.outline_width*t.magnification/2,"vector-effect":"non-scaling-stroke",rx:t.border_radius.x,ry:t.border_radius.y}}):"line"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}})]):"arrow"===t.publimodule.module_type?i("g",[i("rect",{attrs:{width:"100",height:"100","vector-effect":"non-scaling-stroke",stroke:"none",rx:t.border_radius.x,ry:t.border_radius.y}}),i("line",{attrs:{x1:t.publimodule.outline_width*t.magnification/4||0,y1:"50",x2:100-(t.publimodule.outline_width*t.magnification/4||0),y2:"50","vector-effect":"non-scaling-stroke"}}),i("g",{attrs:{transform:"\n              translate("+(100-(t.publimodule.outline_width*t.magnification/4||0))+", 50)",preserveAspectRatio:""}},[i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"-10","vector-effect":"non-scaling-stroke"}}),i("line",{attrs:{x1:"0",y1:"0",x2:"-10",y2:"10","vector-effect":"non-scaling-stroke"}})])]):t._e()])]:i("small",[t._v(t._s(t.$t("nothing_to_show")))])],2),t.edit_mode&&"page_by_page"!==t.page_template?i("div",{staticClass:"_selectorIndicator"}):t._e()],1)},o=[],s=(i(52262),i(24506),i(26699),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("div",{key:t.medias_with_linked.length>1?"multiple":"single",staticClass:"_mediasModule",style:"--number_of_medias: "+t.medias_with_linked.length},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},["mosaic"===t.publimodule.module_type?i("MosaicMediaGrid",{attrs:{medias_with_linked:t.medias_with_linked,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,number_of_max_medias:t.number_of_max_medias,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):"files"===t.publimodule.module_type?i("FilesList",{attrs:{medias_with_linked:t.medias_with_linked,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,reorderMedias:t.reorderMedias,removeMediaAtIndex:t.removeMediaAtIndex}}):"carousel"===t.publimodule.module_type?i("MediaCarousel",{attrs:{medias_with_linked:t.medias_with_linked,context:t.context,page_template:t.page_template,show_fs_button:t.show_fs_button,publication_path:t.publication_path,can_edit:t.can_edit},on:{addMedias:t.addMedias,removeMediaAtIndex:t.removeMediaAtIndex,updateMediaOpt:t.updateMediaOpt}}):t._e()],1)],1)])}),a=[],r=(i(57658),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaGrid",class:{"is--multipleMedias":t.is_multiple_medias}},[t._l(t.medias_with_linked,(function(e,n){return[i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+n,staticClass:"_mediaGrid--item",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button,is_draggable:t.can_edit}}):i("span",{staticClass:"_noSourceMedia u-instructions",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[!t.is_multiple_medias&&("page_by_page"!==t.page_template||t.single_media_displayed_at_full_ratio)||t.mediaIsSquare(e._linked_media)||"stl"===e._linked_media.$type?t._e():[e.objectFit&&"cover"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"cover"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio"}})],1):t._e(),"contain"!==e.objectFit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"contain"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio-fill"}})],1):t._e()],t.is_multiple_medias?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",n)}}},[i("sl-icon",{attrs:{name:"trash3"}})],1):t._e()],2):t._e()],1)]})),t.can_edit&&(!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias)?i("div",{staticClass:"_mediaPickerTile"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),!t.number_of_max_medias||t.medias_with_linked.length<t.number_of_max_medias?[i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})]:t._e()],2):t._e()],2)}),l=[],c=i(33445),d={props:{medias_with_linked:Array,context:String,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,can_edit:Boolean},components:{MediaPicker:c.Z},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{is_multiple_medias(){return this.medias_with_linked.length>1},single_media_displayed_at_full_ratio(){if(this.medias_with_linked.length>1)return!1;const t=this.medias_with_linked[0]._linked_media.$infos?.ratio,e=!(!this.publimodule?.height||!this.publimodule?.width)&&Math.round(this.publimodule?.height/this.publimodule?.width*10);return!(!t||!e)&&Math.round(10*t)===e}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio}}},u=d,h=(i(63394),i(1001)),p=(0,h.Z)(u,r,l,!1,null,"57d38ea6",null),g=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_filesList"},[i("DLabel",{attrs:{str:t.$t("source_files")}}),i("SlickList",{key:t.can_edit,staticClass:"_listOfFiles",attrs:{axis:"y",value:t.medias_with_linked.map((function(t){return t.meta_filename_in_project})),useDragHandle:!0},on:{input:function(e){return t.$emit("reorderMedias",e)}}},t._l(t.medias_with_linked,(function(e,n){var o=e._linked_media;return i("SlickItem",{key:o.$path,staticClass:"_reorderedFile",attrs:{index:n}},[t.can_edit?i("span",{directives:[{name:"handle",rawName:"v-handle"}],staticClass:"u-dragHandle"},[i("sl-icon",{attrs:{name:"grip-vertical",label:"DÃ©placer"}})],1):t._e(),o&&o.$path?i("span",{staticClass:"_link"},[["image","video","audio","pdf","stl","url"].includes(o.$type)?i("MediaContent",{staticClass:"_preview",attrs:{file:o,resolution:220}}):i("div",{staticClass:"_preview _preview--none"},[i("sl-icon",{attrs:{name:"file-earmark-arrow-down"}})],1),i("span",{staticClass:"_link--filename",domProps:{textContent:t._s(o.$media_filename)}}),o.$infos.size?[i("span",{staticClass:"u-instructions _link--filesize",domProps:{textContent:t._s(t.formatBytes(o.$infos.size))}})]:t._e()],2):t._e(),o&&o.$path?i("DownloadFile",{attrs:{file:o}},[i("sl-icon-button",{attrs:{name:"file-earmark-arrow-down-fill"}})],1):t._e(),t.can_edit?i("sl-icon-button",{attrs:{name:"x",size:"small"},on:{click:function(e){return t.$emit("removeMediaAtIndex",n)}}}):t._e()],1)})),1),t.can_edit?i("div",{staticClass:"_addBtnSection"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}}),t._v(" "+t._s(t.$t("add_files"))+" ")],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},f=[],v=i(55656),_={props:{medias_with_linked:Array,publication_path:String,can_edit:Boolean},components:{SlickItem:v.SlickItem,SlickList:v.SlickList,MediaPicker:c.Z},directives:{handle:v.HandleDirective},data(){return{show_media_picker:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},b=_,y=(i(88297),(0,h.Z)(b,m,f,!1,null,"4e0c6144",null)),w=y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_carousel",class:{}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("flickity",{key:t.slider_key,ref:"flickity",staticClass:"_mainCarousel",attrs:{options:t.flickityOptions}},t._l(t.medias_with_linked,(function(e,n){return i("div",{key:e._linked_media&&e._linked_media.$path||"no_media_"+n,staticClass:"carousel-cell",style:t.itemStyle({media_with_linked:e})},[e._linked_media?i("MediaContent",{attrs:{file:e._linked_media,resolution:"preview"===t.context?220:1600,context:t.context,show_fs_button:t.show_fs_button}}):i("span",{staticClass:"_noSourceMedia u-instructions",domProps:{textContent:t._s(t.$t("source_media_missing"))}}),t.can_edit?i("div",{staticClass:"_btnRow"},[e.objectFit&&"cover"!==e.objectFit&&!t.mediaIsSquare(e._linked_media)?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"cover"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio"}})],1):t._e(),"contain"===e.objectFit||t.mediaIsSquare(e._linked_media)?t._e():i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("updateMediaOpt",{index:n,opt:{objectFit:"contain"}})}}},[i("sl-icon",{attrs:{name:"aspect-ratio-fill"}})],1),i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("removeMediaAtIndex",n)}}},[i("sl-icon",{attrs:{name:"trash3"}})],1)]):t._e()],1)})),0)],1),t.can_edit?i("div",{staticClass:"_mediaPickerTile"},[i("button",{staticClass:"u-button u-button_transparent u-addBtn",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("sl-icon",{attrs:{name:"plus-circle"}})],1),t.show_media_picker?i("MediaPicker",{attrs:{publication_path:t.publication_path},on:{addMedias:function(e){return t.$emit("addMedias",e)},close:function(e){t.show_media_picker=!1}}}):t._e(),i("DropZone",{on:{mediaDropped:function(e){return t.$emit("addMedias",e)}}})],1):t._e()],1)},C=[],k=i(21874),S=(i(26845),{props:{medias_with_linked:Array,context:String,page_template:String,show_fs_button:Boolean,number_of_max_medias:[Boolean,Number],publication_path:String,can_edit:Boolean},components:{Flickity:k.Z,MediaPicker:c.Z},data(){return{show_media_picker:!1,flickityOptions:{initialIndex:0,groupCells:!1,imagesLoaded:!0,pageDots:!0,selectedAttraction:.2,percentPosition:!1,friction:.8,cellAlign:"left",contain:!0}}},created(){},mounted(){setTimeout((()=>{}))},beforeDestroy(){},watch:{},computed:{slider_key(){const t=this.medias_with_linked.map(((t,e)=>t.meta_filename_in_project+"-index-"+e));return t?JSON.stringify(t):"none"}},methods:{itemStyle({media_with_linked:t}){let e={};return e["--object-fit"]=t.objectFit||"cover",e},mediaIsSquare(t){return 1===t.$infos?.ratio}}}),M=S,E=(i(9087),(0,h.Z)(M,x,C,!1,null,"7c97ff4f",null)),P=E.exports,z={props:{publimodule:Object,context:{type:String,default:"full"},page_template:String,number_of_max_medias:[Boolean,Number],show_fs_button:Boolean,can_edit:Boolean},components:{MosaicMediaGrid:g,FilesList:w,MediaCarousel:P},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{publication_path(){return this.getParent(this.publimodule.$path)},medias_with_linked(){return this.publimodule.source_medias?this.publimodule.source_medias.map((t=>{const e=this.getSourceMedia({source_media:t,folder_path:this.publication_path});return Object.assign({},t,{_linked_media:e})})):[]}},methods:{addMedias({path_to_source_media_metas:t}){const e=t.map((t=>({meta_filename_in_project:this.getFilename(t)}))),i=this.publimodule.source_medias.slice()||[],n=i.concat(e);this.$emit("updateMeta",{source_medias:n})},removeMediaAtIndex(t){const e=this.publimodule.source_medias.slice();e.splice(t,1),0===e.length?this.$emit("remove"):this.$emit("updateMeta",{source_medias:e})},reorderMedias(t){const e=this.publimodule.source_medias.slice(),i=t.reduce(((t,i)=>{const n=e.find((t=>t.meta_filename_in_project===i));return n&&t.push(n),t}),[]);this.$emit("updateMeta",{source_medias:i})},updateMediaOpt({index:t,opt:e}){const i=this.publimodule.source_medias.slice();Object.assign(i[t],e),this.$emit("updateMeta",{source_medias:i})}}},$=z,D=(i(68555),(0,h.Z)($,s,a,!1,null,"7e37c77c",null)),A=D.exports,T={props:{publimodule:Object,module_position:String,module_being_edited:String,magnification:Number,border_radius:{type:Object,default:()=>({x:0,y:0})},context:String,page_template:String,number_of_max_medias:{type:[Boolean,Number],default:!1},can_edit:Boolean},components:{MediasModule:A},inject:{$getMapOptions:{default:!1}},data(){return{show_advanced_menu:!1,is_repicking_location:!1,observer:void 0}},i18n:{messages:{fr:{no_coordinates:"Aucunes coordonnÃ©es disponibles",position_on_map:"Position sur la carte",place_on_map:"Positionner sur la carte",show_on_map:"Afficher sur la carte",placed_on_map:"PositionnÃ© sur la carte",change_location:"Changer la position",remove_pin:"Supprimer cette Ã©pingle",cancel_position:"Annuler la position",click_on_map_to_repick_location_for_media:"Cliquez sur la carte pour sÃ©lectionner une nouvelle position pour le mÃ©dia"},en:{no_coordinates:"No coordinates available",position_on_map:"No position on the map",place_on_map:"Position on map",show_on_map:"Show on map",placed_on_map:"Already positioned positioned on map",change_location:"Change position",remove_pin:"Remove this pin",cancel_position:"Erase position",click_on_map_to_repick_location_for_media:"Click on map to select the new position on the map"}}},created(){},mounted(){this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$on(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$on(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$on("publication.map.click",this.setRepickLocation),this.$eventHub.$on(`module.show.${this.module_meta_filename}`,this.scrollToModule),this.startIntersectionObserver()},beforeDestroy(){this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.enableEdit),this.$eventHub.$off(`module.duplicate.${this.module_meta_filename}`,this.duplicateModule),this.$eventHub.$off(`module.remove.${this.module_meta_filename}`,this.removeModule),this.$eventHub.$off("publication.map.click",this.setRepickLocation),this.$eventHub.$off(`module.show.${this.module_meta_filename}`,this.scrollToModule),this.endIntersectionObserver()},watch:{edit_mode(){this.$refs.textBloc&&(this.edit_mode?this.$nextTick((()=>this.$refs.textBloc.enableEditor())):this.$refs.textBloc.disableEditor()),this.edit_mode||(this.is_repicking_location=!1)},is_active_on_map:{handler(){this.is_active_on_map&&this.scrollToModule("smooth")},immediate:!0}},computed:{is_associated_to_map(){return this.$getMapOptions},is_active_on_map(){return!!this.$getMapOptions&&this.$getMapOptions().opened_pin_path===this.publimodule.$path},available_module_types(){return"text"===this.publimodule.module_type?["text"]:["mosaic","carousel","files"]},pin_options(){return!!this.$getMapOptions&&this.$getMapOptions().pins_infos.find((({path:t})=>t===this.publimodule.$path))},has_coordinates(){return this.publimodule.location?.latitude&&this.publimodule.location?.longitude},edit_mode(){return this.module_being_edited===this.publimodule.$path},module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},module_type(){return["ellipsis","rectangle","line","arrow"].includes(this.publimodule.module_type)?"shape":this.publimodule.module_type},show_fs_button(){return"page_by_page"!==this.page_template||!0===this.publimodule.show_fs_button},first_media(){if(!this.publimodule.source_medias||0===this.publimodule.source_medias.length)return!1;const t=this.publimodule.source_medias[0];if(t){const e=this.getParent(this.publimodule.$path);return this.getSourceMedia({source_media:t,folder_path:e})}return!1},media_styles(){let t=0;return"center"===this.publimodule.align&&(66.6===this.publimodule.size?t=16.6:50===this.publimodule.size?t=25:33.3===this.publimodule.size&&(t=33.3)),"right"===this.publimodule.align&&(66.6===this.publimodule.size?t=33.3:50===this.publimodule.size?t=50:33.3===this.publimodule.size&&(t=66.6)),{"--module-width":this.publimodule.size||100,"--module-margin-left":t}}},methods:{async updateMeta(t){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},repickLocation(){this.is_repicking_location=!0,this.$eventHub.$emit("publication.map.disableTools")},showModuleOnMap(){this.$eventHub.$emit("publication.map.openPin",this.publimodule.$path)},preventClickTraversing(t){this.edit_mode&&t.stopPropagation()},async setRepickLocation({longitude:t,latitude:e}){this.is_repicking_location&&(await this.updateMeta({location:{longitude:t,latitude:e}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.is_repicking_location=!1,this.$nextTick((()=>{this.showModuleOnMap()})))},async eraseCoords(){await this.updateMeta({location:{}}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},enableEdit(){this.$emit("update:module_being_edited",this.publimodule.$path)},disableEdit(){this.$emit("update:module_being_edited",void 0)},scrollToModule(t="smooth"){this.$el&&this.$el.scrollIntoView({behavior:t,block:"start",inline:"nearest"})},startIntersectionObserver(){let t=(t,e)=>{t.forEach((t=>{t.isIntersecting&&this.is_associated_to_map&&this.has_coordinates&&!this.is_active_on_map&&this.showModuleOnMap()}))};this.observer=new IntersectionObserver(t,{rootMargin:"-10% 0% -80% 0%"}),this.observer.observe(this.$refs.sentinel)},endIntersectionObserver(){this.observer.unobserve(this.$el)},changeModuleType(t){const e=t.target.value;this.updateMeta({module_type:e})},async duplicateModule(){let t={};"page_by_page"===this.page_template&&(t.x=(this.publimodule.x||0)+10,t.y=(this.publimodule.y||0)+10);const e=await this.duplicateModuleWithSourceMedias({og_module:this.publimodule,addtl_meta_to_module:t});this.$emit("duplicate",e)},async removeModule(){await this.$api.deleteItem({path:this.publimodule.$path}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t})),this.$emit("remove")}}},L=T,I=(i(64988),(0,h.Z)(L,n,o,!1,null,"0c164548",null)),O=I.exports},3598:function(t,e,i){"use strict";i.d(e,{Z:function(){return v}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_singlePage",class:{"is--preview":"preview"===t.context,"is--editable":t.can_edit}},[i("div",{staticClass:"_pagecontainer",style:t.page_styles},[i("div",{staticClass:"_pagecontent"},[t.can_edit&&t.show_grid?i("svg",{staticClass:"_grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("pattern",{attrs:{id:"gridSmall",width:t.gridstep,height:t.gridstep,patternUnits:"userSpaceOnUse"}},[i("path",{attrs:{d:"M "+t.gridstep+" 0 L 0 0 0 "+t.gridstep,fill:"none",stroke:"var(--c-gridlines)",strokeWidth:"1"}})]),i("pattern",{attrs:{id:"grid",width:5*t.gridstep,height:5*t.gridstep,patternUnits:"userSpaceOnUse"}},[i("rect",{attrs:{width:5*t.gridstep,height:5*t.gridstep,fill:"url(#gridSmall)"}}),i("path",{attrs:{d:"M "+5*t.gridstep+" 0 L 0 0 0 "+5*t.gridstep,fill:"none",stroke:"var(--c-gridfiveslines)",strokeWidth:"1"}})])]),i("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]):t._e(),t._l(t.page_modules,(function(e){return i("MoveableItem",{key:e.$path,staticClass:"_item",attrs:{context:t.context,publimodule:e,magnification:t.magnification,gridstep:t.show_grid&&t.snap_to_grid?t.gridstep:1,module_being_edited:t.module_being_edited,scale:t.scale,can_edit:t.can_edit,is_active:t.active_module.$path===e.$path},on:{"update:module_being_edited":function(e){t.module_being_edited=e}}})})),t.can_edit&&t.l_margins?i("svg",{staticClass:"_margins",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:t.magnify(t.l_margins.left),y:t.magnify(t.l_margins.top),width:t.magnify(t.page_width-t.l_margins.left-t.l_margins.right),height:t.magnify(t.page_height-t.l_margins.top-t.l_margins.bottom)}})]):t._e(),t.pagination&&!t.hide_pagination&&t.page_number_corrected>0?i("div",{staticClass:"_pagination",style:t.pagination_styles},[t._v(" "+t._s(t.page_number_corrected)+" ")]):t._e(),t.can_edit&&t.l_margins?i("svg",{staticClass:"_pageBorders",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",fill:"transparent"}},[i("rect",{attrs:{x:"0",y:"0",width:t.magnify(t.page_width),height:t.magnify(t.page_height),stroke:"black"}})]):t._e()],2)])])},o=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DDR",{key:t.component_key,staticClass:"_moveableItem",class:{"is--locked":!0===t.publimodule.locked,"is--editable":t.can_edit,"is--active":t.can_edit&&t.is_active,"is--beingEdited":t.content_is_edited,"panzoom-exclude":t.can_edit},style:t.module_z_index,attrs:{active:t.can_edit&&t.is_active&&!0!==t.publimodule.locked&&!0!==t.content_is_edited,value:t.transform,parent:!1,acceptRatio:t.aspect_ratio,handlerSize:15,grid:t.grid,id:t.publimodule.$path,zoom:t.scale},on:{dragstart:t.dragStart,drag:t.onDrag,dragend:t.dragEnd,resizestart:t.resizeStart,resizeend:t.resizeEnd,rotateend:t.rotateEnd}},[i("span",{staticClass:"_activator",on:{mousedown:t.setActive,dblclick:t.dblClick}},[i("PublicationModule",{staticClass:"_moveableItem--content",style:t.module_styles,attrs:{publimodule:t.publimodule,border_radius:t.scaled_border_radius,context:t.context,page_template:"page_by_page",number_of_max_medias:1,magnification:t.magnification,can_edit:t.can_edit&&t.is_active&&t.has_edit_button,module_being_edited:t.module_being_edited},on:{"update:module_being_edited":function(e){return t.$emit("update:module_being_edited",e)},duplicate:t.onDuplicateModule,contentIsEdited:t.contentIsEdited,contentIsNotEdited:t.contentIsNotEdited}})],1),t.can_edit?i("div",{staticClass:"_unlockBtn"},[!0===t.publimodule.locked?i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.unlock()}}},[i("sl-icon",{attrs:{name:"lock"}})],1):t._e(),!t.can_edit||!t.is_active||t.content_is_edited||t.publimodule.locked&&!1!==t.publimodule.locked?t._e():i("button",{staticClass:"u-button u-button_orange u-button_small u-button_round u-colorBlack",attrs:{type:"button"},on:{click:function(e){return t.lock()}}},[i("sl-icon",{attrs:{name:"unlock"}})],1)]):t._e()])},a=[],r=(i(52262),i(24506),i(26699),i(1148)),l=(i(13382),i(83913)),c={name:"app",props:{context:String,publimodule:Object,can_edit:Boolean,magnification:Number,gridstep:Number,scale:Number,module_being_edited:String,is_active:Boolean},components:{DDR:r.Z,PublicationModule:l.Z},data(){return{transform:{x:0,y:0,width:300,height:300,rotation:0},component_key:1,aspect_ratio:!0,content_is_edited:!1}},created(){this.setTransformFromPubli(),this.setNewComponentKey()},mounted(){this.$eventHub.$on(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$on(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},beforeDestroy(){this.$eventHub.$off(`module.panTo.${this.module_meta_filename}`,this.panTo),this.$eventHub.$off(`module.enable_edit.${this.module_meta_filename}`,this.setActive)},watch:{publimodule:{handler(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},deep:!0},magnification(){const t=this.setTransformFromPubli();t&&this.setNewComponentKey()},is_active(){this.is_active||this.contentIsNotEdited()}},computed:{first_media(){return this.firstMedia(this.publimodule)},module_meta_filename(){return this.publimodule.$path.split("/").at(-1)},has_edit_button(){return"text"===this.publimodule.module_type},grid(){return[this.gridstep,this.gridstep]},module_z_index(){return`\n        z-index: ${this.publimodule.z_index?this.publimodule.z_index:0}\n      `},scaled_border_radius(){if(!this.publimodule.border_radius)return;const t=this.turnCMtoPX(this.publimodule.border_radius)/(this.turnCMtoPX(this.publimodule.width)/100),e=this.turnCMtoPX(this.publimodule.border_radius)/(this.turnCMtoPX(this.publimodule.height)/100);return{x:t,y:e}},module_styles(){return{"--set-margins":(this.turnCMtoPX(this.publimodule.margins)||0)+"px","--set-opacity":this.publimodule.opacity||1,"--set-borderRadius":(this.turnCMtoPX(this.publimodule.border_radius)||0)+"px","--set-backgroundColor":this.publimodule.background_color||"transparent","--set-outlineColor":this.publimodule.outline_color||"black","--set-outlineWidth":(this.turnCMtoPX(this.publimodule.outline_width)||0)+"px"}}},methods:{setNewComponentKey(){this.component_key=(new Date).getTime()},setTransformFromPubli(){let t=!1;return Object.keys(this.transform).map((e=>{if("number"===typeof this.publimodule[e])if(["x","y","width","height"].includes(e)){const i=this.turnCMtoPX(this.publimodule[e]);this.transform[e]!==i&&(this.transform[e]=i,t=!0)}else"rotation"===e&&this.transform[e]!==this.publimodule[e]&&(this.transform[e]=this.publimodule[e],t=!0)})),t},turnCMtoPX(t){return!!t&&this.roundToDec(t*this.magnification)},turnPXtoCM(t){return this.roundToDec(t/this.magnification)},contentIsEdited(t){this.$eventHub.$emit("module.text_editing_enabled",t),this.content_is_edited=!0},contentIsNotEdited(){this.$eventHub.$emit("module.text_editing_disabled"),this.$emit("update:module_being_edited",void 0),this.content_is_edited=!1},dragStart(){},onDrag(t){},dragEnd(t,e){return JSON.stringify(e)!==JSON.stringify(this.transform)&&((this.turnPXtoCM(e.x)!==this.turnPXtoCM(this.transform.x)||this.turnPXtoCM(e.y)!==this.turnPXtoCM(this.transform.y))&&(this.updateTransform(e),void t.stopPropagation()))},resizeStart(t,e){return t.target.classList.contains("br")||t.target.classList.contains("bl")||t.target.classList.contains("tl")||t.target.classList.contains("tr")?this.aspect_ratio=!0:this.aspect_ratio=!1},resizeEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},rotateEnd(t,e){if(JSON.stringify(e)===JSON.stringify(this.transform))return!1;this.updateTransform(e),t.stopPropagation()},async updateTransform(t){let e=JSON.parse(JSON.stringify(t));Object.keys(e).map((t=>{e[t]!==this.transform[t]?["x","y","width","height"].includes(t)?(e[t]=this.turnPXtoCM(e[t]),this.transform[t]=this.turnCMtoPX(e[t])):this.transform[t]=this.turnCMtoPX(this.turnPXtoCM(e[t])):delete e[t]})),await this.updateModuleMeta({new_meta:e})},panTo(){this.$eventHub.$emit("panzoom.panTo",{x:this.transform.x,y:this.transform.y})},setActive(t){return!this.is_active&&(this.content_is_edited?t.stopPropagation():void(this.can_edit&&!this.is_active&&!0!==this.publimodule.locked&&this.$eventHub.$emit("module.setActive",this.publimodule.$path)))},async dblClick(){if(this.is_active&&this.first_media)if("text"===this.first_media.$type)this.editText();else{const t=this.first_media.$infos?.ratio,e=this.publimodule.width*t;await this.updateModuleMeta({new_meta:{height:e}})}},editText(){const t=this.publimodule.$path.substring(this.publimodule.$path.lastIndexOf("/")+1);this.$eventHub.$emit(`module.enable_edit.${t}`)},async lock(){const t={locked:!0};await this.updateModuleMeta({new_meta:t}),this.$eventHub.$emit("module.setActive",!1)},async unlock(){const t={locked:!1};await this.updateModuleMeta({new_meta:t}),setTimeout((()=>{this.setActive()}),100)},async updateModuleMeta({new_meta:t}){await this.$api.updateMeta({path:this.publimodule.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))},onDuplicateModule(t){const e=this.publimodule.$path.substring(0,this.publimodule.$path.lastIndexOf("/")+1)+t;setTimeout((()=>{this.$eventHub.$emit("module.setActive",e)}),100)}}},d=c,u=(i(96749),i(1001)),h=(0,u.Z)(d,s,a,!1,null,"cdf5022e",null),p=h.exports,g={props:{context:String,page_modules:Array,page_width:Number,page_height:Number,layout_mode:{type:String,default:"print"},page_color:String,hide_pagination:Boolean,zoom:{type:Number,default:1},scale:{type:Number,default:1},show_grid:{type:Boolean,default:!1},snap_to_grid:{type:Boolean,default:!1},gridstep_in_mm:Number,margins:Object,page_number:Number,pagination:[Boolean,Object],active_module:[Boolean,Object],page_is_left:Boolean,can_edit:Boolean},components:{MoveableItem:p},data(){return{module_being_edited:void 0}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{l_margins(){return 0!==Object.keys(this.margins).length&&(!0===this.page_is_left?{left:this.margins.right,right:this.margins.left,top:this.margins.top,bottom:this.margins.bottom}:this.margins)},gridstep(){return this.gridstep_in_mm?this.magnify(this.gridstep_in_mm):0},magnification(){return"screen"===this.layout_mode?1:this.$root.page_magnification},page_styles(){const t={};return this.page_width&&this.page_height&&(t["--page-width"]=`${this.magnify(this.page_width)}px`,t["--page-height"]=`${this.magnify(this.page_height)}px`),t["--zoom"]=this.zoom,t["--page-color"]=this.page_color||"#fff",t},page_number_corrected(){return this.page_number-this.pagination.pagination_start_on_page+1},pagination_styles(){const t={};return!0===this.page_is_left?t["--pagination-left"]=`${this.magnify(this.pagination.right)}px`:t["--pagination-right"]=`${this.magnify(this.pagination.right)}px`,t["--pagination-bottom"]=`${this.magnify(this.pagination.bottom)}px`,t}},methods:{magnify(t){return t*this.magnification}}},m=g,f=(i(58653),(0,u.Z)(m,n,o,!1,null,"6c3a37c4",null)),v=f.exports},16946:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return Wi}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_pageTemplate"},[i("PagesList",{attrs:{publication:t.publication,page_opened_id:t.page_opened_id,can_edit:t.can_edit},on:{togglePage:function(e){return t.$emit("togglePage",e)}}}),t.can_edit?i("PublicationSettings",[i("PageSettings",{attrs:{publication:t.publication}})],1):t._e()],1)},o=[],s=i(39476),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_pageSettings"},[i("WidthHeightField",{attrs:{publication:t.publication}}),i("br"),i("ToggleField",{attrs:{label:t.$t("page_spreads"),field_name:"page_spreads",content:t.publication.page_spreads,path:t.publication.$path,can_edit:!0}}),i("br"),i("SetMargins",{attrs:{publication:t.publication,is_spread:!0===t.publication.page_spreads}}),i("br"),i("PaginationOption",{attrs:{publication:t.publication,is_spread:!0===t.publication.page_spreads}})],1)},r=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_widthHeightField"},[i("fieldset",[i("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("format")))]),i("DLabel",{staticClass:"_label",attrs:{str:t.$t("document_type"),tag:"h3"}}),i("br"),t._l([{key:"print",label:t.$t("print"),instructions:t.$t("print_instr")},{key:"screen",label:t.$t("screen"),instructions:t.$t("screen_instr")}],(function(e){return i("div",{key:e.key},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.new_layout_mode,expression:"new_layout_mode"}],attrs:{type:"radio",name:e.key,id:"radioi-lmode-"+e.key,disabled:!t.edit_mode},domProps:{value:e.key,checked:t._q(t.new_layout_mode,e.key)},on:{change:function(i){t.new_layout_mode=e.key}}}),i("label",{attrs:{for:"radioi-lmode-"+e.key}},[t._v(" "+t._s(e.label)),i("br"),i("small",{domProps:{innerHTML:t._s(e.instructions)}})])]),i("br")])})),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{key:t.new_layout_mode},[i("DLabel",{staticClass:"_label",attrs:{str:t.$t("format"),tag:"h3",instructions:t.$t("format_instructions")}}),i("br"),[i("select",{attrs:{disabled:!t.edit_mode},domProps:{value:t.predefined_format_from_width},on:{change:t.setSizeFromFormat}},t._l(t.format_options,(function(e){return i("option",{key:e.key,domProps:{value:e.key,textContent:t._s(e.text)}})})),0),i("br")],i("div",{staticClass:"u-sameRow"},[i("div",{},[i("DLabel",{attrs:{str:t.$t("width")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.new_page_width,expression:"new_page_width",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.new_page_width},on:{input:function(e){e.target.composing||(t.new_page_width=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1),i("div",{},[i("DLabel",{attrs:{str:t.$t("height")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.new_page_height,expression:"new_page_height",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.new_page_height},on:{input:function(e){e.target.composing||(t.new_page_height=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1)])],2)]),i("br"),t.can_edit&&!t.edit_mode?i("EditBtn",{on:{click:t.enableEditMode}}):t._e(),t.edit_mode?i("div",{staticClass:"_footer"},[i("SaveCancelButtons",{staticClass:"_scb",attrs:{is_saving:t.is_saving},on:{save:t.updateSize,cancel:t.cancel}})],1):t._e()],2)])},c=[],d={props:{publication:Object},components:{},data(){return{edit_mode:!1,is_saving:!1,can_edit:!0,new_layout_mode:void 0,new_page_width:void 0,new_page_height:void 0}},created(){},mounted(){this.initValues()},beforeDestroy(){},watch:{new_layout_mode(){const{width:t,height:e}=this.format_options[0];this.new_page_width=t,this.new_page_height=e}},computed:{format_options(){return"print"===this.new_layout_mode?[{key:"A4_portrait",text:this.$t("A4_portrait"),width:210,height:297},{key:"A4_landscape",text:this.$t("A4_landscape"),width:297,height:210},{key:"A5_portrait",text:this.$t("A5_portrait"),width:148,height:210},{key:"A5_landscape",text:this.$t("A5_landscape"),width:210,height:148},{key:"custom",text:this.$t("custom")}]:[{key:"recommended",text:this.$t("recommended"),width:960,height:700},{key:"desktop1080",text:this.$t("desktop_1080"),width:1920,height:1080},{key:"desktop720",text:this.$t("desktop_720"),width:1280,height:720},{key:"custom",text:this.$t("custom")}]},predefined_format_from_width(){const t=this.format_options.find((t=>t.width===this.new_page_width&&t.height===this.new_page_height));return t?t.key:"custom"},unit(){return"screen"===this.new_layout_mode?"px":"mm"}},methods:{initValues(){this.new_layout_mode=this.publication.layout_mode||"print",this.new_page_width=this.publication.page_width||210,this.new_page_height=this.publication.page_height||297},enableEditMode(){this.edit_mode=!0},setSizeFromFormat(t){const e=t.target.value;if("custom"===e)return;const i=this.format_options.find((t=>t.key===e));this.new_page_width=i.width,this.new_page_height=i.height},cancel(){this.edit_mode=!1,this.is_saving=!1,this.initValues()},async updateSize(){this.is_saving=!0;try{const t={layout_mode:this.new_layout_mode,page_width:this.new_page_width,page_height:this.new_page_height};await this.$api.updateMeta({path:this.publication.$path,new_meta:t}),this.edit_mode=!1,this.is_saving=!1}catch(t){this.is_saving=!1,this.edit_mode=!1,this.$alertify.closeLogOnClick(!0).delay(4e3).error(this.$t("notifications.couldntbesaved")),this.$alertify.closeLogOnClick(!0).error(t.response.data)}}}},u=d,h=i(1001),p=(0,h.Z)(u,l,c,!1,null,"18d6dd69",null),g=p.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("fieldset",[i("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("margins")))]),i("div",{staticClass:"u-instructions"},[i("small",[t._v(t._s(t.$t("margins_instructions")))])]),i("br"),i("div",{staticClass:"u-sameRow"},[i("div",{},[i("DLabel",{attrs:{str:t.$t("top")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.top,expression:"top",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.top},on:{input:function(e){e.target.composing||(t.top=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1),i("div",{},[i("DLabel",{attrs:{str:t.$t("bottom")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.bottom,expression:"bottom",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.bottom},on:{input:function(e){e.target.composing||(t.bottom=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1)]),i("br"),i("div",{staticClass:"u-sameRow"},[i("div",{},[i("DLabel",{attrs:{str:t.is_spread?t.$t("margins_inside"):t.$t("left")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.left,expression:"left",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.left},on:{input:function(e){e.target.composing||(t.left=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1),i("br"),i("div",{},[i("DLabel",{attrs:{str:t.is_spread?t.$t("margins_outside"):t.$t("right")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.right,expression:"right",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.right},on:{input:function(e){e.target.composing||(t.right=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1)]),i("br"),t.can_edit&&!t.edit_mode?i("EditBtn",{on:{click:t.enableEditMode}}):t._e(),t.edit_mode?i("div",{staticClass:"_footer"},[i("SaveCancelButtons",{staticClass:"_scb",attrs:{is_saving:t.is_saving},on:{save:t.updateMargins,cancel:t.cancel}})],1):t._e()],1)])},f=[],v={props:{publication:Object,is_spread:Boolean},components:{},data(){return{edit_mode:!1,is_saving:!1,can_edit:!0,top:this.publication.page_margin_top||0,bottom:this.publication.page_margin_bottom||0,left:this.publication.page_margin_left||0,right:this.publication.page_margin_right||0}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{unit(){return"screen"===this.publication.layout_mode?"px":"mm"}},methods:{enableEditMode(){this.edit_mode=!0},cancel(){this.edit_mode=!1,this.is_saving=!1},async updateMargins(){this.is_saving=!0;try{const t={page_margin_top:this.top,page_margin_bottom:this.bottom,page_margin_left:this.left,page_margin_right:this.right};await this.$api.updateMeta({path:this.publication.$path,new_meta:t}),this.edit_mode=!1,this.is_saving=!1}catch(t){this.is_saving=!1,this.edit_mode=!1,this.$alertify.closeLogOnClick(!0).delay(4e3).error(this.$t("notifications.couldntbesaved")),this.$alertify.closeLogOnClick(!0).error(t.response.data)}}}},_=v,b=(0,h.Z)(_,m,f,!1,null,"ed233974",null),y=b.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("fieldset",[i("legend",{staticClass:"u-label"},[t._v(t._s(t.$t("pagination")))]),i("div",{staticClass:"u-instructions"},[i("small",[t._v(t._s(t.$t("pagination_instructions")))]),t.is_spread?i("small",[t._v(" "+t._s(t.$t("pagination_instructions_spread")))]):t._e()]),i("div",{staticClass:"u-sameRow"},[i("ToggleInput",{attrs:{content:t.enable_pagination,label:t.$t("enable"),disabled:!t.edit_mode},on:{"update:content":function(e){t.enable_pagination=e}}})],1),i("br"),i("div",{},[i("DLabel",{attrs:{str:t.$t("pagn_starts_on_page")}}),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.pagn_starts_on_page,expression:"pagn_starts_on_page",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.pagn_starts_on_page},on:{input:function(e){e.target.composing||(t.pagn_starts_on_page=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})],1),i("br"),i("div",{staticClass:"u-sameRow"},[i("div",{},[i("DLabel",{attrs:{str:t.is_spread?t.$t("distance_to_outside"):t.$t("distance_to_right")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.right,expression:"right",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.right},on:{input:function(e){e.target.composing||(t.right=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1),i("div",{},[i("DLabel",{attrs:{str:t.$t("distance_to_bottom")}}),i("div",{staticClass:"u-inputGroup"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.bottom,expression:"bottom",modifiers:{number:!0}}],attrs:{type:"number",disabled:!t.edit_mode},domProps:{value:t.bottom},on:{input:function(e){e.target.composing||(t.bottom=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",{staticClass:"u-suffix",domProps:{textContent:t._s(t.unit)}})])],1)]),i("br"),t.can_edit&&!t.edit_mode?i("EditBtn",{on:{click:t.enableEditMode}}):t._e(),t.edit_mode?i("div",{staticClass:"_footer"},[i("SaveCancelButtons",{staticClass:"_scb",attrs:{is_saving:t.is_saving},on:{save:t.updatePagination,cancel:t.cancel}})],1):t._e()],1)])},x=[],C={props:{publication:Object,is_spread:Boolean},components:{},data(){return{edit_mode:!1,is_saving:!1,can_edit:!0,enable_pagination:this.publication.enable_pagination||!1,pagn_starts_on_page:this.publication.pagn_starts_on_page||1,right:this.publication.pagn_right||2,bottom:this.publication.pagn_bottom||2}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{unit(){return"screen"===this.publication.layout_mode?"px":"mm"}},methods:{enableEditMode(){this.edit_mode=!0},cancel(){this.edit_mode=!1,this.is_saving=!1,this.enable_pagination=this.publication.enable_pagination,this.pagn_starts_on_page=this.publication.pagn_starts_on_page,this.right=this.publication.pagn_right||2,this.bottom=this.publication.pagn_bottom||2},async updatePagination(){this.is_saving=!0;try{const t={enable_pagination:this.enable_pagination,pagn_starts_on_page:this.pagn_starts_on_page,pagn_right:this.right,pagn_bottom:this.bottom};await this.$api.updateMeta({path:this.publication.$path,new_meta:t}),this.edit_mode=!1,this.is_saving=!1}catch(t){this.is_saving=!1,this.edit_mode=!1,this.$alertify.closeLogOnClick(!0).delay(4e3).error(this.$t("notifications.couldntbesaved")),this.$alertify.closeLogOnClick(!0).error(t.response.data)}}}},k=C,S=(0,h.Z)(k,w,x,!1,null,"6869aba0",null),M=S.exports,E={props:{publication:Object},components:{WidthHeightField:g,SetMargins:y,PaginationOption:M},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},P=E,z=(i(83294),(0,h.Z)(P,a,r,!1,null,"0f98e3a6",null)),$=z.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slideup"}},[t.page_opened_id?i("OpenedPageOrSpread",{key:"openedpage",attrs:{page_opened_id:t.page_opened_id,publication_title:t.publication.title,publication_path:t.publication.$path,pages:t.pages,spreads:t.spreads,modules:t.modules,is_spread:t.is_spread,page_width:t.publication.page_width,page_height:t.publication.page_height,layout_mode:t.publication.layout_mode,margins:t.margins,pagination:t.pagination,can_edit:t.can_edit},on:{togglePage:function(e){return t.$emit("togglePage",e)},updatePageOptions:t.updatePageOptions}}):i("transition-group",{key:"allpages",staticClass:"_allPages",attrs:{tag:"div",name:"listComplete"}},[t.is_spread?t._l(t.spreads,(function(e,n){return i("div",{key:"spread-"+n,staticClass:"_spread"},t._l(e,(function(e,o){return i("div",{key:e?e.id:o},[e&&e.id?[i("div",{staticClass:"_preview"},[i("SinglePage",{attrs:{context:"preview",zoom:t.page_preview_zoom,page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_width:t.publication.page_width,page_height:t.publication.page_height,layout_mode:t.publication.layout_mode,page_color:e.page_color,page_number:2*n+o,pagination:t.pagination,hide_pagination:!0===e.hide_pagination,page_is_left:0===o,can_edit:!1}}),i("button",{staticClass:"u-button _openPage",attrs:{type:"button"},domProps:{innerHTML:t._s(t.$t("open"))},on:{click:function(i){return t.$emit("togglePage",e.id)}}})],1),i("PageLabel",{attrs:{index:2*n+o-1,number_of_pages:t.pages.length,can_edit:t.can_edit},on:{movePage:function(e){return t.movePage({old_position:e.old_position,new_position:e.new_position})},duplicatePage:function(i){return t.duplicatePage(e.id)},removePage:function(i){return t.removePage(e.id)}}})]:t._e()],2)})),0)})):t._l(t.pages,(function(e,n){return i("div",{key:"page-"+e.id,staticClass:"_page"},[i("div",{staticClass:"_preview"},[i("SinglePage",{attrs:{context:"preview",zoom:t.page_preview_zoom,page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_width:t.publication.page_width,page_height:t.publication.page_height,layout_mode:t.publication.layout_mode,page_color:e.page_color,page_number:n,pagination:t.pagination,hide_pagination:!0===e.hide_pagination,can_edit:!1}}),i("button",{staticClass:"u-button _openPage",attrs:{type:"button"},domProps:{innerHTML:t._s(t.$t("open"))},on:{click:function(i){return t.$emit("togglePage",e.id)}}})],1),i("PageLabel",{attrs:{index:n,number_of_pages:t.pages.length,can_edit:t.can_edit},on:{movePage:function(e){return t.movePage({old_position:e.old_position,new_position:e.new_position})},duplicatePage:function(i){return t.duplicatePage(e.id)},removePage:function(i){return t.removePage(e.id)}}})],1)})),t.can_edit?i("button",{key:"createPage",staticClass:"u-button u-button_transparent _createPage",style:t.is_creating_page?"opacity: 0;":"opacity: 1",attrs:{type:"button"},on:{click:t.createPage}},[i("sl-icon",{attrs:{name:"plus-circle"}}),t._v(" "+t._s(t.$t("create_page"))+" ")],1):t._e()],2)],1)},A=[],T=(i(57658),i(3598)),L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_openedPage",class:{"is--editable":t.can_edit&&!t.display_as_public}},[i("div",{staticClass:"_spreadNavigator"},[i("div",{staticClass:"_spreadNavigator--content",on:{click:function(e){return e.target!==e.currentTarget?null:t.setActiveModule(!1)}}},[i("div",{staticClass:"_sideCont"},[i("div",{staticClass:"_content"},[i("PageMenu",{attrs:{can_edit:t.can_edit,pages:t.pages,active_page_number:t.active_page_number,active_spread_index:t.active_spread_index,scale:t.scale,show_grid:t.page_settings.show_grid,snap_to_grid:t.page_settings.snap_to_grid,gridstep_in_mm:t.page_settings.gridstep_in_mm,layout_mode:t.layout_mode,page_color:t.current_page.page_color,pagination:t.pagination,publication_path:t.publication_path,page_opened_id:t.page_opened_id,page_modules:t.getModulesForPage({modules:t.modules,page_id:t.page_opened_id}),active_module:t.active_module,display_as_public:t.display_as_public},on:{"update:show_grid":function(e){return t.$set(t.page_settings,"show_grid",e)},"update:snap_to_grid":function(e){return t.$set(t.page_settings,"snap_to_grid",e)},"update:gridstep_in_mm":function(e){return t.$set(t.page_settings,"gridstep_in_mm",e)},"update:display_as_public":function(e){t.display_as_public=e},updatePageOptions:function(e){return t.$emit("updatePageOptions",e)},"update:scale":function(e){t.scale=e},prevPage:function(e){return t.prevPage()},nextPage:function(e){return t.nextPage()},close:function(e){return t.setPageActive(!1)}}})],1)]),i("div",{staticClass:"_pagePan"},[i("PanZoom2",{attrs:{scale:t.scale},on:{"update:scale":function(e){t.scale=e}}},[i("transition",{attrs:{name:"pagechange",mode:"out-in"}},[i("div",{key:t.is_spread?"spread-"+JSON.stringify(t.active_spread.map((function(t){return t.id}))):"page-"+t.page_opened_id,staticClass:"_pageCont",on:{click:function(e){return e.target!==e.currentTarget?null:t.setActiveModule(!1)}}},[t.is_spread?t._l(t.active_spread,(function(e,n){return i("div",{key:e.id?e.id:n,staticClass:"_spreadNavigator--page",class:{"is--active":e.id===t.page_opened_id}},[e?[i("SinglePage",{attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:e.id}),page_width:t.page_width,page_height:t.page_height,layout_mode:t.layout_mode,page_color:e.page_color,scale:t.scale,show_grid:t.page_settings.show_grid,snap_to_grid:t.page_settings.snap_to_grid,gridstep_in_mm:t.page_settings.gridstep_in_mm,margins:t.margins,page_number:2*t.active_spread_index+n,pagination:t.pagination,hide_pagination:!0===t.current_page.hide_pagination,active_module:t.active_module,page_is_left:0===n,can_edit:t.can_edit&&e.id===t.page_opened_id&&!t.display_as_public},on:{close:function(e){return t.setPageActive(!1)}}}),e.id!==t.page_opened_id?[i("button",{staticClass:"_openAdjacentPageBtn panzoom-exclude",attrs:{type:"button"},on:{mousedown:function(i){return i.target!==i.currentTarget?null:t.setPageActive(e.id)}}})]:t._e()]:i("div",{staticClass:"_noPage"})],2)})):i("SinglePage",{staticClass:"_spreadNavigator--page is--active",attrs:{context:"full",page_modules:t.getModulesForPage({modules:t.modules,page_id:t.page_opened_id}),page_width:t.page_width,page_height:t.page_height,layout_mode:t.layout_mode,page_color:t.current_page.page_color,scale:t.scale,show_grid:t.page_settings.show_grid,snap_to_grid:t.page_settings.snap_to_grid,gridstep_in_mm:t.page_settings.gridstep_in_mm,margins:t.margins,page_number:t.active_page_number,pagination:t.pagination,hide_pagination:!0===t.current_page.hide_pagination,active_module:t.active_module,can_edit:t.can_edit&&!t.display_as_public},on:{close:function(e){return t.setPageActive(!1)}}})],2)])],1)],1)])])])},I=[],O=(i(26699),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_pageMenu"},[i("div",{staticClass:"_pageMenu--pane"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("sl-icon",{attrs:{name:"arrow-left-short",label:""}}),t._v(" "+t._s(t.$t("close"))+" ")],1),i("div",{staticClass:"u-spacingBottom _titleRow"},[i("div",[i("button",{staticClass:"u-button u-button_transparent",attrs:{type:"button",disabled:t.active_page_number<=0},on:{click:function(e){return t.$emit("prevPage")}}},[i("sl-icon",{attrs:{name:"arrow-left-circle"}})],1)]),i("div",[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("b",{key:t.active_page_number},[t._v(t._s(t.$t("page"))+" "+t._s(t.active_page_number+1))])]),!1!==t.active_spread_index?i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[i("span",{key:t.active_spread_index},[0===t.active_page_number?[t._v(" ("+t._s(t.$t("cover"))+") ")]:[t._v(" ("+t._s(t.$t("spread").toLowerCase())+" "+t._s(t.active_spread_index)+") ")]],2)]):t._e()],1),i("div",[i("button",{staticClass:"u-button u-button_transparent",attrs:{type:"button",disabled:t.active_page_number>=t.pages.length-1},on:{click:function(e){return t.$emit("nextPage")}}},[i("sl-icon",{attrs:{name:"arrow-right-circle"}})],1)])]),i("div",{staticClass:"_scale"},[i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{can_toggle:!1,label:t.$t("scale"),value:Math.round(100*t.scale),min:10,max:200,step:1,ticks:[10,25,50,100,200],default_value:100,suffix:"%"},on:{save:function(e){return t.$emit("update:scale",e/100)}}})],1),t.can_edit?i("div",{},[i("ToggleInput",{attrs:{content:t.display_as_public,label:t.$t("preview")},on:{"update:content":function(e){return t.$emit("update:display_as_public",e)}}})],1):t._e()]),t.can_edit&&!t.display_as_public?[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.has_editor_toolbar||t.active_module?!t.has_editor_toolbar&&t.active_module?i("div",{key:"media-"+t.active_module.$path,staticClass:"_pageMenu--pane"},[i("DLabel",{attrs:{str:t.$t("media"),instructions:t.$t("active_media_instr")}}),"mosaic"===t.active_module.module_type?i("MediaContent",{staticClass:"_activeModulePreview",attrs:{file:t.firstMedia(t.active_module),resolution:50,context:"preview"}}):"text"===t.active_module.module_type?i("span",{staticClass:"u-textEllipsis u-textEllipsis_3 _textExtract"},[i("CollaborativeEditor2",{ref:"textBloc",attrs:{path:t.firstMedia(t.active_module).$path,content:t.firstMedia(t.active_module).$content,can_edit:!1}})],1):i("span",[t._v(" "+t._s(t.$t(t.active_module.module_type))+" ")]),i("div",{staticClass:"u-mediaOptions"},[i("MoveToPage",{attrs:{pages:t.pages,current_page_id:t.pages[t.active_page_number].id},on:{submit:function(e){t.updateMediaPubliMeta({page_id:e}),t.setActive(!1)}}}),i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.duplicateModule}},[i("sl-icon",{attrs:{name:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate"))+" ")],1)]),i("div",{},[!0===t.active_module.locked?i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.updateMediaPubliMeta({locked:!1})}}},[i("sl-icon",{attrs:{name:"unlock"}}),t._v(" "+t._s(t.$t("unlock"))+" ")],1):i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.updateMediaPubliMeta({locked:!0})}}},[i("sl-icon",{attrs:{name:"lock"}}),t._v(" "+t._s(t.$t("lock"))+" ")],1)]),i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.setActive(!1)}}},[i("sl-icon",{attrs:{name:"dash-square-dotted"}}),t._v(" "+t._s(t.$t("unselect"))+" ")],1)]),i("RemoveMenu",{ref:"removeMenu",attrs:{remove_text:t.$t("withdraw_from_page")},on:{remove:t.removeModule}})],1),i("div",{staticClass:"u-sameRow"},[i("NumberInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("position")+"â",value:t.active_module.x,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({x:e})}}}),i("NumberInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("position")+"â",value:t.active_module.y,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({y:e})}}})],1),i("div",{staticClass:"u-sameRow"},[i("NumberInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("width")+"â",value:t.active_module.width,min:0,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({width:e})}}}),i("NumberInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("height")+"â",value:t.active_module.height,min:0,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({height:e})}}})],1),i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("angle"),value:t.active_module.rotation,min:0,max:360,step:1,ticks:[0,90,180,270,360],default_value:0,suffix:"Â°"},on:{save:function(e){return t.updateMediaPubliMeta({rotation:e})}}}),i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("margins"),value:t.active_module.margins,min:0,max:50,step:1,default_value:0,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({margins:e})}}}),"ellipsis"!==t.active_module.module_type&&"text"!==t.active_module.module_type?i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("border_radius"),value:t.active_module.border_radius,min:0,max:50,step:1,default_value:0,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({border_radius:e})}}}):t._e(),i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("opacity"),value:Math.round(100*t.active_module.opacity),min:1,max:100,step:1,ticks:[1,100],default_value:100,suffix:"%"},on:{save:function(e){return t.updateMediaPubliMeta({opacity:e/100})}}}),i("ColorInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("background_color"),value:t.active_module.background_color,default_value:t.is_shape?"transparent":""},on:{save:function(e){return t.updateMediaPubliMeta({background_color:e})}}}),i("RangeValueInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("outline_width"),value:t.active_module.outline_width,min:0,max:20,step:1,ticks:[0,10,20],default_value:0,suffix:t.unit},on:{save:function(e){return t.updateMediaPubliMeta({outline_width:e})}}}),t.active_module.outline_width>0?i("ColorInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("outline_color"),value:t.active_module.outline_color,default_value:"#000000"},on:{save:function(e){return t.updateMediaPubliMeta({outline_color:e})}}}):t._e(),"image"===t.firstMedia(t.active_module).$type?i("ToggleInput",{staticClass:"u-spacingBottom",attrs:{content:t.active_module.show_fs_button,label:t.$t("show_fs_button")},on:{"update:content":function(e){return t.updateMediaPubliMeta({show_fs_button:e})}}}):t._e(),i("DepthInput",{attrs:{label:t.$t("z_index"),value:t.active_module.z_index,page_modules:t.page_modules},on:{save:function(e){return t.updateMediaPubliMeta({z_index:e})}}})],1):t._e():i("div",{key:"page_options-"+t.active_page_number},[i("div",{staticClass:"_pageMenu--pane"},[i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.$t("add_on_page")}}),i("ModuleCreator",{attrs:{publication_path:t.publication_path,pre_addtl_meta:t.new_module_meta,context:"page_by_page",start_collapsed:!1},on:{addModules:t.enableModuleEdit}})],1),t.can_edit?i("div",{},[t.can_edit?i("ToggledSection",{staticClass:"u-spacingBottom",attrs:{label:t.$t("show_grid"),show_toggle:t.show_grid},on:{"update:show_toggle":function(e){return t.$emit("update:show_grid",e)}}},[i("RangeValueInput",{attrs:{label:t.$t("gridstep"),can_toggle:!1,value:t.gridstep_in_mm,min:1,max:20,step:1,ticks:[5,10,20,50],default_value:10,suffix:t.unit},on:{save:function(e){return t.$emit("update:gridstep_in_mm",e)}}}),i("ToggleInput",{staticClass:"u-spacingBottom",attrs:{content:t.snap_to_grid,label:t.$t("snap_to_grid")},on:{"update:content":function(e){return t.$emit("update:snap_to_grid",e)}}})],1):t._e()],1):t._e(),t.can_edit?i("div",{},[i("ColorInput",{staticClass:"u-spacingBottom",attrs:{label:t.$t("page_color"),value:t.page_color},on:{save:function(e){return t.$emit("updatePageOptions",{page_number:t.active_page_number,value:{page_color:e}})}}}),t.has_pagination?i("ToggleInput",{staticClass:"u-spacingBottom",attrs:{content:t.hide_pagination,label:t.$t("hide_pagination")},on:{"update:content":function(e){return t.$emit("updatePageOptions",{page_number:t.active_page_number,value:{hide_pagination:e}})}}}):t._e()],1):t._e()]),i("div",{staticClass:"_pageMenu--pane"},[i("DLabel",{attrs:{str:t.$t("list_of_medias")+" ("+t.page_modules.length+")",instructions:t.$t("list_of_medias_instr")}}),t.page_modules.length>0?i("div",{staticClass:"u-spacingBottom"},[t.can_edit?i("button",{staticClass:"u-buttonLink",attrs:{type:"button",disabled:0===t.page_modules.length},on:{click:function(e){t.show_all_medias=!t.show_all_medias}}},[i("sl-icon",{attrs:{name:"collection"}}),t.show_all_medias?[t._v(" "+t._s(t.$t("hide"))+" ")]:[t._v(" "+t._s(t.$t("show"))+" ")]],2):t._e()]):t._e(),t.show_all_medias?i("div",{staticClass:"_mediaList"},t._l(t.page_modules,(function(e){return i("div",{key:e.$path,on:{click:function(i){return t.setActive(e.$path)}}},[t.firstMedia(e)?i("MediaContent",{staticClass:"_preview",attrs:{file:t.firstMedia(e),resolution:50,context:"preview"}}):t._e(),i("DateDisplay",{attrs:{title:t.$t("date_uploaded"),date:e.$date_uploaded}})],1)})),0):t._e()],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.has_editor_toolbar,expression:"has_editor_toolbar"}],key:"text-toolbar-"+t.active_page_number,staticClass:"_pageMenu--pane"},[i("div",{ref:"editor_toolbar",staticClass:"_editorToolbar"})])]:t._e()],2)}),B=[],R=(i(52262),i(24506),i(6483)),N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_depthInput"},[t.label?i("DLabel",{attrs:{str:t.label,for:t.label}}):t._e(),i("div",{staticClass:"u-sameRow"},[i("button",{staticClass:"u-button u-button_black",attrs:{type:"button",disabled:t.value===t.max_z_index},on:{click:t.moveToFront}},[i("sl-icon",{attrs:{name:"front",label:t.$t("move_to_front")}}),t._v(" "+t._s(t.$t("move_to_front"))+" ")],1),i("button",{staticClass:"u-button u-button_black",attrs:{type:"button",disabled:t.value===t.min_z_index},on:{click:t.moveToBack}},[i("sl-icon",{attrs:{name:"back",label:t.$t("move_to_back")}}),t._v(" "+t._s(t.$t("move_to_back"))+" ")],1)])],1)},F=[],X={props:{label:String,value:Number,page_modules:Array},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{list_all_z_index(){return this.page_modules.map((t=>t.z_index||0))},max_z_index(){return Math.max(...this.list_all_z_index)},min_z_index(){return Math.min(...this.list_all_z_index)}},methods:{moveToBack(){this.$emit("save",this.min_z_index-1)},moveToFront(){this.$emit("save",this.max_z_index+1)}}},W=X,j=(0,h.Z)(W,N,F,!1,null,"952a845c",null),H=j.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_confirm_move=!0}}},[i("sl-icon",{attrs:{name:"arrow-left-right"}}),t._v(" "+t._s(t.$t("move_to_page"))+" ")],1),t.show_confirm_move?i("BaseModal2",{attrs:{title:t.$t("move_to_page")},on:{close:function(e){t.show_confirm_move=!1}}},[i("div",{},[i("SelectField2",{attrs:{value:t.current_page_id,options:t.all_pages_in_select,can_edit:!0,hide_validation:!0},on:{change:t.setNewPage}})],1),i("div",{staticClass:"u-sameRow",attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_confirm_move=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:"",disabled:!t.page_id_to_move_to||t.page_id_to_move_to===t.current_page_id},on:{click:t.submit}},[t._v(" "+t._s(t.$t("move"))+" ")])])]):t._e()],1)},Z=[],V={props:{pages:Array,current_page_id:String},components:{},data(){return{show_confirm_move:!1,page_id_to_move_to:void 0}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{all_pages_in_select(){return this.pages.map(((t,e)=>({key:t.id,text:e+1})))}},methods:{setNewPage(t){this.page_id_to_move_to=t},submit(){this.$emit("submit",this.page_id_to_move_to),this.show_confirm_move=!1}}},G=V,U=(0,h.Z)(G,Y,Z,!1,null,"42602880",null),q=U.exports,J={props:{can_edit:Boolean,pages:Array,active_page_number:Number,active_spread_index:[Boolean,Number],scale:Number,show_grid:Boolean,snap_to_grid:Boolean,gridstep_in_mm:Number,layout_mode:{type:String,default:"print"},page_color:String,pagination:[Boolean,Object],publication_path:String,page_modules:Array,page_opened_id:String,active_module:[Boolean,Object],display_as_public:Boolean},components:{DepthInput:H,ModuleCreator:R.Z,MoveToPage:q},data(){return{show_page_options:!1,show_all_medias:!1,has_editor_toolbar:!1}},created(){},mounted(){this.$eventHub.$on("module.text_editing_enabled",this.displayToolbar),this.$eventHub.$on("module.text_editing_disabled",this.removeToolbar),this.$eventHub.$on("module.open_remove_modal",this.openRemoveModal)},beforeDestroy(){this.$eventHub.$off("module.moveToolbar",this.displayToolbar),this.$eventHub.$off("module.text_editing_disabled",this.removeToolbar),this.$eventHub.$off("module.open_remove_modal",this.openRemoveModal)},watch:{},computed:{module_meta_filename(){return this.active_module?this.active_module.$path.substring(this.active_module.$path.lastIndexOf("/")+1):""},is_shape(){return this.active_module&&["ellipsis","line","arrow","rectangle"].includes(this.active_module.module_type)},unit(){return"screen"===this.layout_mode?"px":"mm"},has_pagination(){return this.active_page_number-this.pagination.pagination_start_on_page>=0},hide_pagination(){return!0===this.pages[this.active_page_number].hide_pagination},new_module_meta(){const t=Math.max(...this.page_modules.map((t=>t.z_index||0)))+1;let e=this.$root.default_new_module_left,i=this.$root.default_new_module_top;return this.gridstep_in_mm,{page_id:this.page_opened_id,x:e,y:i,width:this.$root.default_new_module_width,height:this.$root.default_new_module_height,rotation:0,margins:0,opacity:1,outline_width:0,z_index:t}}},methods:{displayToolbar(t){this.has_editor_toolbar=!0,this.$nextTick((()=>{this.$refs.editor_toolbar&&this.$refs.editor_toolbar.append(t)}))},removeToolbar(){this.has_editor_toolbar=!1},openRemoveModal(){this.$refs.removeMenu.show_confirm_delete=!0},enableModuleEdit({meta_filenames:t}){const e=t.at(-1);setTimeout((()=>{this.$eventHub.$emit(`module.enable_edit.${e}`),this.$eventHub.$emit(`module.panTo.${e}`)}),150)},changeModulePage(){this.$eventHub.$emit(`module.move.${this.module_meta_filename}`)},duplicateModule(){this.$eventHub.$emit(`module.duplicate.${this.module_meta_filename}`)},removeModule(){this.$eventHub.$emit(`module.remove.${this.module_meta_filename}`),this.$eventHub.$emit("module.setActive",!1)},setActive(t){this.$eventHub.$emit("module.setActive",t),t&&this.$nextTick((()=>{const e=this.getFilename(t);this.$eventHub.$emit(`module.panTo.${e}`)}))},async updateMediaPubliMeta(t){this.active_module&&await this.$api.updateMeta({path:this.active_module.$path,new_meta:t}).catch((t=>{throw this.$alertify.delay(4e3).error(t),t}))}}},Q=J,K=(i(29260),(0,h.Z)(Q,O,B,!1,null,"39f5a470",null)),tt=K.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vue-infinite-viewer",t._b({ref:"viewer",staticClass:"viewer",on:{scroll:t.onScroll,dragStart:t.dragStart,dragEnd:t.dragEnd,pinchStart:t.pinchStart,abortPinch:t.abortPinch,pinch:t.pinch}},"vue-infinite-viewer",t.viewerOptions,!1),[i("div",{staticClass:"viewport"},[t._t("default")],2)])},it=[],nt=(i(21703),i(81299),"function"),ot="object",st="string",at="undefined",rt=(typeof document!==at&&document,[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}]),lt={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function ct(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var s=arguments[e],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}function dt(t){return typeof t===at}function ut(t){return t&&typeof t===ot}function ht(t){return Array.isArray(t)}function pt(t){return typeof t===st}function gt(t){return typeof t===nt}function mt(t,e){var i=""===t||" "==t,n=""===e||" "==e;return n&&i||t===e}function ft(t,e,i,n,o){var s=vt(t,e,i);return s?i:_t(t,e,i+1,n,o)}function vt(t,e,i){if(!t.ignore)return null;var n=e.slice(Math.max(i-3,0),i+3).join("");return new RegExp(t.ignore).exec(n)}function _t(t,e,i,n,o){for(var s,a=function(i){var a=e[i].trim();if(a===t.close&&!vt(t,e,i))return{value:i};var r=i,l=St(o,(function(t){var e=t.open;return e===a}));if(l&&(r=ft(l,e,i,n,o)),-1===r)return s=i,"break";i=r,s=i},r=i;r<n;++r){var l=a(r);if(r=s,"object"===typeof l)return l.value;if("break"===l)break}return-1}function bt(t,e){var i=pt(e)?{separator:e}:e,n=i.separator,o=void 0===n?",":n,s=i.isSeparateFirst,a=i.isSeparateOnlyOpenClose,r=i.isSeparateOpenClose,l=void 0===r?a:r,c=i.openCloseCharacters,d=void 0===c?rt:c,u=d.map((function(t){var e=t.open,i=t.close;return e===i?e:e+"|"+i})).join("|"),h="(\\s*"+o+"\\s*|"+u+"|\\s+)",p=new RegExp(h,"g"),g=t.split(p).filter(Boolean),m=g.length,f=[],v=[];function _(){return!!v.length&&(f.push(v.join("")),v=[],!0)}for(var b,y=function(e){var i=g[e].trim(),n=e,r=St(d,(function(t){var e=t.open;return e===i})),c=St(d,(function(t){var e=t.close;return e===i}));if(r){if(n=ft(r,g,e,m,d),-1!==n&&l)return _()&&s?(b=e,"break"):(f.push(g.slice(e,n+1).join("")),e=n,s?(b=e,"break"):(b=e,"continue"))}else{if(c&&!vt(c,g,e)){var u=ct(d);return u.splice(d.indexOf(c),1),{value:bt(t,{separator:o,isSeparateFirst:s,isSeparateOnlyOpenClose:a,isSeparateOpenClose:l,openCloseCharacters:u})}}if(mt(i,o)&&!a)return _(),s?(b=e,"break"):(b=e,"continue")}-1===n&&(n=m-1),v.push(g.slice(e,n+1).join("")),e=n,b=e},w=0;w<m;++w){var x=y(w);if(w=b,"object"===typeof x)return x.value;if("break"===x)break}return v.length&&f.push(v.join("")),f}function yt(t){return bt(t,",")}function wt(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var i=e[1],n=e[2],o=e[3];return{prefix:i,unit:o,value:parseFloat(n)}}function xt(t){return t.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()}))}function Ct(){return Date.now?Date.now():(new Date).getTime()}function kt(t,e,i){void 0===i&&(i=-1);for(var n=t.length,o=0;o<n;++o)if(e(t[o],o,t))return o;return i}function St(t,e,i){var n=kt(t,e);return n>-1?t[n]:i}function Mt(t,e){var i=wt(t),n=i.value,o=i.unit;if(ut(e)){var s=e[o];if(s){if(gt(s))return s(n);if(lt[o])return lt[o](n,s)}}else if("%"===o)return n*e/100;return lt[o]?lt[o](n):n}function Et(t,e,i){return Math.max(e,Math.min(t,i))}function Pt(t,e){if(!e)return t;var i=1/e;return Math.round(t/e)/i}function zt(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function $t(t,e,i,n){t.addEventListener(e,i,n)}function Dt(t,e,i,n){t.removeEventListener(e,i,n)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var At=function(){return At=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},At.apply(this,arguments)};function Tt(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<i;e++)for(var s=arguments[e],a=0,r=s.length;a<r;a++,o++)n[o]=s[a];return n}var Lt=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(ut(t))for(var i in t)this.on(i,t[i]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(ut(t))for(var i in t)this.off(i);else if(e){var n=this._events[t];if(n){var o=kt(n,(function(t){return t.listener===e}));o>-1&&n.splice(o,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var i=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){i._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var i=this;void 0===e&&(e={});var n=this._events[t];if(!t||!n)return!0;var o=!1;return e.eventType=t,e.stop=function(){o=!0},e.currentTarget=this,Tt(n).forEach((function(n){n.listener(e),n.once&&i.off(t,n.listener)})),!o},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,i){var n=this._events;n[t]=n[t]||[];var o=n[t];o.push(At({listener:e},i))},t}(),It=Lt,Ot=function(t,e){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},Ot(t,e)};function Bt(t,e){function i(){this.constructor=t}Ot(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var Rt=function(){return Rt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Rt.apply(this,arguments)};function Nt(t,e){var i=e[0]-t[0],n=e[1]-t[1],o=Math.atan2(n,i);return o>=0?o:o+2*Math.PI}function Ft(t){return Nt([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function Xt(t){return t.touches&&t.touches.length>=2}function Wt(t){return t?t.touches?Zt(t.touches):[Vt(t)]:[]}function jt(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function Ht(t,e,i){var n=i.length,o=Gt(t,n),s=o.clientX,a=o.clientY,r=o.originalClientX,l=o.originalClientY,c=Gt(e,n),d=c.clientX,u=c.clientY,h=Gt(i,n),p=h.clientX,g=h.clientY,m=s-d,f=a-u,v=s-p,_=a-g;return{clientX:r,clientY:l,deltaX:m,deltaY:f,distX:v,distY:_}}function Yt(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Zt(t){for(var e=Math.min(t.length,2),i=[],n=0;n<e;++n)i.push(Vt(t[n]));return i}function Vt(t){return{clientX:t.clientX,clientY:t.clientY}}function Gt(t,e){void 0===e&&(e=t.length);for(var i={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<e;++n){var o=t[n];i.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,i.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,i.clientX+=o.clientX,i.clientY+=o.clientY}return e?{clientX:i.clientX/e,clientY:i.clientY/e,originalClientX:i.originalClientX/e,originalClientY:i.originalClientY/e}:i}var Ut=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return t.prototype.getAngle=function(t){return void 0===t&&(t=this.prevClients),Ft(t)},t.prototype.getRotation=function(t){return void 0===t&&(t=this.prevClients),Ft(t)-Ft(this.startClients)},t.prototype.getPosition=function(t,e){void 0===t&&(t=this.prevClients);var i=Ht(t||this.prevClients,this.prevClients,this.startClients),n=i.deltaX,o=i.deltaY;return this.movement+=Math.sqrt(n*n+o*o),this.prevClients=t,i},t.prototype.getPositions=function(t){void 0===t&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map((function(i,n){return Ht([t[n]],[e[n]],[i])}))},t.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var i=Gt(t,this.length),n=Gt(this.prevClients,this.length),o=i.clientX-n.clientX,s=i.clientY-n.clientY;return Math.sqrt(o*o+s*s)+e},t.prototype.getDistance=function(t){return void 0===t&&(t=this.prevClients),Yt(t)},t.prototype.getScale=function(t){return void 0===t&&(t=this.prevClients),Yt(t)/Yt(this.startClients)},t.prototype.move=function(t,e){this.startClients.forEach((function(i){i.clientX-=t,i.clientY-=e})),this.prevClients.forEach((function(i){i.clientX-=t,i.clientY-=e}))},t}(),qt=["textarea","input"],Jt=function(t){function e(e,i){void 0===i&&(i={});var n=t.call(this)||this;n.options={},n.flag=!1,n.pinchFlag=!1,n.data={},n.isDrag=!1,n.isPinch=!1,n.isMouse=!1,n.isTouch=!1,n.clientStores=[],n.targets=[],n.prevTime=0,n.doubleFlag=!1,n._dragFlag=!1,n._isTrusted=!1,n._isMouseEvent=!1,n._isSecondaryButton=!1,n._preventMouseEvent=!1,n.onDragStart=function(t,e){if(void 0===e&&(e=!0),n.flag||!1!==t.cancelable){var i=n.options,o=i.container,s=i.pinchOutside,a=i.preventWheelClick,r=i.preventRightClick,l=i.preventDefault,c=i.checkInput,d=i.preventClickEventOnDragStart,u=i.preventClickEventOnDrag,h=i.preventClickEventByCondition,p=n.isTouch,g=!n.flag;if(n._isSecondaryButton=3===t.which||2===t.button,a&&(2===t.which||1===t.button)||r&&(3===t.which||2===t.button))return n.stop(),!1;if(g){var m=document.activeElement,f=t.target;if(f){var v=f.tagName.toLowerCase(),_=qt.indexOf(v)>-1,b=f.isContentEditable;if(_||b){if(c||m===f)return!1;if(m&&b&&m.isContentEditable&&m.contains(f))return!1}else if((l||"touchstart"===t.type)&&m){var y=m.tagName.toLowerCase();(m.isContentEditable||qt.indexOf(y)>-1)&&m.blur()}(d||u||h)&&$t(window,"click",n._onClick,!0)}n.clientStores=[new Ut(Wt(t))],n.flag=!0,n.isDrag=!1,n._isTrusted=e,n._dragFlag=!0,n.data={},n.doubleFlag=Ct()-n.prevTime<200,n._isMouseEvent=jt(t),!n._isMouseEvent&&n._preventMouseEvent&&(n._preventMouseEvent=!1);var w=n._preventMouseEvent||n.emit("dragStart",Rt(Rt({data:n.data,datas:n.data,inputEvent:t,isMouseEvent:n._isMouseEvent,isSecondaryButton:n._isSecondaryButton,isTrusted:e,isDouble:n.doubleFlag},n.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){n._dragFlag=!1}}));!1===w&&n.stop(),n._isMouseEvent&&n.flag&&l&&t.preventDefault()}if(!n.flag)return!1;var x=0;if(g?(n._attchDragEvent(),p&&s&&(x=setTimeout((function(){$t(o,"touchstart",n.onDragStart,{passive:!1})})))):p&&s&&Dt(o,"touchstart",n.onDragStart),n.flag&&Xt(t)){if(clearTimeout(x),g&&t.touches.length!==t.changedTouches.length)return;n.pinchFlag||n.onPinchStart(t)}}},n.onDrag=function(t,e){if(n.flag){var i=n.options.preventDefault;!n._isMouseEvent&&i&&t.preventDefault();var o=Wt(t),s=n.moveClients(o,t,!1);if(n._dragFlag){if(n.pinchFlag||s.deltaX||s.deltaY){var a=n._preventMouseEvent||n.emit("drag",Rt(Rt({},s),{isScroll:!!e,inputEvent:t}));if(!1===a)return void n.stop()}n.pinchFlag&&n.onPinch(t,o)}n.getCurrentStore().getPosition(o,!0)}},n.onDragEnd=function(t){if(n.flag){var e=n.options,i=e.pinchOutside,o=e.container,s=e.preventClickEventOnDrag,a=e.preventClickEventOnDragStart,r=e.preventClickEventByCondition,l=n.isDrag;(s||a||r)&&requestAnimationFrame((function(){n._allowClickEvent()})),r||a||!s||l||n._allowClickEvent(),n.isTouch&&i&&Dt(o,"touchstart",n.onDragStart),n.pinchFlag&&n.onPinchEnd(t);var c=(null===t||void 0===t?void 0:t.touches)?Wt(t):[],d=c.length;0!==d&&n.options.keepDragging?n._addStore(new Ut(c)):n.flag=!1;var u=n._getPosition(),h=Ct(),p=!l&&n.doubleFlag;n.prevTime=l||p?0:h,n.flag||(n._dettachDragEvent(),n._preventMouseEvent||n.emit("dragEnd",Rt({data:n.data,datas:n.data,isDouble:p,isDrag:l,isClick:!l,isMouseEvent:n._isMouseEvent,isSecondaryButton:n._isSecondaryButton,inputEvent:t,isTrusted:n._isTrusted},u)),n.clientStores=[],n._isMouseEvent||(n._preventMouseEvent=!0,requestAnimationFrame((function(){requestAnimationFrame((function(){n._preventMouseEvent=!1}))}))))}},n.onBlur=function(){n.onDragEnd()},n._allowClickEvent=function(){Dt(window,"click",n._onClick,!0)},n._onClick=function(t){n._allowClickEvent(),n._preventMouseEvent=!1;var e=n.options.preventClickEventByCondition;(null===e||void 0===e?void 0:e(t))||(t.stopPropagation(),t.preventDefault())},n._onContextMenu=function(t){var e=n.options;e.preventRightClick?n.onDragEnd(t):t.preventDefault()},n._passCallback=function(){};var o=[].concat(e);n.options=Rt({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},i);var s=n.options,a=s.container,r=s.events,l=s.checkWindowBlur;if(n.isTouch=r.indexOf("touch")>-1,n.isMouse=r.indexOf("mouse")>-1,n.targets=o,n.isMouse&&(o.forEach((function(t){$t(t,"mousedown",n.onDragStart),$t(t,"mousemove",n._passCallback)})),$t(a,"contextmenu",n._onContextMenu)),l&&$t(window,"blur",n.onBlur),n.isTouch){var c={passive:!1};o.forEach((function(t){$t(t,"touchstart",n.onDragStart,c),$t(t,"touchmove",n._passCallback,c)}))}return n}return Bt(e,t),e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(t,e,i,n){void 0===n&&(n=!0),this.flag&&(this.clientStores[0].move(t,e),n&&this.onDrag(i,!0))},e.prototype.move=function(t,e){var i=t[0],n=t[1],o=this.getCurrentStore(),s=o.prevClients;return this.moveClients(s.map((function(t){var e=t.clientX,o=t.clientY;return{clientX:e+i,clientY:o+n,originalClientX:e,originalClientY:o}})),e,!0)},e.prototype.triggerDragStart=function(t){this.onDragStart(t,!1)},e.prototype.setEventData=function(t){var e=this.data;for(var i in t)e[i]=t[i];return this},e.prototype.setEventDatas=function(t){return this.setEventData(t)},e.prototype.getCurrentEvent=function(t){return Rt(Rt({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var t=this,e=this.targets,i=this.options.container;this.off(),Dt(window,"blur",this.onBlur),this.isMouse&&(e.forEach((function(e){Dt(e,"mousedown",t.onDragStart)})),Dt(i,"contextmenu",this._onContextMenu)),this.isTouch&&(e.forEach((function(e){Dt(e,"touchstart",t.onDragStart)})),Dt(i,"touchstart",this.onDragStart)),this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(t){var e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var i=new Ut(Wt(t));this.pinchFlag=!0,this._addStore(i);var n=this.emit("pinchStart",Rt(Rt({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:t,isTrusted:this._isTrusted}));!1===n&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Rt(Rt({data:this.data,datas:this.data,movement:this.getMovement(e),angle:i.getAngle(e),rotation:i.getRotation(e),touches:i.getPositions(e),scale:i.getScale(e),distance:i.getDistance(e)},i.getPosition(e)),{inputEvent:t,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Rt(Rt({data:this.data,datas:this.data,isPinch:e,touches:i.getPositions()},i.getPosition()),{inputEvent:t}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(t,e,i){var n=this._getPosition(t,i),o=this.isDrag;(n.deltaX||n.deltaY)&&(this.isDrag=!0);var s=!1;return!o&&this.isDrag&&(s=!0),Rt(Rt({data:this.data,datas:this.data},n),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:s})},e.prototype._addStore=function(t){this.clientStores.splice(0,0,t)},e.prototype._getPosition=function(t,e){var i=this.getCurrentStore(),n=i.getPosition(t,e),o=this.clientStores.slice(1).reduce((function(t,e){var i=e.getPosition();return t.distX+=i.distX,t.distY+=i.distY,t}),n),s=o.distX,a=o.distY;return Rt(Rt({},n),{distX:s,distY:a})},e.prototype._attchDragEvent=function(){var t=this.options.container,e={passive:!1};this.isMouse&&($t(t,"mousemove",this.onDrag),$t(t,"mouseup",this.onDragEnd)),this.isTouch&&($t(t,"touchmove",this.onDrag,e),$t(t,"touchend",this.onDragEnd,e),$t(t,"touchcancel",this.onDragEnd,e))},e.prototype._dettachDragEvent=function(){var t=this.options.container;this.isMouse&&(Dt(t,"mousemove",this.onDrag),Dt(t,"mouseup",this.onDragEnd)),this.isTouch&&(Dt(t,"touchstart",this.onDragStart),Dt(t,"touchmove",this.onDrag),Dt(t,"touchend",this.onDragEnd),Dt(t,"touchcancel",this.onDragEnd))},e}(It);function Qt(t,e){return e.replace(/([^}{]*){/gm,(function(e,i){return i.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"}))}function Kt(t,e){return function(i){var n=i.prototype;t.forEach((function(t){e(n,t)}))}}function te(t){var e=5381,i=t.length;while(i)e=33*e^t.charCodeAt(--i);return e>>>0}var ee=te;function ie(t){return ee(t).toString(36)}function ne(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function oe(t,e,i){return i.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,i){var n=i.trim();return(n?yt(n):[""]).map((function(e){var i=e.trim();return 0===i.indexOf("@")?i:i.indexOf(":global")>-1?i.replace(/\:global/g,""):i.indexOf(":host")>-1?""+i.replace(/\:host/g,"."+t):i?"."+t+" "+i:"."+t})).join(", ")+" {"}))}function se(t,e,i,n){var o=document.createElement("style");return o.setAttribute("type","text/css"),o.setAttribute("data-styled-id",t),i.nonce&&o.setAttribute("nonce",i.nonce),o.innerHTML=oe(t,e,i),(n||document.head||document.body).appendChild(o),o}function ae(t){var e,i="rCS"+ie(t),n=0;return{className:i,inject:function(o,s){void 0===s&&(s={});var a,r=ne(o),l=0===n;return(r||l)&&(a=se(i,t,s,r)),l&&(e=a),r||++n,{destroy:function(){r?(r.removeChild(a),a=null):(n>0&&--n,0===n&&e&&(e.parentNode.removeChild(e),e=null))}}}}}var re=ae;function le(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n],n))return!0;return!1}function ce(t,e){for(var i=t.length,n=0;n<i;++n)if(e(t[n],n))return t[n];return null}function de(t){var e=t;if("undefined"===typeof e){if("undefined"===typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function ue(t,e){try{return new RegExp(t,"g").exec(e)}catch(i){return null}}function he(){if("undefined"===typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}function pe(t,e){var i=ue("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return i?i[3]:""}function ge(t){return t.replace(/_/g,".")}function me(t,e){var i=null,n="-1";return le(t,(function(t){var o=ue("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!o||t.brand)&&(i=t,n=o[3]||"-1",t.versionAlias?n=t.versionAlias:t.versionTest&&(n=pe(t.versionTest.toLowerCase(),e)||n),n=ge(n),!0)})),{preset:i,version:n}}function fe(t,e){var i={brand:"",version:"-1"};return le(t,(function(t){var n=ve(e,t);return!!n&&(i.brand=t.id,i.version=t.versionAlias||n.version,"-1"!==i.version)})),i}function ve(t,e){return ce(t,(function(t){var i=t.brand;return ue(""+e.test,i.toLowerCase())}))}var _e=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],be=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],ye=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],we=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],xe=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Ce(t){return!!me(we,t).preset}function ke(t){var e=de(t),i=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:Ce(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},s=me(_e,e),a=s.preset,r=s.version,l=me(xe,e),c=l.preset,d=l.version,u=me(be,e);if(n.chromium=!!u.preset,n.chromiumVersion=u.version,!n.chromium){var h=me(ye,e);n.webkit=!!h.preset,n.webkitVersion=h.version}return c&&(o.name=c.id,o.version=d,o.majorVersion=parseInt(d,10)),a&&(n.name=a.id,n.version=r,n.webview&&"ios"===o.name&&"safari"!==n.name&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:o,isMobile:i,isHints:!1}}function Se(t){var e=navigator.userAgentData,i=(e.uaList||e.brands).slice(),n=t&&t.fullVersionList,o=e.mobile||!1,s=i[0],a=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),r={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!fe(we,i).brand||Ce(de())},l={name:"unknown",version:"-1",majorVersion:-1};r.webkit=!r.chromium&&le(ye,(function(t){return ve(i,t)}));var c=fe(be,i);if(r.chromium=!!c.brand,r.chromiumVersion=c.version,!r.chromium){var d=fe(ye,i);r.webkit=!!d.brand,r.webkitVersion=d.version}var u=ce(xe,(function(t){return new RegExp(""+t.test,"g").exec(a)}));if(l.name=u?u.id:"",t&&(l.version=t.platformVersion),n&&n.length){var h=fe(_e,n);r.name=h.brand||r.name,r.version=h.version||r.version}else{var p=fe(_e,i);r.name=p.brand||r.name,r.version=p.brand&&t?t.uaFullVersion:p.version}return r.webkit&&(l.name=o?"ios":"mac"),"ios"===l.name&&r.webview&&(r.version="-1"),l.version=ge(l.version),r.version=ge(r.version),l.majorVersion=parseInt(l.version,10),r.majorVersion=parseInt(r.version,10),{browser:r,os:l,isMobile:o,isHints:!0}}function Me(t){return"undefined"===typeof t&&he()?Se():ke(t)}var Ee=Me,Pe=function(t,e){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},Pe(t,e)};function ze(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}Pe(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var $e=function(){return $e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$e.apply(this,arguments)};function De(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}function Ae(t,e,i){if(i||2===arguments.length)for(var n,o=0,s=e.length;o<s;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}var Te=Ee(),Le="safari"===Te.browser.name,Ie="infinite-viewer-",Oe="".concat(Ie,"wrapper"),Be="".concat(Ie,"scroll-area"),Re="".concat(Ie,"scroll-bar"),Ne="".concat(Ie,"horizontal-scroll-bar"),Fe="".concat(Ie,"vertical-scroll-bar"),Xe="".concat(Ie,"scroll-thumb"),We=re(Qt(Ie,"\n{\n    position: relative;\n    overscroll-behavior: none;\n}\n.wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    top: 0;\n    left: 0;\n    will-change: scroll-position;\n}\n.restrict-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n}\n.wrapper::-webkit-scrollbar {\n    display: none;\n}\n.scroll-area {\n    position:absolute;\n    top:0;\n    left:0;\n    transform-origin: 0 0;\n}\n.scroll-bar {\n    position:absolute;\n    width: 10px;\n    height: 10px;\n    box-sizing: border-box;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n}\n.horizontal-scroll-bar {\n    width: calc(100% - 20px);\n    right: 10px;\n    height: 14px;\n}\n.vertical-scroll-bar {\n    height: calc(100% - 20px);\n    bottom: 10px;\n    width: 14px;\n}\n.scroll-thumb {\n    position:relative;\n    opacity: 0.7;\n    background: #333;\n    border-radius: 3px;\n    left: 0px;\n    top: 0px;\n    z-index: 10;\n    width: 6px;\n    height: 6px;\n    transition: all ease 0.2s;\n}\n.horizontal-scroll-bar .scroll-thumb {\n    margin: 4px 0px;\n    transition-property: margin, height, border-radius;\n}\n.vertical-scroll-bar .scroll-thumb {\n    margin: 0px 4px;\n    transition-property: margin, width, border-radius;\n}\n.horizontal-scroll-bar:hover .scroll-thumb {\n    height: 10px;\n    margin: 2px 0px;\n    border-radius: 5px;\n}\n.vertical-scroll-bar:hover .scroll-thumb {\n    width: 10px;\n    margin: 0px 2px;\n    border-radius: 5px;\n}\n")),je={margin:500,threshold:100,zoom:1,zoomX:1,zoomY:1,rangeX:[-1/0,1/0],rangeY:[-1/0,1/0],rangeOffsetX:[0,0],rangeOffsetY:[0,0],wrapperElement:null,scrollAreaElement:null,horizontalScrollElement:null,verticalScrollElement:null,usePinch:!1,useAutoZoom:!1,useMouseDrag:!1,pinchThreshold:30,cspNonce:"",maxPinchWheel:1/0,wheelScale:.01,displayHorizontalScroll:!0,displayVerticalScroll:!0,useTransform:!0,useWheelPinch:!0,zoomRange:[.001,1/0],wheelPinchKey:"ctrl",useWheelScroll:Le,zoomOffsetX:"50%",zoomOffsetY:"50%",translateZ:0,useGesture:!0,useResizeObserver:!1,pinchDirection:"all",preventWheelClick:!0},He=function(t){return 1-Math.pow(1-t,3)},Ye={horizontal:{pos:"Left",coord:"X",size:"Width"},vertical:{pos:"Top",coord:"Y",size:"Height"}},Ze=We.className,Ve=["margin","threshold","zoomOffsetX","zoomOffsetY","zoom","zoomX","zoomY","rangeX","rangeY","rangeOffsetX","rangeOffsetY","usePinch","useMouseDrag","pinchThreshold","maxPinchWheel","wheelScale","displayVerticalScroll","displayHorizontalScroll","useWheelScroll","translateZ","useAutoZoom","wheelPinchKey","zoomRange","pinchDirection"],Ge=Ae(Ae([],Ve,!0),["preventWheelClick","useWheel","useGesture","cspNonce","wrapperElement","scrollAreaElement","verticalScrollElement","horizontalScrollElement","useResizeObserver","wheelContainer"],!1),Ue=["scroll","abortPinch","dragStart","dragEnd","pinchStart","pinch"],qe=["getScrollLeft","getScrollTop","getScrollWidth","getScrollHeight","getContainerWidth","getContainerHeight","getViewportWidth","getViewportHeight","getViewportScrollWidth","getViewportScrollHeight","scrollTo","scrollBy","zoomBy","scrollCenter","getContainer","getViewport","getWrapper","setZoom","getRangeX","getRangeY","resize","getZoom","getZoomX","getZoomY","getWheelContainer"],Je=1e-6;function Qe(t){var e=t.deltaX,i=t.deltaY,n=t.datas,o=Date.now(),s=n.speed;if(!s)return n.speed=[0,0],void(n.time=o);var a=o-n.time;n.speed=[s[0]/2+e/a,s[1]/2+i/a]}function Ke(t,e){var i=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return Math.abs(i/e)}function ti(t,e){var i=Ke(t,e);return[-t[0]/2*i,-t[1]/2*i]}function ei(t){return Math.abs(t)}function ii(t,e,i,n,o){var s=o||isFinite(i[0])?i[0]:Math.min(-1,Math.floor(t/e))*e-n,a=o||isFinite(i[1])?i[1]:Math.max(1,Math.ceil(t/e))*e+n;return[s,a]}function ni(t,e){return null!=t?t:e}function oi(t,e,i){var n=i.duration,o=i.easing||function(t){return 1-Math.pow(1-t,3)},s=Date.now(),a=s,r=function(){var i=Date.now(),l=i-s;n<l&&(l=n);var c=o(l/n),d=o((a-s)/n);a=i,t(c-d),l>=n||e(r)};e(r)}var si=function(t){function e(e,i){var n=t.call(this)||this;n.type=e,n.isAppend=!1,n.size=0,n.scrollSize=0,n.isHorizontal=!1,n.onWheel=function(t){var e=n.isHorizontal?t.deltaX:t.deltaY;e&&t.preventDefault(),n.trigger("scroll",{delta:e})};var o,s="horizontal"===e,a=i;return i?o=i.querySelector(".".concat(Xe)):(a=document.createElement("div"),o=document.createElement("div"),a.insertBefore(o,null),n.isAppend=!0),zt(a,s?Ne:Fe),zt(a,Re),zt(o,Xe),n.thumbElement=o,n.barElement=a,n.isHorizontal=s,n.gesto=new Jt(a,{container:window}).on("dragStart",(function(t){var e=t.inputEvent.target,i=t.datas,o=n.thumbElement===e;o||setTimeout((function(){requestAnimationFrame((function(){var e=n.thumbElement.getBoundingClientRect(),i=e[s?"left":"top"],o=e[s?"width":"height"],a=i+o,r=t[s?"clientX":"clientY"],l=r-a,c=r-i;if(!(0<=c&&l<=0)){n.scrollSize;var d=o/n.size*n.scrollSize,u=(0<l?l:c)/d,h=u*n.size;console.log(n.scrollSize,u,h),n.scrollBy(h)}}))}),100),i.isThumb=o,t.inputEvent.stopPropagation(),t.inputEvent.preventDefault()})).on("drag",(function(t){t.datas.isThumb&&n.scrollBy(n.isHorizontal?t.deltaX:t.deltaY)})),$t(n.barElement,"wheel",n.onWheel,{passive:!1}),n}ze(e,t);var i=e.prototype;return i.scrollBy=function(t){var e=t/this.size;this.trigger("scroll",{delta:this.scrollSize*e})},i.render=function(t,e,i){var n=i[0],o=i[1],s=Pt(ei(n)+o,.001),a=e+s,r=t&&s?"block":"none",l=this.isHorizontal?["X","width"]:["Y","height"],c=l[0],d=l[1],u=e/a,h=o/a/u;this.size=e,this.scrollSize=a,this.barElement.style.cssText="display: ".concat(r,";"),this.thumbElement.style.cssText+="".concat(d,": ").concat(100*u,"%;")+"transform: translate".concat(c,"(").concat(100*h,"%)")},i.destroy=function(){Dt(this.barElement,"wheel",this.onWheel),this.gesto.off(),this.off()},e}(It),ai=function(t){function e(e,i,n){void 0===i&&(i={}),void 0===n&&(n={});var o=t.call(this)||this;return o._containerElement=e,o.offsetX=0,o.offsetY=0,o.containerWidth=0,o.containerHeight=0,o.viewportWidth=0,o.viewportHeight=0,o.viewportScrollWidth=0,o.viewportScrollHeight=0,o.scrollLeft=0,o.scrollTop=0,o._scrollTimer=0,o._zoomTimer=0,o._viewportElement=null,o._wheelContainerElement=null,o.dragFlag=!1,o.isLoop=!1,o._tempScale=[1,1],o._tempRect=null,o._tempRectTimer=null,o._onDestroys=[],o._asLeft=0,o._asTop=0,o.resize=function(){var t=o._containerElement,e=t.offsetWidth,i=t.offsetHeight,n=o._viewportElement,s=n.offsetWidth,a=n.offsetHeight,r=n.scrollWidth,l=n.scrollHeight;o.containerWidth=e,o.containerHeight=i,o.viewportWidth=s,o.viewportHeight=a,o.viewportScrollWidth=Math.max(s,r),o.viewportScrollHeight=Math.max(s,l),o.render(),o._scrollBy(0,0)},o._onScroll=function(){var t=o.wrapperElement,e=t.scrollLeft,i=t.scrollTop,n=o.zoom,s=void 0===n?je.zoom:n,a=e-o.scrollLeft,r=i-o.scrollTop,l=o.getScrollLeft(),c=o.getScrollTop();o.isLoop&&(o.isLoop=!1),o.scrollLeft=e,o.scrollTop=i,o.scrollTo(l+a/s,c+r/s)},o.onWheel=function(t){var e=o.options,i=e.pinchDirection,n=e.maxPinchWheel||1/0,s=t["".concat(o.wheelPinchKey,"Key")]||t.ctrlKey;if(e.useWheelPinch&&s){var a=t.deltaY,r=a>=0?1:-1,l=Math.min(n,Math.abs(a));a=r*l;var c=-a,d=Math.max(1+c*(e.wheelScale||.01),Je);clearTimeout(o._tempRectTimer),o._tempRectTimer=window.setTimeout((function(){o._tempRect=null}),100),o._triggerPinch({distance:l,scale:d,rotation:0,zoom:o.zoom*d,zoomX:o.zoomX*("vertical"===i?1:d),zoomY:o.zoomY*("horizontal"===i?1:d),inputEvent:t,isWheel:!0,clientX:t.clientX,clientY:t.clientY,ratioX:0,ratioY:0})}else{if(!e.useWheelScroll)return;var u=t.deltaX;a=t.deltaY;t.shiftKey&&!u&&(u=a,a=0),o.scrollBy(u/o.zoomX,a/o.zoomY)}t.preventDefault()},o.onGestureStart=function(t){o._tempScale=[o.zoomX,o.zoomY],o._setClientRect(),t.preventDefault()},o.onGestureChange=function(t){if(t.preventDefault(),!o.gesto.isFlag()&&o._tempScale){var e=t.scale,i=o._tempScale[0],n=o._tempScale[1],s=o.options.pinchDirection;o._triggerPinch({distance:0,scale:e,rotation:t.rotation,inputEvent:t,isWheel:!0,zoom:(i+n)*e/2,zoomX:i*("vertical"===s?1:e),zoomY:n*("horizontal"===s?1:e),clientX:t.clientX,clientY:t.clientY,ratioX:0,ratioY:0})}else o._tempScale=[1,1]},o.onGestureEnd=function(){},i instanceof Element?(o._viewportElement=i,o.options=$e($e({},je),n)):(o._viewportElement=e.children[0],o.options=$e($e({},je),i)),o.init(),o}ze(e,t);var i=e.prototype;return i.getContainer=function(){return this._containerElement},i.getWheelContainer=function(){return this._wheelContainerElement},i.getViewport=function(){return this._viewportElement},i.getWrapper=function(){return this.wrapperElement},i.geScrollArea=function(){return this.scrollAreaElement},i.destroy=function(){this.off(),this.gesto.unset(),this.verticalScrollbar.destroy(),this.horizontalScrollbar.destroy(),this.injectResult.destroy();var t=this._containerElement;this._onDestroys.forEach((function(t){t()})),Dt(this.wrapperElement,"scroll",this._onScroll),Dt(this._wheelContainerElement,"wheel",this.onWheel),Dt(t,"gesturestart",this.onGestureStart),Dt(t,"gesturechange",this.onGestureChange),Dt(t,"gesturesend",this.onGestureEnd),this.gesto=null,this.injectResult=null,this._containerElement=null,this._viewportElement=null,this.options=null},i.getScrollTop=function(t){void 0===t&&(t={});var e=!1,i=!1;ut(t)?(e=t.range,i=t.absolute):e=t;var n=this.zoomY,o=this.scrollTop/n+this.offsetY+(e?ei(this.getRangeY()[0]):0);return i?o*n:o},i.getScrollLeft=function(t){void 0===t&&(t={});var e=!1,i=!1;ut(t)?(e=t.range,i=t.absolute):e=t;var n=this.zoomX,o=this.scrollLeft/n+this.offsetX+(e?ei(this.getRangeX()[0]):0);return i?o*n:o},i.getScrollWidth=function(t){var e=this._getScrollRangeX(),i=this.zoomX,n=this.containerWidth/i+ei(e[0])+e[1];return t?n:n*i},i.getScrollHeight=function(t){var e=this._getScrollRangeY(),i=this.zoomY,n=this.containerHeight/i+ei(e[0])+e[1];return t?n:n*i},i.scrollCenter=function(t){void 0===t&&(t={}),this.resize();var e=this.zoomX,i=this.zoomY,n=-(this.containerWidth/e-this.viewportWidth)/2,o=-(this.containerHeight/i-this.viewportHeight)/2;return t.absolute&&(n*=e,o*=i),!1===t.horizontal&&(n=this.getScrollLeft()),!1===t.vertical&&(o=this.getScrollTop()),this.scrollTo(n,o,t)},i.scrollBy=function(t,e,i){if(this._pauseScrollAnimation(),i&&i.duration)return this._startScrollAnimation([t,e],i),!0;var n=this.getScrollLeft(),o=this.getScrollTop();return(null===i||void 0===i?void 0:i.absolute)&&(n*=this.zoomX,o*=this.zoomY),this._scrollTo(n+t,o+e,i)},i.scrollTo=function(t,e,i){if(this._pauseScrollAnimation(),i&&i.duration){var n=this.getScrollLeft(),o=this.getScrollTop();return(null===i||void 0===i?void 0:i.absolute)&&(n*=this.zoomX,o*=this.zoomY),this.scrollBy(t-n,e-o,i)}return this._scrollTo(t,e,i)},i.zoomBy=function(t,e){this._pauseZoomAnimation();var i=ht(t)?t:[t,t],n=i[0],o=i[1];e&&e.duration?this._startZoomAnimation([n,o],e):this._setZoom([this.zoomX+n,this.zoomY+o],e)},i.setZoom=function(t,e){if(this._pauseZoomAnimation(),e&&e.duration){var i=ht(t)?t:[t,t],n=i[0],o=i[1];this._startZoomAnimation([n-this.zoomX,o-this.zoomY],e)}else this._setZoom(t,e)},i.getViewportWidth=function(){return this.viewportWidth},i.getViewportHeight=function(){return this.viewportWidth},i.getViewportScrollWidth=function(){return this.viewportScrollWidth},i.getViewportScrollHeight=function(){return this.viewportScrollHeight},i.getContainerWidth=function(){return this.containerWidth},i.getContainerHeight=function(){return this.containerHeight},i.getZoom=function(){return(this.zoomX+this.zoomY)/2},i.getZoomX=function(){return this.zoomX},i.getZoomY=function(){return this.zoomY},i.getRangeX=function(t,e){return this._getRangeCoord("horizontal",t,e)},i.getRangeY=function(t,e){return this._getRangeCoord("vertical",t,e)},i.init=function(){var t,e=this,i=this._containerElement,n=this.options,o=n.wrapperElement||i.querySelector(".".concat(Oe)),s=n.scrollAreaElement||i.querySelector(".".concat(Be)),a=n.horizontalScrollElement||i.querySelector(".".concat(Ne)),r=n.verticalScrollElement||i.querySelector(".".concat(Fe));o||(o=document.createElement("div"),o.insertBefore(this._viewportElement,null),i.insertBefore(o,null)),this.wrapperElement=o,s||(s=document.createElement("div"),o.insertBefore(s,o.firstChild)),this.scrollAreaElement=s,zt(i,Ze),zt(o,Oe),zt(s,Be),this.horizontalScrollbar=new si("horizontal",a),this.verticalScrollbar=new si("vertical",r),this.horizontalScrollbar.on("scroll",(function(t){e.scrollBy(t.delta/e.zoomX,0)})),this.verticalScrollbar.on("scroll",(function(t){e.scrollBy(0,t.delta/e.zoomY)})),this.horizontalScrollbar.isAppend&&i.insertBefore(this.horizontalScrollbar.barElement,null),this.verticalScrollbar.isAppend&&i.insertBefore(this.verticalScrollbar.barElement,null),this.injectResult=We.inject(i,{nonce:this.options.cspNonce});var l=n.wheelContainer,c=null;if(l&&(pt(l)?c=document.querySelector(l):l instanceof Node?c=l:("value"in l||"current"in l)&&(c=l.current||l.value)),c||(c=i),this._wheelContainerElement=c,this.gesto=new Jt(i,{container:window,events:["touch","mouse"],preventWheelClick:null===(t=this.options.preventWheelClick)||void 0===t||t}).on("dragStart",(function(t){var i=t.inputEvent,n=t.stop,o=t.datas;if(e.useMouseDrag||!t.isMouseEvent){e._pauseScrollAnimation(),e.dragFlag=!1;var s=e.trigger("dragStart",t);!1!==s?(i.preventDefault(),o.startEvent=i):n()}else n()})).on("drag",(function(t){!e.options.usePinch||t.isPinch||e.useMouseDrag&&t.isMouseEvent?(e.trigger("drag",$e($e({},t),{inputEvent:t.inputEvent})),Qe(t),e.scrollBy(-t.deltaX/e.zoomX,-t.deltaY/e.zoomY)):!e.dragFlag&&t.movement>n.pinchThreshold&&(e.dragFlag=!0,e.trigger("abortPinch",{inputEvent:t.datas.startEvent||t.inputEvent}))})).on("dragEnd",(function(t){e.trigger("dragEnd",{isDrag:t.isDrag,isDouble:t.isDouble,inputEvent:t.inputEvent}),e._startScrollAnimationBySpeed(t.datas.speed)})).on("pinchStart",(function(t){var i=t.inputEvent,n=t.datas,o=t.stop;i.preventDefault(),e._pauseScrollAnimation(),n.startZoom=[e.zoomX,e.zoomY];var s=e.trigger("pinchStart",{inputEvent:i});!1===s&&o(),e._setClientRect()})).on("pinch",(function(t){var i=t.scale,n=e.options.pinchDirection;e._triggerPinch({rotation:t.rotation,distance:t.distance,scale:t.scale,inputEvent:t.inputEvent,isWheel:!1,zoom:t.datas.startZoom*i,zoomX:e.zoomX*("vertical"===n?1:i),zoomY:e.zoomY*("horizontal"===n?1:i),clientX:t.clientX,clientY:t.clientY,ratioX:0,ratioY:0})})).on("pinchEnd",(function(){e._tempRect=null})),$t(o,"scroll",this._onScroll),n.useResizeObserver){var d=new ResizeObserver((function(){e.resize()}));d.observe(this._viewportElement),d.observe(this._containerElement),this._onDestroys.push((function(){d.disconnect()}))}else $t(window,"resize",this.resize),this._onDestroys.push((function(){Dt(window,"resize",e.resize)}));(n.useWheelPinch||n.useWheelScroll)&&$t(c,"wheel",this.onWheel,{passive:!1}),n.useGesture&&($t(i,"gesturestart",this.onGestureStart,{passive:!1}),$t(i,"gesturechange",this.onGestureChange,{passive:!1})),this.resize()},i.render=function(){var t=this,e=t.offsetX,i=t.offsetY,n=t.zoomX,o=void 0===n?je.zoomX:n,s=t.zoomY,a=void 0===s?je.zoomY:s,r=t.translateZ,l=void 0===r?0:r,c=(t.rangeX,t.rangeY,t.containerWidth,t.containerHeight,this.options.useTransform),d=void 0===c?je.useTransform:c,u=-e*o,h=-i*a;this.scrollAreaElement.style.cssText="width:calc(100% + ".concat(this.getScrollAreaWidth(),"px);")+"height:calc(100% + ".concat(this.getScrollAreaHeight(),"px);");var p=this._viewportElement.style;p.cssText+=!1===d?"position: relative; left: ".concat(u,"px; top: ").concat(h,"px; "):"transform-origin: 0 0;"+"transform:translate3d(".concat(u,"px, ").concat(h,"px, ").concat(l,"px) scale(").concat(o,", ").concat(a,");"),this.renderScroll()},i.renderScroll=function(){var t=this,e=t.containerWidth,i=t.containerHeight,n=t.zoomX,o=t.zoomY;this.horizontalScrollbar.render(this.displayHorizontalScroll,e/n,this._getScrollRangeX()),this.verticalScrollbar.render(this.displayVerticalScroll,i/o,this._getScrollRangeY())},i.move=function(t,e){var i=this.wrapperElement;i.scrollLeft=t,i.scrollTop=e},i._startZoomAnimation=function(t,e){var i=this;if(t){var n=e.duration,o=e.easing||He;oi((function(n){return i._setZoom([i.zoomX+t[0]*n,i.zoomY+t[1]*n],e)}),(function(t){i._zoomTimer=requestAnimationFrame(t)}),{easing:o,duration:n})}},i._startScrollAnimation=function(t,e){var i=this;if(t[0]||t[1]){var n=e.duration,o=e.easing||He;oi((function(n){return i._scrollBy(t[0]*n,t[1]*n,e)}),(function(t){i._scrollTimer=requestAnimationFrame(t)}),{easing:o,duration:n})}},i._startScrollAnimationBySpeed=function(t){if(t&&(t[0]||t[1])){var e=-6e-4,i=Ke(t,e),n=ti(t,e);return this._startScrollAnimation(n,{duration:i})}},i._pauseScrollAnimation=function(){cancelAnimationFrame(this._scrollTimer),this._scrollTimer=0},i._pauseZoomAnimation=function(){cancelAnimationFrame(this._zoomTimer),this._zoomTimer=0},i.getScrollAreaWidth=function(){var t=this.getRangeX(!0),e=t[0],i=t[1];return e||i?2*this.margin:0},i.getScrollAreaHeight=function(){var t=this.getRangeY(!0),e=t[0],i=t[1];return e||i?2*this.margin:0},i._triggerPinch=function(t){var e=t.clientX,i=t.clientY,n=t.zoomX,o=t.zoomY;this.useAutoZoom&&this._zoomByClient([n,o],e,i),this._tempRect||this._setClientRect();var s=this.zoomRange,a=this._tempRect,r=a.left,l=a.top,c=a.width,d=a.height,u=(e-r)/c*100,h=(i-l)/d*100;this.trigger("pinch",$e($e({},t),{zoom:Et((n+o)/2,s[0],s[1]),zoomX:Et(n,s[0],s[1]),zoomY:Et(o,s[0],s[1]),ratioX:u,ratioY:h}))},i._setClientRect=function(){var t=this.getContainer().getBoundingClientRect();this._tempRect={left:t.left,top:t.top,width:t.width,height:t.height}},i._zoomByClient=function(t,e,i){this._tempRect||this._setClientRect();var n=this._tempRect,o=n.left,s=n.top,a=n.width,r=n.height,l=this.options,c=l.zoomOffsetX,d=l.zoomOffsetY;l.zoomOffsetX="".concat((e-o)/a*100,"%"),l.zoomOffsetY="".concat((i-s)/r*100,"%"),this._setZoom(t,{zoomBase:"screen"}),l.zoomOffsetX=c,l.zoomOffsetY=d},i._setZoom=function(t,e){void 0===e&&(e={});var i=e.zoomBase,n=this,o=n.containerWidth,s=n.containerHeight,a=n.zoomX,r=n.zoomY,l=n.zoomRange,c=this,d=c.zoomOffsetX,u=void 0===d?je.zoomOffsetX:d,h=c.zoomOffsetY,p=void 0===h?je.zoomOffsetY:h;"zoomOffsetX"in e&&(u=e.zoomOffsetX),"zoomOffsetY"in e&&(p=e.zoomOffsetY);var g=this.getScrollLeft(),m=this.getScrollTop(),f=ht(t)?t:[t,t],v=f[0],_=f[1],b=Et(v,l[0],l[1]),y=Et(_,l[0],l[1]),w=this.options;w.zoomX=b,w.zoomY=y,w.zoom=(b+y)/2;var x=this.getScrollLeft(),C=this.getScrollTop(),k=0,S=0;"viewport"===i?(k=(-g+Mt("".concat(u),this.viewportWidth))*a,S=(-m+Mt("".concat(p),this.viewportHeight))*r):(k=Mt("".concat(u),o),S=Mt("".concat(p),s));var M=g+k/a,E=m+S/r,P=x+k/b,z=C+S/y;this._scrollBy(M-P,E-z,{zoom:!!(b-a||y-r)}),this.render()},i._scrollBy=function(t,e,i){var n=this.getScrollLeft(),o=this.getScrollTop();return(null===i||void 0===i?void 0:i.absolute)&&(n*=this.zoomX,o*=this.zoomY),this._scrollTo(n+t,o+e,i)},i._scrollTo=function(t,e,i){var n=this,o=this,s=o.scrollLeft,a=o.scrollTop,r=null===i||void 0===i?void 0:i.absolute;this._scrollToType("horizontal",t,r),this._scrollToType("vertical",e,r);var l=this.scrollLeft,c=this.scrollTop;this.render();var d=this.getScrollLeft(),u=this.getScrollTop();return this._emitScrollEvent(d,u,null===i||void 0===i?void 0:i.zoom),Math.round(s)===l&&Math.round(a)===c||(this.isLoop=!0,this.move(l,c),requestAnimationFrame((function(){if(n.isLoop){n.isLoop=!1;var t=n.wrapperElement,e=t.scrollLeft,i=t.scrollTop;n.scrollLeft=e,n.scrollTop=i,l===Math.round(e)&&c===Math.round(i)||n._scrollTo(d,u)}})),!1)},i._scrollToType=function(t,e,i){var n=Ye[t],o=this,s=o.margin,a=void 0===s?je.margin:s,r=o.threshold,l=void 0===r?je.threshold:r,c=this["scroll".concat(n.pos)],d=this["getRange".concat(n.coord)](!0,!0),u=d[0],h=d[1],p=Math.round(c),g=this["getScrollArea".concat(n.size)](),m=this["zoom".concat(n.coord)];i&&(e/=m);var f=e*m;if(u===h)p=u,e=u/m;else if(f-l<=u){var v=Math.max(0,f-u);p=v,e=(u+v)/m}else if(f+l>=h){var _=Math.max(0,h-f);p=g-_,e=(h-_)/m}else p<l?p+=a:p>g-l&&(p-=a);p=Math.round(p),this["scroll".concat(n.pos)]=p,this["offset".concat(n.coord)]=e-p/m},i._getRangeCoord=function(t,e,i){var n=this,o=n.margin,s=void 0===o?je.margin:o,a=n.threshold,r=Ye[t],l=ni(this["range".concat(r.coord)],je["range".concat(r.coord)]),c=ni(this["rangeOffset".concat(r.coord)],je["rangeOffset".concat(r.coord)]),d=this["zoom".concat(r.coord)],u=ii(this["getScroll".concat(r.pos)](),s,l,a,i);return e?[u[0]*d+c[0],u[1]*d+c[1]]:[u[0]+c[0],u[1]+c[1]]},i._emitScrollEvent=function(t,e,i){var n=this._asLeft,o=this._asTop;(i||n!==t||o!==e)&&(this._asLeft=t,this._asTop=e,this.trigger("scroll",{scrollLeft:t,scrollTop:e,zoomX:this.zoomX,zoomY:this.zoomY}))},i._getScrollRangeX=function(){var t=this.getScrollLeft(),e=Math.min(0,t),i=Math.max(0,t),n=this.viewportScrollWidth,o=Math.max(this.containerWidth/this.zoomX,n)-n,s=Math.min(0,o+e);return[s,i]},i._getScrollRangeY=function(){var t=this.getScrollTop(),e=Math.min(0,t),i=Math.max(0,t),n=this.viewportScrollHeight,o=Math.max(this.containerHeight/this.zoomY,n)-n,s=Math.min(0,o+e);return[s,i]},e=De([Kt(Ve,(function(t,e){var i={enumerable:!0,configurable:!0,get:function(){return this.options[e]}},n=xt("set ".concat(e));t[n]?i.set=function(t){this[n](t)}:i.set=function(t){this.options[e]=t},Object.defineProperty(t,e,i)}))],e),e}(It),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ze(e,t),e}(ai),li=ri,ci=function(){return ci=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ci.apply(this,arguments)},di={};qe.forEach((function(t){di[t]=function(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return(e=this.infiniteViewer)[t].apply(e,i)}}));var ui={name:"infinite-viewer",methods:di,props:Ge,mounted:function(){var t=this,e={},i=this.$props;Ge.forEach((function(t){var n=i[t];dt(n)||(e[t]=i[t])}));var n=this.$refs;this.infiniteViewer=new li(n.containerElement,n.scrollAreaElement.nextElementSibling,ci(ci({},e),{wrapperElement:n.wrapperElement,scrollAreaElement:n.scrollAreaElement,horizontalScrollElement:n.horizontalScrollElement,verticalScrollElement:n.verticalScrollElement}));var o=this.infiniteViewer;Ue.forEach((function(e){o.on(e,(function(i){t.$emit(e,ci({},i))}))}))},updated:function(){var t=this.$props,e=this.infiniteViewer;Ve.forEach((function(i){var n=t[i];e[i]===n||dt(n)||(e[i]=t[i])}))},beforeDestroy:function(){this.infiniteViewer.destroy()}};function hi(t,e,i,n,o,s,a,r,l,c){"boolean"!==typeof a&&(l=r,r=a,a=!1);const d="function"===typeof i?i.options:i;let u;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),n&&(d._scopeId=n),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=u):e&&(u=a?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(d.functional){const t=d.render;d.render=function(e,i){return u.call(i),t(e,i)}}else{const t=d.beforeCreate;d.beforeCreate=t?[].concat(t,u):[u]}return i}const pi=ui;var gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"containerElement"},[i("div",{ref:"wrapperElement"},[i("div",{ref:"scrollAreaElement"}),t._v(" "),t._t("default")],2),t._v(" "),i("div",{ref:"horizontalScrollElement"},[i("div",{staticClass:"infinite-viewer-scroll-thumb"})]),t._v(" "),i("div",{ref:"verticalScrollElement"},[i("div",{staticClass:"infinite-viewer-scroll-thumb"})])])},mi=[];gi._withStripped=!0;const fi=void 0,vi=void 0,_i=void 0,bi=!1,yi=hi({render:gi,staticRenderFns:mi},fi,pi,vi,bi,_i,!1,void 0,void 0,void 0);var wi={props:{scale:Number},components:{VueInfiniteViewer:yi},data(){return{viewerOptions:{useMouseDrag:!0,useWheelScroll:!0,useAutoZoom:!0,zoomRange:[.1,10],maxPinchWheel:10,displayVerticalScroll:!0,displayHorizontalScroll:!0},scroll_left:void 0,scroll_top:void 0,debounce_zoom:void 0,debounce_scroll:void 0}},created(){},mounted(){this.$nextTick((()=>{this.scrollToCorner({animate:!1})})),this.$eventHub.$on("panzoom.panTo",this.panTo)},beforeDestroy(){this.$eventHub.$off("panzoom.panTo",this.panTo)},watch:{scale(){this.updateScale(this.scale)}},computed:{},methods:{onScroll(){this.debounce_scroll&&clearTimeout(this.debounce_scroll),this.debounce_scroll=setTimeout((async()=>{}),500)},dragStart(){console.log("dragStart")},dragEnd(t){console.log("dragEnd"),t.isDrag||this.disableActiveModule()},pinchStart(){console.log("pinchStart")},abortPinch(){console.log("abortPinch")},pinch(){this.debounce_zoom&&clearTimeout(this.debounce_zoom),this.debounce_zoom=setTimeout((async()=>{const t=this.$refs.viewer.getZoom();t!==this.scale&&this.$emit("update:scale",t)}),500)},panTo({x:t,y:e}){this.scrollToCorner({x:t,y:e,animate:!0})},scrollToCorner({x:t,y:e,animate:i}){const n=i?{duration:200}:void 0,o=document.querySelector("._sideCont")?.offsetWidth||280,s=80;let a=(t||0)+-(o+s)/this.scale,r=(e||0)+-s/this.scale;this.$refs.viewer.scrollTo(a,r,n)},updateScale(t){if(t!==this.$refs.viewer.getZoom()){const e=document.querySelector("._sideCont")?.offsetWidth||280;this.$refs.viewer.setZoom(t,{duration:200,zoomBase:"viewport",zoomOffsetX:e,zoomOffsetY:50})}},disableActiveModule(){this.$eventHub.$emit("module.setActive",!1)}}},xi=wi,Ci=(i(92795),(0,h.Z)(xi,et,it,!1,null,"7cc350e4",null)),ki=Ci.exports,Si={props:{page_opened_id:String,publication_path:String,publication_title:String,pages:Array,spreads:[Boolean,Array],modules:Array,is_spread:Boolean,page_width:Number,page_height:Number,layout_mode:String,margins:Object,pagination:[Boolean,Object],can_edit:Boolean},components:{PageMenu:tt,SinglePage:T.Z,PanZoom2:ki},data(){return{scale:1,page_settings:{show_grid:!1,snap_to_grid:!1,gridstep_in_mm:10},display_as_public:!1,active_module_path:!1}},created(){this.$eventHub.$on("module.setActive",this.setActiveModule),document.addEventListener("keydown",this.keyPressed),this.$root.default_new_module_top=15,this.$root.default_new_module_left=15,this.loadSettings()},mounted(){},beforeDestroy(){this.$eventHub.$off("module.setActive",this.setActiveModule),document.removeEventListener("keydown",this.keyPressed)},watch:{page_opened_id(){this.$nextTick((()=>{}))},page_settings:{handler(){this.saveSettings()},deep:!0}},computed:{active_module(){return!!this.active_module_path&&this.modules.find((t=>t.$path===this.active_module_path))},active_module_meta_filename(){return this.active_module.$path.substring(this.active_module.$path.lastIndexOf("/")+1)},active_page_number(){return this.pages.findIndex((t=>t.id===this.page_opened_id))},current_page(){return this.pages.find((t=>t.id===this.page_opened_id))},previous_page(){return this.pages[this.active_page_number-1]},next_page(){return this.pages[this.active_page_number+1]},active_spread(){return this.spreads[this.active_spread_index]},active_spread_index(){return this.is_spread&&this.spreads.findIndex((t=>t.find((t=>t&&t.id===this.page_opened_id))))}},methods:{loadSettings(){const t=localStorage.getItem(`publication.page_settings.${this.publication_path}`);t&&(this.page_settings=JSON.parse(t))},saveSettings(){localStorage.setItem(`publication.page_settings.${this.publication_path}`,JSON.stringify(this.page_settings))},keyPressed(t){if(this.$root.modal_is_opened||"input"===t.target.tagName.toLowerCase()||"textarea"===t.target.tagName.toLowerCase()||t.target.className.includes("ql-editor")||t.target.hasAttribute("contenteditable"))return;let e="";"Backspace"!==t.key&&"Delete"!==t.key||(e="remove",this.$eventHub.$emit("module.open_remove_modal")),e&&t.preventDefault()},setActiveModule(t){this.active_module_path=t},prevPage(){const t=this.active_page_number-1;this.setPageActive(this.pages[t].id)},nextPage(){const t=this.active_page_number+1;this.setPageActive(this.pages[t].id)},setPageActive(t){this.setActiveModule(!1),this.$emit("togglePage",t)},prevSpread(){const t=this.spreads[this.active_spread_index-1],e=t[1].id;this.setPageActive(e)},nextSpread(){const t=this.spreads[this.active_spread_index+1],e=t[0].id;this.setPageActive(e)}}},Mi=Si,Ei=(i(48349),(0,h.Z)(Mi,L,I,!1,null,"743c3150",null)),Pi=Ei.exports,zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_label"},[i("div",{staticClass:"u-sameRow"},[i("b",{},[t._v(t._s(t.$t("page"))+" "+t._s(t.index+1))]),t.can_edit?i("EditBtn",{on:{click:function(e){t.edit_mode=!t.edit_mode}}}):t._e()],1),t.edit_mode?i("div",{staticClass:"u-sameRow"},[i("select",{attrs:{size:"small"},domProps:{value:t.index},on:{change:function(e){t.$emit("movePage",{old_position:t.index,new_position:+e.target.value}),t.edit_mode=!1}}},t._l(t.number_of_pages,(function(e){return i("option",{key:e-1,domProps:{value:e-1,textContent:t._s(e)}})})),0),i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.$emit("duplicatePage"),t.edit_mode=!1}}},[i("sl-icon",{attrs:{name:"clipboard2-plus"}})],1)]),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove_page_and_content"),show_button_text:!1},on:{remove:function(e){return t.$emit("removePage")}}}):t._e()],1):t._e()])},$i=[],Di={props:{index:Number,number_of_pages:Number,can_edit:Boolean},components:{},data(){return{edit_mode:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},Ai=Di,Ti=(i(20447),(0,h.Z)(Ai,zi,$i,!1,null,"6a064fcf",null)),Li=Ti.exports,Ii={props:{publication:Object,page_opened_id:String,can_edit:Boolean},components:{SinglePage:T.Z,OpenedPageOrSpread:Pi,PageLabel:Li},provide(){return{$getMetaFilenamesAlreadyPresent:()=>this.meta_filenames_already_present}},data(){return{is_creating_page:!1}},i18n:{messages:{fr:{on_this_page:"Sur cette page",on_other_pages:"Sur dâautres pages"},en:{on_this_page:"On this page",on_other_pages:"On other pages"}}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{pages(){return this.publication.pages},modules(){return this.publication.$files||[]},is_spread(){return!0===this.publication.page_spreads},page_preview_zoom(){return this.calculateZoomToFit({width:this.publication.page_width,height:this.publication.page_height,desired_largest_dimension:200,magnification:"screen"===this.publication.layout_mode?1:this.$root.page_magnification})},spreads(){return!!this.is_spread&&this.makeSpread({pages:this.pages})},margins(){return{left:this.publication.page_margin_left||0,right:this.publication.page_margin_right||0,top:this.publication.page_margin_top||0,bottom:this.publication.page_margin_bottom||0}},pagination(){return this.setPaginationFromPublication(this.publication)},meta_filenames_already_present(){const t=[],e=[];return this.pages.map((i=>{const n=i.id,o=n===this.page_opened_id,s=this.getModulesForPage({modules:this.modules,page_id:n});s.map((i=>{i?.source_medias&&Array.isArray(i.source_medias)&&i.source_medias.map((i=>{i.meta_filename_in_project&&(o?t.push(i.meta_filename_in_project):e.push(i.meta_filename_in_project))}))}))})),[{label:this.$t("on_this_page"),medias:t,color:"var(--c-orange)"},{label:this.$t("on_other_pages"),medias:e,color:"var(--c-bleuvert)"}]}},methods:{async createPage(){this.is_creating_page=!0;const t=this.generatePageID();let e=this.publication.pages?this.publication.pages.slice():[];e.push({id:t,page_color:"white"}),await this.updatePubliMeta({pages:e}),await new Promise((t=>setTimeout(t,500))),this.is_creating_page=!1},removePage(t){let e=this.publication.pages.slice();e=e.filter((e=>e.id!==t)),this.updatePubliMeta({pages:e})},async duplicatePage(t){let e=this.generatePageID();const i=this.publication.pages.reduce(((i,n)=>{if(i.push(n),n.id===t){const t=JSON.parse(JSON.stringify(n));t.id=e,i.push(t)}return i}),[]);await this.updatePubliMeta({pages:i});const n=this.getModulesForPage({modules:this.modules,page_id:t});if(0===n.length)return;const o={page_id:e};for(const s of n)await this.duplicateModuleWithSourceMedias({og_module:s,addtl_meta_to_module:o})},movePage({old_position:t,new_position:e}){let i=this.publication.pages.slice();function n(t,e,i){if(i>=t.length){var n=i-t.length+1;while(n--)t.push(void 0)}return t.splice(i,0,t.splice(e,1)[0]),t}n(i,t,e),this.updatePubliMeta({pages:i})},generatePageID(){return(Math.random().toString(36)+"00000000000000000").slice(2,8)},async updatePageOptions({page_number:t,value:e}){let i=this.publication.pages.slice();Object.assign(i[t],e),this.updatePubliMeta({pages:i})},async updatePubliMeta(t){return await this.$api.updateMeta({path:this.publication.$path,new_meta:t})}}},Oi=Ii,Bi=(i(86883),(0,h.Z)(Oi,D,A,!1,null,"ecbd0da8",null)),Ri=Bi.exports,Ni={props:{publication:Object,page_opened_id:String,can_edit:Boolean},components:{PublicationSettings:s.Z,PageSettings:$,PagesList:Ri},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},Fi=Ni,Xi=(i(71236),(0,h.Z)(Fi,n,o,!1,null,"4b3ab1ce",null)),Wi=Xi.exports},1148:function(t,e,i){"use strict";i.d(e,{Z:function(){return M}});i(26699),i(57658),i(21703);class n{constructor(t){this._values=t}toString(){return`Vector(${this._values.join(", ")})`}get length(){return this._values.length}dot(t){if(t instanceof n&&this.length===t.length)return this._values.map(((e,i)=>e*t._values[i])).reduce(((t,e)=>t+e));throw Error("The param `vector` must instance of Vector")}get(t){return this._values[t]}}var o=n;class s{constructor(t){this._values=t}static zeros(t){return new s(new Array(t[0]).fill(null).map((()=>new Array(t[1]).fill(0))))}valueOf(){return JSON.parse(JSON.stringify(this._values))}toString(){return"Matrix ( "+this._values.map((t=>t.join(" "))).join(", ")+" )"}rows(){return this._values.length}cols(){return this._values[0].length}rowVector(t){return new o(this._values[t].slice(0))}colVector(t){let e=new Array(this.rows()).fill(0);return this._values.forEach(((i,n)=>{e[n]=i[t]})),new o(e)}dot(t){if(t instanceof o&&this.cols()===t.length)return new o(new Array(t.length).fill(null).map(((e,i)=>this.rowVector(i).dot(t))));if(t instanceof s&&this.cols()===t.rows()){let e,i=t.cols(),n=t.rows(),o=s.zeros([n,i]);for(let s=0;s<i;s++){e=this.dot(t.colVector(s));for(let t=0;t<n;t++)o._values[t][s]=e.get(t)}return o}throw Error("expected a Vector or Matrix but got "+typeof t)}get(t,e){return this._values[t][e]}T(){return new s(new Array(this.cols()).fill(null).map(((t,e)=>new Array(this.rows()).fill(0).map(((t,i)=>this.get(i,e))))))}}var a=s;const r={br:0,bm:1,bl:2,l:3,tl:4,tm:5,tr:6,r:7},l={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7},c={br:0,bm:0,bl:2,l:2,tl:4,tm:4,tr:6,r:6},d={l:1,r:1},u={tm:1,bm:1},h={tr:1,bl:1,r:1,l:1};function p(t){return t*Math.PI/180}function g(t){return 180*t/Math.PI}function m({x:t,y:e,width:i,height:n,rotation:o},s){let r=o*Math.PI/180,l=i/2*s,c=n/2*s,d=new a([[Math.cos(r),Math.sin(r)],[-Math.sin(r),Math.cos(r)]]),u=new a([[-l,c],[0,c],[l,c],[l,0],[l,-c],[0,-c],[-l,-c],[-l,0]]);return d.dot(u.T()).T().valueOf().map((i=>({x:i[0]+l+t*s,y:-(i[1]-c)+e*s})))}function f({type:t,x:e,y:i,dis:n,pressAngle:o,startAngle:s}){let a,r,l=g(Math.atan2(i,e)),c=p(o+l-s);return h[t]?(r=Math.cos(c)*n,a=Math.sin(c)*n):(r=Math.sin(c)*n,a=Math.cos(c)*n),{w:a,h:r}}const v=["nw","n","ne","e","se","s","sw","w"],_={tl:0,tm:1,tr:2,r:3,br:4,bm:5,bl:6,l:7};function b(t,e){let i=_[t],n=(i+Math.floor(e/45))%8;return v[n]}var y,w,x={name:"ddr",props:{value:{default:function(){return{x:0,y:0,width:100,height:100,rotation:0}},type:Object},handlerSize:{type:Number,default:11},active:{default:!0,type:Boolean},resizeHandler:{default:function(){return["tl","tm","tr","r","br","bm","bl","l"]},type:Array},resizable:{default:!0,type:Boolean},rotatable:{default:!0,type:Boolean},draggable:{default:!0,type:Boolean},acceptRatio:{default:!1,type:Boolean},minWidth:{type:Number,default:1},minHeight:{type:Number,default:1},maxWidth:{type:Number,default:1e8},maxHeight:{type:Number,default:1e8},parent:{type:Boolean,default:!1},beforeActive:{type:Function,default:()=>!1},id:[Number,String],renderContent:Function,grid:{type:Array,default:()=>[1,1]},stop:{default:!0,type:Boolean},prevent:{default:!0,type:Boolean},zoom:{default:1,type:Number},axis:{type:String,default:"xy"}},data(){return{transform:Object.assign({},this.value),currentRatio:1,isInitialRatio:!1,isDragging:!1,isResizing:!1,isRotating:!1,isReadyToDrag:!1,isReadyToResize:!1,isReadyToRotate:!1}},created(){this.localeTransform={...this.transform}},watch:{value(t){this.transform={...t}}},computed:{rotateHandler(){let t=Math.ceil(this.handlerSize/this.zoom)+"px";return`width:${t};height:${t};top:-25px;margin-left:${-Math.floor(this.handlerSize/2)}px`},style(){let t=this.transform;return`left:${t.x}px;top:${t.y}px;width:${t.width}px;height:${t.height}px;transform:rotate(${t.rotation}deg)`}},methods:{handleDefaultEvent(t){this.stop&&t.stopPropagation(),this.prevent&&t.preventDefault()},getNewHandler(t){let e=b(t,this.transform.rotation),{handlerSize:i}=this,n={},o=-Math.floor(i/2)+"px";switch(t){case"tl":n={top:o,left:o};break;case"tm":n={top:o,"margin-left":o};break;case"tr":n={right:o,top:o};break;case"r":n={right:o,"margin-top":o};break;case"br":n={bottom:o,right:o};break;case"bm":n={"margin-left":o,bottom:o};break;case"bl":n={left:o,bottom:o};break;case"l":n={"margin-top":o,left:o};break}let s={cursor:e+"-resize",width:Math.ceil(i/this.zoom)+"px",height:Math.ceil(i/this.zoom)+"px",...n};return Object.keys(s).map((t=>`${t}:${s[t]}`)).join(";")},emitChange(){this.$emit("input",{...this.transform})},handleMouseDown(t){if(!this.active&&!this.beforeActive(this.id))return;this.handleDefaultEvent(t);let e=t.touches?t.touches[0]:t,{clientX:i,clientY:n}=e;if(this._lastX=i,this._lastY=n,this._activeTarget=t.target,this._parentRect=this.$refs.wrapper.parentNode.getBoundingClientRect(),this._resizeHandler=t.target.dataset.resizetype,this.localeTransform={...this.transform},this.parent){let t=0,e=this._parentRect.width/this.zoom-this.transform.width,i=0,n=this._parentRect.height/this.zoom-this.transform.height,o=this.transform.x+this.transform.width,s=this._parentRect.width/this.zoom-this.transform.x,a=this.transform.y+this.transform.height,r=this._parentRect.height/this.zoom-this.transform.y;this.bounday={minLeft:t,maxLeft:e,minTop:i,maxTop:n,maxLeftWidth:o,maxRightWidth:s,maxTopHeight:a,maxBottomHeight:r}}document.addEventListener("mousemove",this.handleMouseMove,!1),document.addEventListener("touchmove",this.handleMouseMove,!1),document.addEventListener("touchend",this.handleMouseUp,!1),document.addEventListener("mouseup",this.handleMouseUp,!1),"rotate"===t.target.dataset.type?(this._handlerType="rotate",this.isReadyToRotate=!0,this.handleRotateStart(t),this.$emit("rotatestart",t,this.transform)):this._activeTarget.dataset.resizetype?(this._handlerType="resize",this.isReadyToResize=!0,this.handleResizeStart(t),this.$emit("resizestart",t,this.transform)):(this._handlerType="drag",this.isReadyToDrag=!0,this.draggable&&this.$emit("dragstart",t,this.transform))},handleMouseMove(t){this.handleDefaultEvent(t);let{clientX:e,clientY:i}=t.touches?t.touches[0]:t;this.isReadyToDrag=!1,this.isReadyToResize=!1,this.isReadyToRotate=!1,this._deltaX=e-this._lastX,this._deltaY=i-this._lastY,this._lastX=e,this._lastY=i,"resize"===this._handlerType?(this.isResizing=!0,this.handleResizeMove(t),this.$emit("resize",t,this.transform)):"drag"===this._handlerType&&this.draggable?(this.isDragging=!0,this.doMove(t),this.$emit("drag",t,this.transform)):"rotate"===this._handlerType&&(this.isRotating=!0,this.handleRotateMove(t),this.$emit("rotate",t,this.transform)),this.emitChange()},doMove(){let[t,e]=this.grid,i=this._deltaX/this.zoom,n=this._deltaY/this.zoom,o=this.localeTransform.x=Math.round(this.localeTransform.x+i),s=this.localeTransform.y=Math.round(this.localeTransform.y+n);this.axis.includes("x")&&(o>this.transform.x?this.transform.x=this.restrictToLeftOfParent(o-o%t):o<this.transform.x&&(this.transform.x=this.restrictToLeftOfParent(o-(o%t-t)))),this.axis.includes("y")&&(s>this.transform.y?this.transform.y=this.restrictToTopOfParent(s-s%e):s<this.transform.y&&(this.transform.y=this.restrictToTopOfParent(s-(s%e-e))))},restrictToLeftOfParent(t){return this.parent?(t=Math.max(this.bounday.minLeft,t),t=Math.min(this.bounday.maxLeft,t),t):t},restrictToTopOfParent(t){return this.parent?(t=Math.max(this.bounday.minTop,t),t=Math.min(this.bounday.maxTop,t),t):t},restrictHeight(t,e){return!this.parent||this.transform.rotation>0?t:["bl","bm","br"].includes(e)?Math.min(this.bounday.maxBottomHeight,t):["tl","tm","tr"].includes(e)?Math.min(this.bounday.maxTopHeight,t):t},restrictWidth(t,e){return!this.parent||this.transform.rotation>0?t:["tl","l","bl"].includes(e)?Math.min(this.bounday.maxLeftWidth,t):["tr","r","br"].includes(e)?Math.min(this.bounday.maxRightWidth,t):t},handleMouseUp(t){this.handleDefaultEvent(t),document.removeEventListener("mousemove",this.handleMouseMove,!1),document.removeEventListener("mouseup",this.handleMouseUp,!1),document.removeEventListener("touchmove",this.handleMouseMove,!1),document.removeEventListener("touchend",this.handleMouseUp,!1);let e={drag:"draggable",resize:"resizable",rotate:"rotatable"};this.isInitialRatio=this.isDragging=this.isResizing=this.isRotating=!1,this.isReadyToDrag=this.isReadyToResize=this.isReadyToRotate=!1,this[e[this._handlerType]]&&this.$emit(this._handlerType+"end",t,this.transform)},handleResizeStart(t){let e,i=this._resizeHandler,n=this.transform,o=m(n,this.zoom),s=o[r[i]],a=o[c[i]],{clientX:p,clientY:f}=t.touches?t.touches[0]:t,v=o[l[i]],_=p-v.x,b=f-v.y,y=p-a.x-_,w=f-a.y-b,x=n.width,C=n.height;e=h[i]?g(Math.atan2(x,d[i]?C/2:C)):g(Math.atan2(C,u[i]?x/2:x));let k=g(Math.atan2(w,y));this._resizeOpt={matrix:o,rect:n,type:i,opposite:s,opp2:a,pressAngle:e,startAngle:k,offsetX:_,offsetY:b}},handleResizeMove(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,{opposite:n,opp2:o,type:s,pressAngle:a,startAngle:l,offsetX:c,offsetY:h}=this._resizeOpt,p=e-o.x-c,g=i-o.y-h,v=Math.hypot(g,p),_=t.shiftKey||this.acceptRatio,[b,y]=this.grid;!this.isInitialRatio&&_&&(this.currentRatio=this.transform.width/this.transform.height,this.isInitialRatio=!0),_||(this.isInitialRatio=!1);let{w:w,h:x}=f({type:s,dis:v,x:p,y:g,startAngle:l,pressAngle:a}),C={...this.localeTransform};this.isInitialRatio&&(d[s]?x=w/this.currentRatio:w=x*this.currentRatio),w/=this.zoom,x/=this.zoom,w=Math.min(Math.max(Math.round(w),this.minWidth),this.maxWidth),x=Math.min(Math.max(Math.round(x),this.minHeight),this.maxHeight),d[s]&&!_?C.width=w:(u[s]&&!_||(C.width=w),C.height=x);let k=this._resizeHandler;C.width%b>0&&(C.width>this.localeTransform.width?C.width=C.width-C.width%b:C.width=C.width-(C.width%b-b)),C.height%y>0&&(C.height>this.localeTransform.height?C.height=C.height-C.height%y:C.height=C.height-(C.height%y-y)),C.height=this.restrictHeight(C.height,k),C.width=this.restrictWidth(C.width,k);let S=m(C,this.zoom),M=S[r[s]],E=-(M.x-n.x)/this.zoom,P=-(M.y-n.y)/this.zoom;C.x=Math.round(C.x+E),C.y=Math.round(C.y+P),this.transform=C},handleRotateStart(t){let{clientX:e,clientY:i}=t.touches?t.touches[0]:t,n=this.$refs.wrapper.getBoundingClientRect(),o=n.left+n.width/2,s=n.top+n.height/2,a=180/Math.PI*Math.atan2(i-s,e-o),r=this.transform.rotation;this._rotateOpt={cx:o,cy:s,startAngle:a,rotation:r}},handleRotateMove(t){let{cx:e,cy:i,startAngle:n,rotation:o}=this._rotateOpt,{clientX:s,clientY:a}=t.touches?t.touches[0]:t,r=s-e,l=a-i,c=180/Math.PI*Math.atan2(l,r),d=c-n,u=o+d;u%=360,u=u<0?u+360:u,u=this.roundRotate(u),this.transform.rotation=Math.floor(u)},roundRotate(t){const e=5;return t>360-e||t<0+e?0:t>90-e&&t<90+e?90:t>180-e&&t<180+e?180:t>270-e&&t<270+e?270:t},getClassNames(){const t=["yoyoo-ddr"];return this.active&&t.push("active"),this.isDragging&&t.push("ddr-dragging"),this.isResizing&&t.push("ddr-resizing"),this.isRotating&&t.push("ddr-rotating"),this.isReadyToDrag&&t.push("ddr-ready-drag"),this.isReadyToResize&&t.push("ddr-ready-resize"),this.isReadyToRotate&&t.push("ddr-ready-rotate"),t}},render(){const t=arguments[0];return t("div",{ref:"wrapper",style:this.style,class:this.getClassNames(),on:{touchstart:this.handleMouseDown,mousedown:this.handleMouseDown}},[this.renderContent?this.renderContent(this):this.$slots.default,this.resizable&&t("div",{class:"resize-handler-wrapper"},[this.resizeHandler.map((e=>t("span",{attrs:{"data-resizetype":e},key:e,style:this.getNewHandler(e),class:`resize-handler ${e}`})))]),this.rotatable&&t("span",{style:this.rotateHandler,attrs:{"data-type":"rotate"},class:"rotate-handler"})])}},C=x,k=(i(52046),i(1001)),S=(0,k.Z)(C,y,w,!1,null,null,null),M=S.exports},71533:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=r},84421:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._linkPicker[data-v-a5930508]{width:100%;margin:0 auto}._addMediaBtn[data-v-a5930508]{text-align:center;padding:calc(var(--spacing)*1)}._selectBtn[data-v-a5930508]{display:flex;place-items:center;justify-content:center;width:100%;gap:calc(var(--spacing)/1);background:#fff}iframe[data-v-a5930508]{width:100%;aspect-ratio:4/3}",""]),e["default"]=r},14048:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._mediaPicker[data-v-3c29bb1a]{position:absolute}",""]),e["default"]=r},57301:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._publicationSettings[data-v-70ad4eb8]::part(base){z-index:50}._publicationSettings--closeBtn[data-v-70ad4eb8]{position:absolute;top:0;right:0;padding:calc(var(--spacing)/2)}",""]),e["default"]=r},87316:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._filesList[data-v-4e0c6144]{position:relative;z-index:0;text-align:center}._listOfFiles[data-v-4e0c6144]{padding:0;margin:0;display:flex;flex-flow:column nowrap;gap:calc(var(--spacing)/4)}._reorderedFile[data-v-4e0c6144]{z-index:10;min-height:2em;background:#fff;border:1px solid var(--c-gris);display:flex;flex-flow:row nowrap;justify-content:center;word-break:break-word;align-items:center;padding:0;border-radius:2px;justify-content:space-between}._reorderedFile[data-v-4e0c6144]:focus-visible,._reorderedFile[data-v-4e0c6144]:hover{background:var(--c-gris)}._reorderedFile ._link[data-v-4e0c6144]{flex:1 1 auto;overflow:hidden;font-variant:none;font-weight:400;letter-spacing:0;font-size:var(--sl-font-size-x-small);text-decoration:none;display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/1)}._reorderedFile ._link>*[data-v-4e0c6144]{flex:1 1 50px}._reorderedFile ._link ._preview[data-v-4e0c6144]{flex:0 0 auto;font-size:100%;width:45px;height:45px;overflow:hidden;border-radius:4px;background:var(--c-gris_clair)}._reorderedFile ._link ._preview[data-v-4e0c6144]:focus-visible,._reorderedFile ._link ._preview[data-v-4e0c6144]:hover{background:#fff}._reorderedFile ._link ._preview._preview--none[data-v-4e0c6144]{display:flex;justify-content:center;align-items:center;font-size:150%}._reorderedFile ._link ._preview[data-v-4e0c6144]  ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}._reorderedFile ._link ._link--filename[data-v-4e0c6144]{flex:1 1 0;text-align:left;white-space:break-spaces}._reorderedFile ._link ._link--filename[data-v-4e0c6144],._reorderedFile ._link ._link--filesize[data-v-4e0c6144]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}._reorderedFile ._link ._link--filesize[data-v-4e0c6144]{flex:0 0 50px}._addBtnSection[data-v-4e0c6144]{padding:calc(var(--spacing)/4);text-align:left}",""]),e["default"]=r},21238:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._mainCarousel[data-v-7c97ff4f],._navCarousel[data-v-7c97ff4f]{position:relative;width:100%}._mainCarousel[data-v-7c97ff4f]  ._mediaContent,._navCarousel[data-v-7c97ff4f]  ._mediaContent{width:100%;height:100%}._mainCarousel[data-v-7c97ff4f]  ._mediaContent img,._navCarousel[data-v-7c97ff4f]  ._mediaContent img{width:100%;height:100%}._mainCarousel[data-v-7c97ff4f]  ._mediaContent ._iframeStylePreview,._mainCarousel[data-v-7c97ff4f]  ._mediaContent ._mediaContent--iframe,._mainCarousel[data-v-7c97ff4f]  ._mediaContent ._mediaContent--image,._mainCarousel[data-v-7c97ff4f]  ._mediaContent .plyr--video,._mainCarousel[data-v-7c97ff4f]  ._mediaContent .plyr__poster,._navCarousel[data-v-7c97ff4f]  ._mediaContent ._iframeStylePreview,._navCarousel[data-v-7c97ff4f]  ._mediaContent ._mediaContent--iframe,._navCarousel[data-v-7c97ff4f]  ._mediaContent ._mediaContent--image,._navCarousel[data-v-7c97ff4f]  ._mediaContent .plyr--video,._navCarousel[data-v-7c97ff4f]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._carousel[data-v-7c97ff4f]{background:var(--c-gris)}._mainCarousel .carousel-cell[data-v-7c97ff4f]{width:100%;aspect-ratio:16/9;margin-right:calc(var(--spacing)*1)}._mainCarousel[data-v-7c97ff4f]  .flickity-page-dots{bottom:0}._mainCarousel[data-v-7c97ff4f]  .flickity-page-dots .dot{background:var(--c-gris);border:none;opacity:1;padding:calc(var(--spacing)/4);border:2px solid transparent}._mainCarousel[data-v-7c97ff4f]  .flickity-page-dots .dot:active,._mainCarousel[data-v-7c97ff4f]  .flickity-page-dots .dot:focus-visible,._mainCarousel[data-v-7c97ff4f]  .flickity-page-dots .dot:hover{border-color:var(--active-color)}._mainCarousel[data-v-7c97ff4f]  .flickity-page-dots .dot.is-selected{background:var(--active-color);border-color:var(--active-color)}._navCarousel[data-v-7c97ff4f]{margin-top:calc(var(--spacing)/2)}._navCarousel .carousel-cell[data-v-7c97ff4f]{width:160px;height:90px;margin-right:calc(var(--spacing)/2)}._mediaPickerTile[data-v-7c97ff4f]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-7c97ff4f]{pointer-events:auto}._btnRow[data-v-7c97ff4f]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-7c97ff4f]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}",""]),e["default"]=r},19903:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._mediasModule[data-v-7e37c77c]{--number_of_medias:1;position:relative}._dropzone[data-v-7e37c77c]{position:absolute;width:100%;height:100%}._dropzone[data-v-7e37c77c]  ._dropNotice{transform:rotate(-90deg)}sl-icon-button[data-v-7e37c77c]::part(base){font-size:1.5em;color:var(--c-bleuvert)}",""]),e["default"]=r},88777:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._moduleCreator[data-v-57d38c4c]{position:relative;display:flex;justify-content:center;align-items:center;width:100%;pointer-events:none;gap:calc(var(--spacing)/4);color:var(--c-bleuvert);border-radius:1rem;--icon-size:1.2rem}._moduleCreator>*[data-v-57d38c4c]{pointer-events:auto}._typePicker[data-v-57d38c4c]{display:flex;flex-flow:row wrap;justify-content:center;align-items:center;gap:calc(var(--spacing)/4)}._dropNotice[data-v-57d38c4c]{pointer-events:none}sl-icon-button[data-v-57d38c4c]::part(base){font-size:1.5em;color:var(--c-bleuvert)}._showModuleSelector[data-v-57d38c4c]{transition:all .4s cubic-bezier(.19,1,.22,1)}.u-addBtn[data-v-57d38c4c]{color:var(--c-noir)}",""]),e["default"]=r},22375:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._mediaGrid[data-v-57d38ea6]{position:relative;width:100%}._mediaGrid.is--multipleMedias[data-v-57d38ea6]{display:flex;flex-flow:row nowrap;gap:calc(var(--spacing)/4);transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid>._mediaGrid--item[data-v-57d38ea6]{position:relative;transition:flex .25s cubic-bezier(.19,1,.22,1)}._mediaGrid.is--multipleMedias>._mediaGrid--item[data-v-57d38ea6]{aspect-ratio:1/1;overflow:hidden;background:var(--c-gris_clair);flex:1 1 calc(100%/var(--number_of_medias))}._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent img{width:100%;height:100%}._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent ._iframeStylePreview,._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent ._mediaContent--iframe,._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent ._mediaContent--image,._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent .plyr--video,._mediaGrid.is--multipleMedias[data-v-57d38ea6]  ._mediaContent .plyr__poster{position:absolute;height:100%;width:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);background-size:var(--object-fit,cover)}._mediaPickerTile[data-v-57d38ea6]{position:absolute;top:0;left:100%;display:flex;place-content:center;height:100%;align-items:center;pointer-events:none}._mediaPickerTile>*[data-v-57d38ea6]{pointer-events:auto}._btnRow[data-v-57d38ea6]{position:absolute;padding:calc(var(--spacing)/2);top:0;right:0;left:auto;z-index:100;display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);pointer-events:none}._btnRow button[data-v-57d38ea6]{pointer-events:auto;border-radius:4px;color:var(--c-noir);background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:4px}",""]),e["default"]=r},89303:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._publicationModule[data-v-0c164548]{position:relative;scroll-margin-top:calc(var(--spacing)*1.5)}._publicationModule[data-type=shape] ._content[data-v-0c164548],._publicationModule[data-type=shape] svg[data-v-0c164548]{overflow:visible;stroke-linejoin:arcs;stroke-linecap:round}._publicationModule[data-type=shape] svg[data-v-0c164548]{width:100%;height:100%}._publicationModule[data-type=shape] svg rect[data-v-0c164548]{transition:all .25s cubic-bezier(.19,1,.22,1)}._publicationModule ._content[data-v-0c164548]{position:relative;width:calc(var(--module-width)*1%);margin-left:calc(var(--module-margin-left)*1%);transition:all .4s cubic-bezier(.19,1,.22,1)}._selectorIndicator[data-v-0c164548]{--highlight-margin:calc(var(--spacing)/-2);position:absolute;top:0;left:var(--highlight-margin);bottom:var(--highlight-margin);right:var(--highlight-margin);pointer-events:none}._sideOptions[data-v-0c164548]{position:relative;margin-bottom:calc(var(--spacing)/2);width:100%;margin:0 calc(var(--spacing)/-2) calc(var(--spacing)/2);width:calc(100% + var(--spacing)/1)}._sideOptions ._sideOptions--content[data-v-0c164548]{width:100%;margin:0 auto;padding:calc(var(--spacing)/4);background:var(--active-color);box-shadow:var(--panel-shadows);border-top-left-radius:6px;border-top-right-radius:6px;gap:calc(var(--spacing)/2);display:flex;align-items:center}._arrows[data-v-0c164548]{flex:0 0 auto;display:flex;flex-flow:column nowrap;justify-content:space-between;align-content:space-between}._sideBtns[data-v-0c164548]{display:block;width:var(--side-width);height:var(--side-width);padding:0;border-radius:calc(var(--side-width)/2);background:transparent}._sideBtns[data-v-0c164548]:focus,._sideBtns[data-v-0c164548]:hover{background:rgba(0,0,0,.1)}._options[data-v-0c164548]{flex:1 1 auto;position:relative;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/2)}._saveBtn[data-v-0c164548]{flex:0 0 auto;text-align:right}._advanced_menu[data-v-0c164548],._carto[data-v-0c164548]{flex:1 1 auto;display:flex;flex-flow:row wrap;align-items:center;gap:calc(var(--spacing)/4)}._buttonRow[data-v-0c164548]{display:flex;padding:calc(var(--spacing)/2);gap:calc(var(--spacing)/2);align-items:center}._buttonRow .is--active[data-v-0c164548]{color:#fff}._floatingEditBtn[data-v-0c164548]{position:sticky;z-index:1;height:0;top:0}._floatingEditBtn>*[data-v-0c164548]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/4)}._repickNotice[data-v-0c164548]{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background:hsla(0,0%,91%,.7);padding:calc(var(--spacing)/2);display:flex;flex-flow:column nowrap}._repickNotice--content[data-v-0c164548]{background:#fff;padding:calc(var(--spacing)/2)}._pinButton[data-v-0c164548]{position:absolute;background:transparent;top:0;left:0;z-index:1;margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/4)}._publicationModule[data-type=text] ._pinButton[data-v-0c164548]{position:relative;float:left;margin-top:calc(var(--spacing)/4);margin-right:calc(var(--spacing)/4)}._pinButton.is--active[data-v-0c164548]{background:var(--c-bleuvert)}",""]),e["default"]=r},52565:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,'._moveableItem.is--locked.is--editable[data-v-cdf5022e]{pointer-events:none}._moveableItem.is--editable[data-v-cdf5022e]:not(.is--beingEdited):not(.is--locked){cursor:pointer;cursor:grab}._moveableItem.is--editable[data-v-cdf5022e]:hover:not(.is--locked){outline:2px dotted var(--c-noir)}._moveableItem.is--beingEdited[data-v-cdf5022e]{outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-cdf5022e]{border:none;outline:2px dotted var(--c-orange)!important}._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-cdf5022e]  .bl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-cdf5022e]  .br,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-cdf5022e]  .tl,._moveableItem.yoyoo-ddr:not(.is--beingEdited).active[data-v-cdf5022e]  .tr{background:var(--c-orange)}._moveableItem.yoyoo-ddr:not(.is--beingEdited).ddr-dragging[data-v-cdf5022e]{cursor:-moz-grabbing;cursor:dragging}._moveableItem--content[data-v-cdf5022e]{height:100%;padding:0;transition:all .2s cubic-bezier(.19,1,.22,1)}._moveableItem--content[data-v-cdf5022e]  ._content{height:100%;overflow:hidden}._moveableItem--content[data-v-cdf5022e]  ._content ._mediasModule{height:100%}._moveableItem--content[data-v-cdf5022e]  ._content ._mediaGrid,._moveableItem--content[data-v-cdf5022e]  ._content ._mediaGrid--item{height:100%}._moveableItem--content[data-v-cdf5022e]  ._content ._mediaGrid ._mediaContent{height:100%}._moveableItem--content[data-v-cdf5022e]  ._content ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-cdf5022e]  ._content .plyr__poster{background-size:var(--object-fit,cover);background-position:50%;background-color:transparent}._moveableItem--content[data-v-cdf5022e]  ._content .plyr--video,._moveableItem--content[data-v-cdf5022e]  ._content .plyr__video-wrapper{background-color:transparent}._moveableItem--content[data-v-cdf5022e]  ._content .plyr__video-wrapper video{-o-object-fit:var(--object-fit,cover);object-fit:var(--object-fit,cover);-o-object-position:center;object-position:center}._moveableItem--content[data-v-cdf5022e]  ._content .plyr--video{min-width:50px}._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent--image,._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent[data-filetype=audio],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent[data-filetype=other],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent[data-filetype=pdf],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent[data-filetype=url],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent[data-filetype=video],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] .ql-editor{padding:var(--set-margins);opacity:var(--set-opacity);aspect-ratio:unset;border-radius:var(--set-borderRadius);overflow:hidden;background:var(--set-backgroundColor);border-color:var(--set-outlineColor);border-width:var(--set-outlineWidth);border-style:solid}._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=mosaic] ._mediaContent--iframe--content{resize:none}._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=carousel],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=files],._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=text]{padding:var(--set-margins);opacity:var(--set-opacity);aspect-ratio:unset;border-radius:var(--set-borderRadius);overflow:hidden;background:var(--set-backgroundColor);border-color:var(--set-outlineColor);border-width:var(--set-outlineWidth);border-style:solid}._moveableItem[data-v-cdf5022e]  ._publicationModule[data-type=shape]{padding:var(--set-margins);opacity:var(--set-opacity);fill:var(--set-backgroundColor);stroke:var(--set-outlineColor);stroke-width:var(--set-outlineWidth)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-cdf5022e]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--c-orange_clair);opacity:0;transition:opacity .4s cubic-bezier(.19,1,.22,1)}._moveableItem.is--editable:not(.is--beingEdited):not(.is--locked) ._activator[data-v-cdf5022e]:hover:after{opacity:.15}._coords[data-v-cdf5022e]{bottom:0;background:#fff;margin:calc(var(--spacing)*1)}._coords[data-v-cdf5022e],._unlockBtn[data-v-cdf5022e]{position:absolute;left:0}._unlockBtn[data-v-cdf5022e]{top:0;width:100%;pointer-events:none;padding:calc(var(--spacing)/2);display:flex;justify-content:flex-start}._unlockBtn>*[data-v-cdf5022e]{pointer-events:auto;cursor:pointer}',""]),e["default"]=r},69575:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,'._openedPage[data-v-743c3150]{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;display:flex;flex-flow:column nowrap;background:var(--c-gris_clair);--pagemenu-width:280px}._openedPage>._topMenu[data-v-743c3150]{flex:0 0 auto}._openedPage>._spreadNavigator[data-v-743c3150]{flex:1 1 auto}._navBar[data-v-743c3150]{position:absolute;bottom:0;left:0;height:auto;width:100%;z-index:12;overflow:hidden;display:flex;flex-flow:row nowrap;justify-content:space-between;pointer-events:none}._navBar button[data-v-743c3150]{pointer-events:auto;display:flex;align-items:center;margin:calc(var(--spacing)/2);padding:calc(var(--spacing)/2);gap:1px;background:hsla(0,0%,100%,.4);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:4px}._topMenu[data-v-743c3150]{position:relative;z-index:10;padding:0 calc(var(--spacing)*1)}._topMenu--content[data-v-743c3150]{background:#fff;box-shadow:0 1px 4px rgba(0,0,0,.2);padding:calc(var(--spacing)/2) calc(var(--spacing)*1);display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}._spreadNavigator[data-v-743c3150]{overflow:hidden;width:100%;height:100%}._spreadNavigator[data-v-743c3150]::-webkit-scrollbar{height:18px;width:18px;background-color:transparent}._spreadNavigator[data-v-743c3150]::-webkit-scrollbar-thumb,._spreadNavigator[data-v-743c3150]::-webkit-scrollbar-track{border:6px solid hsla(0,0%,100%,0);border-radius:24px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._spreadNavigator[data-v-743c3150]::-webkit-scrollbar-track{background-color:transparent}._spreadNavigator[data-v-743c3150]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._spreadNavigator[data-v-743c3150]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:6px solid hsla(0,0%,100%,0)}._spreadNavigator--content[data-v-743c3150]{width:100%;height:100%}._pageCont[data-v-743c3150]{display:flex;flex-flow:row nowrap;width:-moz-max-content;width:max-content}._spreadNavigator--page[data-v-743c3150]{position:relative;flex:1 1 50%}._spreadNavigator--page[data-v-743c3150]  ._pagecontent:after{content:"";position:absolute;inset:0;z-index:1000000;background:hsla(0,0%,100%,.6);transition:all .4s cubic-bezier(.19,1,.22,1);pointer-events:none}._spreadNavigator--page.is--active[data-v-743c3150]{z-index:1}._spreadNavigator--page.is--active[data-v-743c3150]  ._pagecontent:after{opacity:0}._spreadNavigator--page[data-v-743c3150]:not(.is--active){z-index:2}._spreadNavigator--page[data-v-743c3150]:not(.is--active)  ._pagecontent:after{pointer-events:auto;opacity:1}._spreadNavigator--page ._openAdjacentPageBtn[data-v-743c3150]{position:absolute;inset:0;width:100%;height:100%;background:transparent;padding:0}._noPage[data-v-743c3150]{background:rgba(0,0,0,.1)}._sideCont[data-v-743c3150]{width:var(--pagemenu-width);position:absolute;left:0;top:0;z-index:1;height:100%;overflow-x:visible;overflow-y:auto;pointer-events:none}._sideCont[data-v-743c3150]::-webkit-scrollbar{height:18px;width:18px;background-color:transparent}._sideCont[data-v-743c3150]::-webkit-scrollbar-thumb,._sideCont[data-v-743c3150]::-webkit-scrollbar-track{border:6px solid hsla(0,0%,100%,0);border-radius:24px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._sideCont[data-v-743c3150]::-webkit-scrollbar-track{background-color:transparent}._sideCont[data-v-743c3150]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._sideCont[data-v-743c3150]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:6px solid hsla(0,0%,100%,0)}._sideCont>*[data-v-743c3150]{pointer-events:auto}._sideCont>._content[data-v-743c3150]{margin:0 0 calc(var(--spacing)*2) 0}._pagePan[data-v-743c3150]{width:100%;height:100%}',""]),e["default"]=r},81051:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._label[data-v-6a064fcf]{padding:calc(var(--spacing)/4) calc(var(--spacing)/2);margin:calc(var(--spacing)/4);background:#fff;border-radius:4px}",""]),e["default"]=r},4785:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._pageMenu[data-v-39f5a470]{margin:2px;margin:calc(var(--spacing)/4);background:var(--panel-color);border:var(--panel-borders);box-shadow:var(--panel-shadows);border-radius:var(--panel-radius);text-align:left}._pageMenu--pane[data-v-39f5a470]{padding:calc(var(--spacing)/2) 0;margin:0 calc(var(--spacing)/2)}._pageMenu--pane[data-v-39f5a470]:not(:first-child){margin-top:calc(var(--spacing)/2);border-top:1px solid var(--active-color)}._activeModulePreview[data-v-39f5a470]{overflow:hidden;margin:0 auto;background:var(--c-noir);width:100%;height:50px;display:flex;justify-content:center}._mediaList[data-v-39f5a470]{font-size:var(--sl-font-size-x-small);padding:0}._mediaList>*[data-v-39f5a470]{display:flex;flex-flow:row nowrap;align-items:center;gap:calc(var(--spacing)/2);cursor:pointer}._mediaList[data-v-39f5a470]>:hover{background:var(--c-gris_clair)}._mediaList[data-v-39f5a470]>:not(:last-child){border-bottom:2px solid var(--c-gris)}._mediaList>* ._preview[data-v-39f5a470]{position:relative;width:50px;height:50px;flex:0 0 50px}._mediaList>* ._preview[data-v-39f5a470]  img{width:100%;height:100%;position:absolute;-o-object-fit:contain;object-fit:contain}._textExtract[data-v-39f5a470]  .ql-editor{padding-bottom:0}._titleRow[data-v-39f5a470]{display:flex;flex-flow:row wrap;align-items:center;justify-content:space-between}._titleRow button[data-v-39f5a470]{font-size:var(--sl-font-size-large)}",""]),e["default"]=r},94662:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"",""]),e["default"]=r},88377:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._allPages[data-v-ecbd0da8]{flex-flow:row wrap;justify-content:center;gap:calc(var(--spacing)/1);padding:calc(var(--spacing)*4) calc(var(--spacing)*2)}._allPages[data-v-ecbd0da8],._page[data-v-ecbd0da8]{display:flex;align-items:center}._page[data-v-ecbd0da8]{flex-flow:column nowrap}._spread[data-v-ecbd0da8]{display:flex;flex-flow:row nowrap}._preview[data-v-ecbd0da8]{position:relative;overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.16);min-width:2em;min-height:2em;background:hsla(0,0%,100%,.2)}._openPage[data-v-ecbd0da8]{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.6)!important;color:#000;opacity:0;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);transition:opacity .4s cubic-bezier(.19,1,.22,1)}._openPage[data-v-ecbd0da8]:active,._openPage[data-v-ecbd0da8]:focus,._openPage[data-v-ecbd0da8]:hover{opacity:1}._createPage[data-v-ecbd0da8]{margin-bottom:calc(var(--spacing)*3)}",""]),e["default"]=r},79494:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,".viewer[data-v-7cc350e4]{width:100%;height:100%;cursor:move}.viewer[data-v-7cc350e4],.viewport[data-v-7cc350e4]{position:relative}",""]),e["default"]=r},82117:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._pagecontainer[data-v-6c3a37c4]{width:calc(var(--page-width));height:calc(var(--page-height));padding:0;transform:scale(var(--zoom));transform-origin:0 0;transition:all .4s cubic-bezier(.19,1,.22,1)}.is--preview ._pagecontainer[data-v-6c3a37c4]{width:calc(var(--page-width)*var(--zoom));height:calc(var(--page-height)*var(--zoom));transform-origin:left top;margin:0 auto;padding:0}._pagecontent[data-v-6c3a37c4]{display:block;position:relative;z-index:0;margin:0;width:var(--page-width,100mm);height:var(--page-height,100mm);background:var(--page-color,#fff);overflow:hidden;box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23);transition:background .4s cubic-bezier(.19,1,.22,1)}._singlePage.is--editable ._pagecontent[data-v-6c3a37c4]{overflow:visible}._grid[data-v-6c3a37c4]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;opacity:.6;z-index:-10000;--c-gridlines:#aaa;--c-gridfiveslines:#111}._margins[data-v-6c3a37c4],._pageBorders[data-v-6c3a37c4]{position:absolute;top:0;width:100%;height:100%;pointer-events:none;stroke-width:2px}._margins[data-v-6c3a37c4]{stroke:#cb68fd}._pagination[data-v-6c3a37c4]{position:absolute;right:var(--pagination-right);left:var(--pagination-left);bottom:var(--pagination-bottom);font-weight:500;line-height:.5;font-size:var(--sl-font-size-large)}",""]),e["default"]=r},12355:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"._pageTemplate[data-v-4b3ab1ce]{position:relative;background:var(--c-gris_clair)}",""]),e["default"]=r},73589:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,".yoyoo-ddr{position:absolute}.yoyoo-ddr .resize-handler.tm{left:50%}.yoyoo-ddr .resize-handler.r{top:50%}.yoyoo-ddr .resize-handler.bm{left:50%}.yoyoo-ddr .resize-handler.l{top:50%;cursor:pointer}.yoyoo-ddr .resize-handler,.yoyoo-ddr .rotate-handler{display:none;position:absolute;border:1px solid #607d8b;background:#fff;box-sizing:border-box;border-radius:50%}.yoyoo-ddr .rotate-handler{left:50%;cursor:crosshair}.yoyoo-ddr.active{border:1px dashed #607d8b}.yoyoo-ddr.active>.resize-handler-wrapper>.resize-handler,.yoyoo-ddr.active>.rotate-handler{display:inline-block}.yoyoo-ddr .bl,.yoyoo-ddr .br,.yoyoo-ddr .tl,.yoyoo-ddr .tr{background:#607d8b}",""]),e["default"]=r},59691:function(t,e,i){"use strict";i.r(e);var n=i(8081),o=i.n(n),s=i(23645),a=i.n(s),r=a()(o());r.push([t.id,"/*! Flickity v2.3.0\nhttps://flickity.metafizzy.co\n---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:none}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:grabbing}.flickity-button{position:absolute;background:hsla(0,0%,100%,.75);border:none;color:#333}.flickity-button:hover{background:#fff;cursor:pointer}.flickity-button:focus{outline:none;box-shadow:0 0 0 5px #19f}.flickity-button:active{opacity:.6}.flickity-button:disabled{opacity:.3;cursor:auto;pointer-events:none}.flickity-button-icon{fill:currentColor}.flickity-prev-next-button{top:50%;width:44px;height:44px;border-radius:50%;transform:translateY(-50%)}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button .flickity-button-icon{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}",""]),e["default"]=r},95240:function(t,e,i){var n,o;(function(s,a){"use strict";n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)})(window,(function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}))},26845:function(t,e,i){var n,o;i(57658),
/*!
 * Flickity imagesLoaded v2.0.0
 * enables imagesLoaded option for Flickity
 */
function(s,a){n=[i(99110),i(76674)],o=function(t,e){return a(s,t,e)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){if(this.options.imagesLoaded){var t=this;i(this.slider).on("progress",e)}function e(e,i){var n=t.getParentCell(i.img);t.cellSizeChange(n&&n.element),t.options.freeScroll||t.positionSliderAtSelected()}},e}))},98203:function(t,e,i){var n,o;i(57658),function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var s=i[o],a=n&&n[s];a&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},79334:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(95240)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}else o.push(t)})),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout((function(){n.apply(s,e),delete s[o]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady((function(){var s=i.toDashed(n),a="data-"+s,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+s),c=i.makeArray(r).concat(i.makeArray(l)),d=a+"-options",u=t.jQuery;c.forEach((function(t){var i,s=t.getAttribute(a)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(l){return void(o&&o.error("Error parsing "+a+" on "+t.className+": "+l))}var r=new e(t,i);u&&u.data(t,n,r)}))}))},i}))},85393:function(t,e,i){var n,o;(function(s,a){n=[i(48816),i(79334)],o=function(t,e){return a(s,t,e)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e,i){"use strict";function n(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var o=e.prototype;return o.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var o=this.cells.length;e=void 0===e?o:e;var s=n(i),a=e==o;if(a)this.slider.appendChild(s);else{var r=this.cells[e].element;this.slider.insertBefore(s,r)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,o-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},o.append=function(t){this.insert(t,this.cells.length)},o.prepend=function(t){this.insert(t,0)},o.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)}),this),this.cellChange(n,!0)}},o.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},o.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},93073:function(t,e,i){var n,o;(function(s,a){n=[i(79334)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n],s=e>0?i:0;o.wrapShift(s),e-=o.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},11290:function(t,e,i){var n,o;(function(s,a){n=[i(84307)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},74856:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(48816),i(51055),i(79334)],o=function(t,e,i){return a(s,t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n){"use strict";n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var o=e.prototype;n.extend(o,i.prototype),o._touchActionValue="pan-y",o._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},o.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},o.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},o._uiChangeDrag=function(){delete this.isFreeScrolling},o.pointerDown=function(e,i){if(this.isDraggable){var n=this.okayPointerDown(e);n&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},o._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var s={INPUT:!0,TEXTAREA:!0,SELECT:!0};function a(){return{x:t.pageXOffset,y:t.pageYOffset}}return o.pointerDownFocus=function(t){var e=s[t.target.nodeName];e||this.focus()},o._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=s[t.target.nodeName];e||i||n||t.preventDefault()},o.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},o.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},o.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},o.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var s=Math.max(-this.slides[0].target,this.dragStartPosition);o=o>s?.5*(o+s):o;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<a?.5*(o+a):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},o.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},o.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),o=i.distance<n.distance?i.index:n.index;return o},o._getClosestResting=function(t,e,i){var n=this.selectedIndex,o=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(s(e,o)){if(n+=i,o=e,e=this.getSlideDistance(-t,n),null===e)break;e=Math.abs(e)}return{distance:o,index:n-i}},o.getSlideDistance=function(t,e){var i=this.slides.length,o=this.options.wrapAround&&i>1,s=o?n.modulo(e,i):e,a=this.slides[s];if(!a)return null;var r=o?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+r)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},o.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,o=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,o])},o.onscroll=function(){var t=a(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},48816:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(98203),i(84307),i(79334),i(11290),i(74875),i(93073)],o=function(t,e,i,n,o,r){return a(s,t,e,i,n,o,r)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n,o,s,a){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function d(t,e){t=n.makeArray(t);while(t.length)e.appendChild(t.shift())}var u=0,h={};function p(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var o=h[this.element.flickityGUID];return o&&o.option(e),o}r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var g=p.prototype;n.extend(g,e.prototype),g._create=function(){var e=this.guid=++u;for(var i in this.element.flickityGUID=e,h[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},g.option=function(t){n.extend(this.options,t)},g.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},g._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},g._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},g.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},g._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new o(t,this)}),this);return i},g.getLastCell=function(){return this.cells[this.cells.length-1]},g.getLastSlide=function(){return this.slides[this.slides.length-1]},g.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},g._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,o=t;o<n;o++){var s=this.cells[o];s.setPosition(e),e+=s.size.outerWidth,this.maxCellHeight=Math.max(s.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},g._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},g.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new s(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(e,o){if(t.cells.length){var a=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,o,a)||(t.updateTarget(),t=new s(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},g._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},g._init=g.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},g.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return g.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},g.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},g._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},g._getGapCells=function(t,e,i){var n=[];while(t>0){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},g._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],o=n<this.size.innerWidth,s=this.cursorPosition+this.cells[0].size[e],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){o?t.target=n*this.cellAlign:(t.target=Math.max(t.target,s),t.target=Math.min(t.target,a))}),this)}},g.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var o=t;if(e){var s=new r.Event(e);s.type=t,o=s}this.$element.trigger(o,i)}},g.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var o=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=o&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},g._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var o=n.modulo(t,e),s=Math.abs(o-this.selectedIndex),a=Math.abs(o+e-this.selectedIndex),r=Math.abs(o-e-this.selectedIndex);!this.isDragSelect&&a<s?t+=e:!this.isDragSelect&&r<s&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},g.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},g.next=function(t,e){this.select(this.selectedIndex+1,t,e)},g.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},g.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},g.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},g.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var o=this.getCellSlideIndex(n);this.select(o,e,i)}},g.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],n=i.cells.indexOf(t);if(-1!=n)return e}},g.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},g.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},g.getCellElements=function(){return this.cells.map((function(t){return t.element}))},g.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},g.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var o=[],s=e-t;s<=e+t;s++){var a=this.options.wrapAround?n.modulo(s,i):s,r=this.slides[a];r&&(o=o.concat(r.getCellElements()))}return o},g.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},g.uiChange=function(){this.emitEvent("uiChange")},g.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},g.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(p,"onresize",150),g.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},g.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},g.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},g.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},g.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},g.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},n.extend(g,a),p.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&h[e]},n.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=o,p.Slide=s,p}))},99110:function(t,e,i){var n,o,s;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(a,r){o=[i(48816),i(74856),i(70949),i(44523),i(47637),i(85393),i(5832)],n=r,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(window,(function(t){return t}))},5832:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(48816),i(79334)],o=function(t,e){return a(s,t,e)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var n=e.prototype;function o(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),o=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||o)return[t]}var s="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",a=t.querySelectorAll(s);return i.makeArray(a)}function s(t,e){this.img=t,this.flickity=e,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach((function(t){var e=o(t);n=n.concat(e)})),n.forEach((function(t){new s(t,this)}),this)}},s.prototype.handleEvent=i.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}))},44523:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(48816),i(34506),i(79334)],o=function(t,e,i){return a(s,t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n){"use strict";function o(t){this.parent=t,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},o.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},o.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,o=n+t,s=n;s<o;s++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(s+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=o.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=o,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var s=e.prototype;return s._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},s.activatePageDots=function(){this.pageDots.activate()},s.updateSelectedPageDots=function(){this.pageDots.updateSelected()},s.updatePageDots=function(){this.pageDots.setDots()},s.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=o,e}))},47637:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(98203),i(79334),i(48816)],o=function(t,e,i){return a(t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var o=i.prototype;return o._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},o.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},o.playPlayer=function(){this.player.play()},o.stopPlayer=function(){this.player.stop()},o.pausePlayer=function(){this.player.pause()},o.unpausePlayer=function(){this.player.unpause()},o.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},o.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},o.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}))},70949:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(48816),i(34506),i(79334)],o=function(t,e,i){return a(s,t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n){"use strict";var o="http://www.w3.org/2000/svg";function s(t,e){this.direction=t,this.parent=e,this._create()}function a(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(o,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(o,"path"),i=a(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}))},74875:function(t,e,i){var n,o;i(57658),function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},84307:function(t,e,i){var n,o;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=n.length;function s(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<o;e++){var i=n[e];t[i]=0}return t}function a(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=a(e);r=200==Math.round(t(n.width)),d.isBoxSizeOuter=r,i.removeChild(e)}}function d(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=a(e);if("none"==i.display)return s();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var d=l.isBorderBox="border-box"==i.boxSizing,u=0;u<o;u++){var h=n[u],p=i[h],g=parseFloat(p);l[h]=isNaN(g)?0:g}var m=l.paddingLeft+l.paddingRight,f=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,_=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=d&&r,x=t(i.width);!1!==x&&(l.width=x+(w?0:m+b));var C=t(i.height);return!1!==C&&(l.height=C+(w?0:f+y)),l.innerWidth=l.width-(m+b),l.innerHeight=l.height-(f+y),l.outerWidth=l.width+v,l.outerHeight=l.height+_,l}}return d}))},76674:function(t,e,i){var n,o;i(57658),
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(s,a){"use strict";n=[i(98203)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)}("undefined"!==typeof window?window:this,(function(t,e){"use strict";var i=t.jQuery,n=t.console;function o(t,e){for(var i in e)t[i]=e[i];return t}var s=Array.prototype.slice;function a(t){if(Array.isArray(t))return t;var e="object"==typeof t&&"number"==typeof t.length;return e?s.call(t):[t]}function r(t,e,s){if(!(this instanceof r))return new r(t,e,s);var l=t;"string"==typeof t&&(l=document.querySelectorAll(t)),l?(this.elements=a(l),this.options=o({},this.options),"function"==typeof e?s=e:o(this.options,e),s&&this.on("always",s),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):n.error("Bad element for imagesLoaded "+(l||t))}r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var s=t.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var a=s[n];this.addElementBackgroundImages(a)}}}};var l={1:!0,9:!0,11:!0};function c(t){this.img=t}function d(t,e){this.url=t,this.element=e,this.img=new Image}return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e){var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);while(null!==n){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}}},r.prototype.addImage=function(t){var e=new c(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new d(t,e);this.images.push(i)},r.prototype.check=function(){var t=this;function e(e,i,n){setTimeout((function(){t.progress(e,i,n)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(t){t.once("progress",e),t.check()})):this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},c.prototype=Object.create(e.prototype),c.prototype.check=function(){var t=this.getIsImageComplete();t?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},c.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},c.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},c.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype=Object.create(c.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(i=e,i.fn.imagesLoaded=function(t,e){var n=new r(this,t,e);return n.jqDeferred.promise(i(this))})},r.makeJQueryPlugin(),r}))},51055:function(t,e,i){var n,o;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(s,a){n=[i(34506)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",o=0;o<this.handles.length;o++){var s=this.handles[o];this._bindStartEvent(s,e),s[i]("click",this),t.PointerEvent&&(s.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=o[t.target.nodeName],i=s[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},82101:function(t,e,i){var n,o;i(57658),function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var s=i[o],a=n&&n[s];a&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},34506:function(t,e,i){var n,o;
/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */(function(s,a){n=[i(82101)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";function i(){}function n(){}var o=n.prototype=Object.create(e.prototype);o.bindStartEvent=function(t){this._bindStartEvent(t,!0)},o.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},o._bindStartEvent=function(e,i){i=void 0===i||i;var n=i?"addEventListener":"removeEventListener",o="mousedown";"ontouchstart"in t?o="touchstart":t.PointerEvent&&(o="pointerdown"),e[n](o,this)},o.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},o.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},o.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},o.onpointerdown=function(t){this._pointerDown(t,t)},o._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},o.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var s={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return o._bindPostStartEvents=function(e){if(e){var i=s[e.type];i.forEach((function(e){t.addEventListener(e,this)}),this),this._boundPointerEvents=i}},o._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach((function(e){t.removeEventListener(e,this)}),this),delete this._boundPointerEvents)},o.onmousemove=function(t){this._pointerMove(t,t)},o.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},o.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},o._pointerMove=function(t,e){this.pointerMove(t,e)},o.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},o.onmouseup=function(t){this._pointerUp(t,t)},o.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},o.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},o._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},o.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},o._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},o._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},o.pointerDone=i,o.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},o.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},o._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},o.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n}))},54626:function(t,e,i){var n,o;i(57658),function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)}("undefined"!=typeof window&&window,(function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var s=i[o],a=n&&n[s];a&&(this.off(t,s),delete n[s]),s.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}))},68182:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(95240)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e){"use strict";var i={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){while(t.parentNode&&t!=document.body)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach((function(t){if(t instanceof HTMLElement)if(n){e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}else o.push(t)})),o},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout((function(){n.apply(s,e),delete s[o]}),i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady((function(){var s=i.toDashed(n),a="data-"+s,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+s),c=i.makeArray(r).concat(i.makeArray(l)),d=a+"-options",u=t.jQuery;c.forEach((function(t){var i,s=t.getAttribute(a)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(l){return void(o&&o.error("Error parsing "+a+" on "+t.className+": "+l))}var r=new e(t,i);u&&u.data(t,n,r)}))}))},i}))},74846:function(t,e,i){var n,o;(function(s,a){n=[i(4291),i(68182)],o=function(t,e){return a(s,t,e)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e,i){"use strict";function n(t){var e=document.createDocumentFragment();return t.forEach((function(t){e.appendChild(t.element)})),e}var o=e.prototype;return o.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var o=this.cells.length;e=void 0===e?o:e;var s=n(i),a=e==o;if(a)this.slider.appendChild(s);else{var r=this.cells[e].element;this.slider.insertBefore(s,r)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,o-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},o.append=function(t){this.insert(t,this.cells.length)},o.prepend=function(t){this.insert(t,0)},o.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach((function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)}),this),this.cellChange(n,!0)}},o.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},o.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}))},84240:function(t,e,i){var n,o;(function(s,a){n=[i(68182)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";var i={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame((function(){e.animate()}))}},positionSlider:function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),this.setTranslateX(t,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(t,e){t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?"translate3d("+i+",0,0)":"translateX("+i+")"},dispatchScrollEvent:function(){var t=this.slides[0];if(t){var e=-this.x-t.target,i=e/this.slidesWidth;this.dispatchEvent("scroll",null,[i,e])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){var e=!this.isPointerDown&&Math.round(100*this.x)==Math.round(100*t);e&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n],s=e>0?i:0;o.wrapShift(s),e-=o.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},applySelectedAttraction:function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=-1*this.selectedSlide.target-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}}};return i}))},95967:function(t,e,i){var n,o;(function(s,a){n=[i(61161)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0,this.element.style[this.parent.originSide]=0},n.destroy=function(){this.unselect(),this.element.style.position="";var t=this.parent.originSide;this.element.style[t]="",this.element.style.transform="",this.element.removeAttribute("aria-hidden")},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e="left"===this.parent.originSide?1:-1,i=this.parent.options.percentPosition?t*e*(this.parent.size.innerWidth/this.size.width):t*e;this.element.style.transform="translateX("+this.parent.getPositionValue(i)+")"},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}))},23732:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(4291),i(25478),i(68182)],o=function(t,e,i){return a(s,t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n){"use strict";n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var o=e.prototype;n.extend(o,i.prototype),o._touchActionValue="pan-y",o._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},o.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},o.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},o._uiChangeDrag=function(){delete this.isFreeScrolling},o.pointerDown=function(e,i){if(this.isDraggable){var n=this.okayPointerDown(e);n&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=a(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))}else this._pointerDownDefault(e,i)},o._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var s={INPUT:!0,TEXTAREA:!0,SELECT:!0};function a(){return{x:t.pageXOffset,y:t.pageYOffset}}return o.pointerDownFocus=function(t){var e=s[t.target.nodeName];e||this.focus()},o._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=s[t.target.nodeName];e||i||n||t.preventDefault()},o.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},o.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},o.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},o.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x%=this.slideableWidth);var o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var s=Math.max(-this.slides[0].target,this.dragStartPosition);o=o>s?.5*(o+s):o;var a=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<a?.5*(o+a):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},o.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},o.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),o=i.distance<n.distance?i.index:n.index;return o},o._getClosestResting=function(t,e,i){var n=this.selectedIndex,o=1/0,s=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(s(e,o)){if(n+=i,o=e,e=this.getSlideDistance(-t,n),null===e)break;e=Math.abs(e)}return{distance:o,index:n-i}},o.getSlideDistance=function(t,e){var i=this.slides.length,o=this.options.wrapAround&&i>1,s=o?n.modulo(e,i):e,a=this.slides[s];if(!a)return null;var r=o?this.slideableWidth*Math.floor(e/i):0;return t-(a.target+r)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},o.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,o=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,o])},o.onscroll=function(){var t=a(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e}))},4291:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(54626),i(61161),i(68182),i(95967),i(27008),i(84240)],o=function(t,e,i,n,o,r){return a(s,t,e,i,n,o,r)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n,o,s,a){"use strict";var r=t.jQuery,l=t.getComputedStyle,c=t.console;function d(t,e){t=n.makeArray(t);while(t.length)e.appendChild(t.shift())}var u=0,h={};function p(t,e){var i=n.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var o=h[this.element.flickityGUID];return o&&o.option(e),o}r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}else c&&c.error("Bad element for Flickity: "+(i||t))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var g=p.prototype;n.extend(g,e.prototype),g._create=function(){var e=this.guid=++u;for(var i in this.element.flickityGUID=e,h[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this),this.options.on){var n=this.options.on[i];this.on(i,n)}p.createMethods.forEach((function(t){this[t]()}),this),this.options.watchCSS?this.watchCSS():this.activate()},g.option=function(t){n.extend(this.options,t)},g.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);d(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")}},g._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},g._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},g.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},g._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map((function(t){return new o(t,this)}),this);return i},g.getLastCell=function(){return this.cells[this.cells.length-1]},g.getLastSlide=function(){return this.slides[this.slides.length-1]},g.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},g._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,o=t;o<n;o++){var s=this.cells[o];s.setPosition(e),e+=s.size.outerWidth,this.maxCellHeight=Math.max(s.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},g._sizeCells=function(t){t.forEach((function(t){t.getSize()}))},g.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new s(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach((function(e,o){if(t.cells.length){var a=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,o,a)||(t.updateTarget(),t=new s(this),this.slides.push(t)),t.addCell(e)}else t.addCell(e)}),this),t.updateTarget(),this.updateSelectedSlide()}},g._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},g._init=g.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},g.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return g.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},g.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},g._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},g._getGapCells=function(t,e,i){var n=[];while(t>0){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},g._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],o=n<this.size.innerWidth,s=this.cursorPosition+this.cells[0].size[e],a=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach((function(t){o?t.target=n*this.cellAlign:(t.target=Math.max(t.target,s),t.target=Math.min(t.target,a))}),this)}},g.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var o=t;if(e){var s=new r.Event(e);s.type=t,o=s}this.$element.trigger(o,i)}},g.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var o=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=o&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},g._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var o=n.modulo(t,e),s=Math.abs(o-this.selectedIndex),a=Math.abs(o+e-this.selectedIndex),r=Math.abs(o-e-this.selectedIndex);!this.isDragSelect&&a<s?t+=e:!this.isDragSelect&&r<s&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},g.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},g.next=function(t,e){this.select(this.selectedIndex+1,t,e)},g.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},g.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},g.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(t&&"string"==typeof t){var e=this.queryCell(t);if(e)return void this.selectCell(t,!1,!0)}var i=0;t&&this.slides[t]&&(i=t),this.select(i,!1,!0)}},g.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var o=this.getCellSlideIndex(n);this.select(o,e,i)}},g.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],n=i.cells.indexOf(t);if(-1!=n)return e}},g.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},g.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach((function(t){var i=this.getCell(t);i&&e.push(i)}),this),e},g.getCellElements=function(){return this.cells.map((function(t){return t.element}))},g.getParentCell=function(t){var e=this.getCell(t);return e||(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},g.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var o=[],s=e-t;s<=e+t;s++){var a=this.options.wrapAround?n.modulo(s,i):s,r=this.slides[a];r&&(o=o.concat(r.getCellElements()))}return o},g.queryCell=function(t){if("number"==typeof t)return this.cells[t];if("string"==typeof t){if(t.match(/^[#.]?[\d/]/))return;t=this.element.querySelector(t)}return this.getCell(t)},g.uiChange=function(){this.emitEvent("uiChange")},g.childUIPointerDown=function(t){"touchstart"!=t.type&&t.preventDefault(),this.focus()},g.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(p,"onresize",150),g.resize=function(){if(this.isActive&&!this.isAnimating&&!this.isDragging){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},g.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=l(this.element,":after").content;-1!=e.indexOf("flickity")?this.activate():this.deactivate()}},g.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=p.keyboardHandlers[t.keyCode];i&&i.call(this)}},p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},g.focus=function(){var e=t.pageYOffset;this.element.focus({preventScroll:!0}),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},g.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach((function(t){t.destroy()})),this.element.removeChild(this.viewport),d(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},g.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),r&&this.$element&&r.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete h[this.guid]},n.extend(g,a),p.data=function(t){t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&h[e]},n.htmlInit(p,"flickity"),r&&r.bridget&&r.bridget("flickity",p),p.setJQuery=function(t){r=t},p.Cell=o,p.Slide=s,p}))},11693:function(t,e,i){var n,o,s;
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */(function(a,r){o=[i(4291),i(23732),i(26497),i(71376),i(35466),i(74846),i(72233)],n=r,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(window,(function(t){return t}))},72233:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(4291),i(68182)],o=function(t,e){return a(s,t,e)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i){"use strict";e.createMethods.push("_createLazyload");var n=e.prototype;function o(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),o=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||o)return[t]}var s="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",a=t.querySelectorAll(s);return i.makeArray(a)}function s(t,e){this.img=t,this.flickity=e,this.load()}return n._createLazyload=function(){this.on("select",this.lazyLoad)},n.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach((function(t){var e=o(t);n=n.concat(e)})),n.forEach((function(t){new s(t,this)}),this)}},s.prototype.handleEvent=i.handleEvent,s.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},s.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=s,e}))},71376:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(4291),i(34506),i(68182)],o=function(t,e,i){return a(s,t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n){"use strict";function o(t){this.parent=t,this._create()}o.prototype=Object.create(i.prototype),o.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},o.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},o.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,o=n+t,s=n;s<o;s++){var a=document.createElement("li");a.className="dot",a.setAttribute("aria-label","Page dot "+(s+1)),e.appendChild(a),i.push(a)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach((function(t){this.holder.removeChild(t)}),this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=o.prototype.onClick=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},o.prototype.destroy=function(){this.deactivate(),this.allOff()},e.PageDots=o,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var s=e.prototype;return s._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},s.activatePageDots=function(){this.pageDots.activate()},s.updateSelectedPageDots=function(){this.pageDots.updateSelected()},s.updatePageDots=function(){this.pageDots.setDots()},s.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=o,e}))},35466:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(54626),i(68182),i(4291)],o=function(t,e,i){return a(t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;t?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick())}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout((function(){e.parent.next(!0),e.tick()}),t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var o=i.prototype;return o._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},o.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},o.playPlayer=function(){this.player.play()},o.stopPlayer=function(){this.player.stop()},o.pausePlayer=function(){this.player.pause()},o.unpausePlayer=function(){this.player.unpause()},o.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},o.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},o.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}))},26497:function(t,e,i){var n,o;i(57658),function(s,a){n=[i(4291),i(34506),i(68182)],o=function(t,e,i){return a(s,t,e,i)}.apply(e,n),void 0===o||(t.exports=o)}(window,(function(t,e,i,n){"use strict";var o="http://www.w3.org/2000/svg";function s(t,e){this.direction=t,this.parent=e,this._create()}function a(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}s.prototype=Object.create(i.prototype),s.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},s.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},s.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},s.prototype.createSVG=function(){var t=document.createElementNS(o,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(o,"path"),i=a(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},s.prototype.handleEvent=n.handleEvent,s.prototype.onclick=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},s.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},s.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},s.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()}},s.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var r=e.prototype;return r._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new s(-1,this),this.nextButton=new s(1,this),this.on("activate",this.activatePrevNextButtons))},r.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},r.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=s,e}))},27008:function(t,e,i){var n,o;i(57658),function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)}(window,(function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.cells.forEach((function(t){t.select()}))},e.unselect=function(){this.cells.forEach((function(t){t.unselect()}))},e.getCellElements=function(){return this.cells.map((function(t){return t.element}))},t}))},61161:function(t,e,i){var n,o;
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */(function(s,a){n=a,o="function"===typeof n?n.call(e,i,e,t):n,void 0===o||(t.exports=o)})(window,(function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}var i="undefined"==typeof console?e:function(t){console.error(t)},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=n.length;function s(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<o;e++){var i=n[e];t[i]=0}return t}function a(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var r,l=!1;function c(){if(!l){l=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=a(e);r=200==Math.round(t(n.width)),d.isBoxSizeOuter=r,i.removeChild(e)}}function d(e){if(c(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=a(e);if("none"==i.display)return s();var l={};l.width=e.offsetWidth,l.height=e.offsetHeight;for(var d=l.isBorderBox="border-box"==i.boxSizing,u=0;u<o;u++){var h=n[u],p=i[h],g=parseFloat(p);l[h]=isNaN(g)?0:g}var m=l.paddingLeft+l.paddingRight,f=l.paddingTop+l.paddingBottom,v=l.marginLeft+l.marginRight,_=l.marginTop+l.marginBottom,b=l.borderLeftWidth+l.borderRightWidth,y=l.borderTopWidth+l.borderBottomWidth,w=d&&r,x=t(i.width);!1!==x&&(l.width=x+(w?0:m+b));var C=t(i.height);return!1!==C&&(l.height=C+(w?0:f+y)),l.innerWidth=l.width-(m+b),l.innerHeight=l.height-(f+y),l.outerWidth=l.width+v,l.outerHeight=l.height+_,l}}return d}))},25478:function(t,e,i){var n,o;
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */(function(s,a){n=[i(34506)],o=function(t){return a(s,t)}.apply(e,n),void 0===o||(t.exports=o)})(window,(function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",o=0;o<this.handles.length;o++){var s=this.handles[o];this._bindStartEvent(s,e),s[i]("click",this),t.PointerEvent&&(s.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=o[t.target.nodeName],i=s[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i}))},13382:function(t,e,i){var n=i(71533);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("9124acb2",n,!0,{sourceMap:!1,shadowMode:!1})},20148:function(t,e,i){var n=i(84421);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("d9648a00",n,!0,{sourceMap:!1,shadowMode:!1})},58893:function(t,e,i){var n=i(14048);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("ca6783fa",n,!0,{sourceMap:!1,shadowMode:!1})},59973:function(t,e,i){var n=i(57301);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("71109d3e",n,!0,{sourceMap:!1,shadowMode:!1})},88297:function(t,e,i){var n=i(87316);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("a38c187e",n,!0,{sourceMap:!1,shadowMode:!1})},9087:function(t,e,i){var n=i(21238);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("5a19e042",n,!0,{sourceMap:!1,shadowMode:!1})},68555:function(t,e,i){var n=i(19903);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("76c19cc0",n,!0,{sourceMap:!1,shadowMode:!1})},27472:function(t,e,i){var n=i(88777);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("4be840eb",n,!0,{sourceMap:!1,shadowMode:!1})},63394:function(t,e,i){var n=i(22375);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("0331d163",n,!0,{sourceMap:!1,shadowMode:!1})},64988:function(t,e,i){var n=i(89303);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("6276c809",n,!0,{sourceMap:!1,shadowMode:!1})},96749:function(t,e,i){var n=i(52565);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("62879be9",n,!0,{sourceMap:!1,shadowMode:!1})},48349:function(t,e,i){var n=i(69575);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("327fdb68",n,!0,{sourceMap:!1,shadowMode:!1})},20447:function(t,e,i){var n=i(81051);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("43411bf0",n,!0,{sourceMap:!1,shadowMode:!1})},29260:function(t,e,i){var n=i(4785);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("365f5aed",n,!0,{sourceMap:!1,shadowMode:!1})},83294:function(t,e,i){var n=i(94662);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("981b8a44",n,!0,{sourceMap:!1,shadowMode:!1})},86883:function(t,e,i){var n=i(88377);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("5b10c515",n,!0,{sourceMap:!1,shadowMode:!1})},92795:function(t,e,i){var n=i(79494);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("73783570",n,!0,{sourceMap:!1,shadowMode:!1})},58653:function(t,e,i){var n=i(82117);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("4c92c690",n,!0,{sourceMap:!1,shadowMode:!1})},71236:function(t,e,i){var n=i(12355);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("56b01ce9",n,!0,{sourceMap:!1,shadowMode:!1})},52046:function(t,e,i){var n=i(73589);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("7060f4ae",n,!0,{sourceMap:!1,shadowMode:!1})},84825:function(t,e,i){var n=i(59691);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=i(31982).Z;o("1b8cce71",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=946.js.map