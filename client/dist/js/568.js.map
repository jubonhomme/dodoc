{"version":3,"file":"js/568.js","mappings":"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","sources":["webpack://app/./src/components/publications/cartography/MapView.vue?cbdc","webpack://app/src/components/publications/cartography/MapView.vue","webpack://app/./src/components/publications/cartography/MapView.vue?2b9a","webpack://app/./src/components/publications/cartography/MapView.vue","webpack://app/./src/components/publications/templates/MapTemplate.vue?b3f2","webpack://app/./src/components/publications/cartography/MapSettings.vue?629e","webpack://app/./src/components/publications/cartography/PositionPicker.vue?f6a0","webpack://app/src/components/publications/cartography/PositionPicker.vue","webpack://app/./src/components/publications/cartography/PositionPicker.vue?056b","webpack://app/./src/components/publications/cartography/PositionPicker.vue","webpack://app/src/components/publications/cartography/MapSettings.vue","webpack://app/./src/components/publications/cartography/MapSettings.vue?413a","webpack://app/./src/components/publications/cartography/MapSettings.vue","webpack://app/src/components/publications/templates/MapTemplate.vue","webpack://app/./src/components/publications/templates/MapTemplate.vue?071b","webpack://app/./src/components/publications/templates/MapTemplate.vue","webpack://app/./src/components/publications/cartography/MapSettings.vue?34b6","webpack://app/./src/components/publications/cartography/MapView.vue?cc78","webpack://app/./src/components/publications/cartography/PositionPicker.vue?c2d5","webpack://app/./src/components/publications/templates/MapTemplate.vue?0d86","webpack://app/./src/components/publications/cartography/MapSettings.vue?1ebf","webpack://app/./src/components/publications/cartography/MapView.vue?d890","webpack://app/./src/components/publications/cartography/PositionPicker.vue?e133","webpack://app/./src/components/publications/templates/MapTemplate.vue?3d4c"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_mapView\"},[_c('DisplayOnMap',{staticClass:\"_mapContainer\",attrs:{\"start_coords\":_vm.start_coords,\"start_zoom\":_vm.start_zoom,\"is_small\":false}}),_c('div',{staticClass:\"_textContainer\"},[_c('div',{staticClass:\"_views\"},[_c('DLabel',{attrs:{\"str\":_vm.$t('views_list')}}),_vm._l((_vm.views_list),function(view,index){return _c('button',{key:index,staticClass:\"_viewPreview\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.openView(index)}}},[_c('sl-badge',{attrs:{\"pill\":\"\"}},[_vm._v(_vm._s(index + 1))]),_c('strong',[_vm._v(\" \"+_vm._s(view.title)+\" \")])],1)})],2),_c('transition',{attrs:{\"name\":\"slideup\",\"duration\":150,\"mode\":\"out-in\"}},[(_vm.opened_view_id !== false)?_c('div',{staticClass:\"_openedView\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.opened_view.title)+\" \")]),_c('sl-button',{staticClass:\"_closeBtn\",attrs:{\"variant\":\"default\",\"size\":\"medium\",\"circle\":\"\"},on:{\"click\":_vm.closeView}},[_c('sl-icon',{attrs:{\"name\":\"x\",\"label\":_vm.$t('close')}})],1),_c('hr'),_c('CollaborativeEditor2',{ref:\"textBloc\",attrs:{\"path\":'',\"content\":_vm.opened_view.text,\"can_edit\":false}})],1):_vm._e()])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"_mapView\">\n    <DisplayOnMap\n      class=\"_mapContainer\"\n      :start_coords=\"start_coords\"\n      :start_zoom=\"start_zoom\"\n      :is_small=\"false\"\n    />\n    <div class=\"_textContainer\">\n      <div class=\"_views\">\n        <DLabel :str=\"$t('views_list')\" />\n\n        <button\n          type=\"button\"\n          class=\"_viewPreview\"\n          v-for=\"(view, index) in views_list\"\n          :key=\"index\"\n          @click=\"openView(index)\"\n        >\n          <sl-badge pill>{{ index + 1 }}</sl-badge>\n          <strong>\n            {{ view.title }}\n          </strong>\n        </button>\n      </div>\n\n      <transition name=\"slideup\" :duration=\"150\" mode=\"out-in\">\n        <div class=\"_openedView\" v-if=\"opened_view_id !== false\">\n          <h2>\n            {{ opened_view.title }}\n          </h2>\n\n          <sl-button\n            variant=\"default\"\n            size=\"medium\"\n            circle\n            class=\"_closeBtn\"\n            @click=\"closeView\"\n          >\n            <sl-icon name=\"x\" :label=\"$t('close')\"></sl-icon>\n          </sl-button>\n          <hr />\n\n          <CollaborativeEditor2\n            ref=\"textBloc\"\n            :path=\"''\"\n            :content=\"opened_view.text\"\n            :can_edit=\"false\"\n          />\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    publication: Object,\n  },\n  components: {\n    DisplayOnMap: () => import(\"@/adc-core/fields/DisplayOnMap.vue\"),\n  },\n  data() {\n    return {\n      views_list: [\n        {\n          title: \"Présentation du territoire\",\n          text: `<p>Pellentesque vehicula consequat mi nec efficitur. Etiam nunc massa, congue ut justo ac, cursus fringilla nisi. Aliquam erat volutpat. Integer \n          vulputate hendrerit sodales. Duis varius, purus sit amet varius dapibus, velit est pellentesque lectus, quis auctor orci urna sed sapien. Curabitur \n          at risus quis magna lacinia ultricies. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Fusce fringilla nulla sit amet tempus maximus.\n          </p><p>Etiam bibendum nec metus nec pulvinar. Duis tristique, erat eu ornare tincidunt, ante elit blandit dui, sit amet volutpat massa felis mattis lectus. Vestibulum commodo felis libero, eu convallis mi faucibus vestibulum. Pellentesque condimentum ullamcorper interdum. Duis vel varius diam. Nulla aliquam ipsum nisi, sed vestibulum neque porttitor sit amet. Nullam quis consectetur tellus. Pellentesque mattis eget velit ut elementum. Maecenas tincidunt sollicitudin feugiat. Nam eleifend nisl ut erat blandit, quis bibendum ex gravida. Mauris nec feugiat lacus. Vestibulum gravida dapibus condimentum. Sed eu maximus urna, id rutrum ipsum. Nam vitae velit sem.</p>'`,\n          map_center: [5.39057449011251, 43.310173305629576],\n          map_zoom: 12,\n        },\n        {\n          title: \"Les point de vue des habitants\",\n          text: `<p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Fusce fringilla nulla sit amet tempus maximus.\n        </p>'`,\n          map_center: [5.38134192070759, 43.27892369030499],\n          map_zoom: 16,\n        },\n        {\n          title: \"Le tissu associatif\",\n          text: `<p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Fusce fringilla nulla sit amet tempus maximus.\n        </p>'`,\n          map_center: [5.331893135466207, 43.359606738182094],\n          map_zoom: 14,\n        },\n      ],\n\n      opened_view_id: false,\n    };\n  },\n  i18n: {\n    messages: {\n      fr: {\n        views_list: \"Liste des vues\",\n      },\n    },\n  },\n\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    start_coords() {\n      // return this.views_list[0].map_center;\n      return [5.39057449011251, 43.310173305629576];\n    },\n    start_zoom() {\n      // return this.views_list[0].map_zoom;\n      return 10;\n    },\n    opened_view() {\n      if (this.opened_view_id === false) return false;\n      return this.views_list[this.opened_view_id];\n    },\n    // initial_view() {\n    //   const il = this.publication.map_initial_location;\n    //   if (!il) return false;\n    //   return il;\n    // },\n  },\n  methods: {\n    openView(index) {\n      this.opened_view_id = index;\n      this.$eventHub.$emit(\"publication.map.navigateTo\", {\n        center: this.opened_view.map_center,\n        zoom: this.opened_view.map_zoom,\n      });\n    },\n    closeView() {\n      this.opened_view_id = false;\n      this.$eventHub.$emit(\"publication.map.navigateTo\", {\n        center: this.start_coords,\n        zoom: this.start_zoom,\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._mapView {\n  width: 100%;\n  height: 80vh;\n  background: var(--c-gris);\n  border-radius: 4px;\n  overflow: hidden;\n\n  display: flex;\n  flex-flow: row wrap;\n}\n._mapContainer {\n  height: 100%;\n}\n._textContainer {\n  position: relative;\n\n  height: 100%;\n  flex: 1 1 200px;\n  max-width: 320px;\n  padding: calc(var(--spacing) / 2);\n  background: var(--panel-color);\n  border: var(--panel-borders);\n  box-shadow: var(--panel-shadows);\n  text-align: left;\n}\n\n._views {\n}\n\n._viewPreview {\n  background: var(--c-gris_clair);\n  padding: calc(var(--spacing) / 2);\n  margin-bottom: calc(var(--spacing) / 2);\n\n  display: flex;\n  align-items: center;\n  gap: calc(var(--spacing) / 2);\n\n  &:hover {\n    background: var(--c-gris_fonce);\n  }\n}\n._openedView {\n  position: absolute;\n  top: calc(var(--spacing) / 4);\n  left: calc(var(--spacing) / 4);\n  width: calc(100% - calc(var(--spacing) / 2));\n  height: 100%;\n  overflow: auto;\n  background: white;\n  padding: calc(var(--spacing) / 2);\n}\n\n._closeBtn {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapView.vue?vue&type=template&id=978799fc&scoped=true&\"\nimport script from \"./MapView.vue?vue&type=script&lang=js&\"\nexport * from \"./MapView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapView.vue?vue&type=style&index=0&id=978799fc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"978799fc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.can_edit)?_c('RadioSwitch',{staticClass:\"_switch\",attrs:{\"content\":_vm.current_view,\"options\":[\n      {\n        label: _vm.$t('settings'),\n        value: 'settings',\n      },\n      {\n        label: _vm.$t('map'),\n        value: 'map',\n      } ]},on:{\"update:content\":function($event){_vm.current_view=$event}}}):_vm._e(),(_vm.current_view === 'settings')?_c('MapSettings',{attrs:{\"publication\":_vm.publication,\"path\":_vm.publication.$path}}):_c('MapView',{attrs:{\"publication\":_vm.publication}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"_mapSettings\"},[_c('div',{staticClass:\"u-spacingBottom\"},[_c('DLabel',{attrs:{\"str\":_vm.$t('map_mode')}}),_c('RadioCheckboxField',{attrs:{\"field_name\":'map_mode',\"input_type\":'radio',\"content\":_vm.map_mode,\"path\":_vm.publication.$path,\"can_edit\":true,\"options\":_vm.map_mode_options}})],1),_c('div',{staticClass:\"u-spacingBottom\"},[(_vm.map_mode === 'gps')?[_c('DLabel',{attrs:{\"str\":_vm.$t('gps_starting_point')}}),_c('PositionPicker',{attrs:{\"format\":'gps',\"start_value\":_vm.publication.map_initial_location || '',\"edit_mode\":true},on:{\"update\":_vm.updateBasePosition}})]:(_vm.map_mode === 'image')?[_c('DLabel',{attrs:{\"str\":_vm.$t('image_basemap')}}),_c('SingleBaseMediaPicker',{attrs:{\"field_name\":'map_basemap',\"content\":_vm.publication.map_basemap,\"path\":_vm.publication.$path,\"media_type_to_pick\":'image'}})]:_vm._e()],2),_vm._v(\" \"+_vm._s(_vm.publication.map_basemap)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"m_fields--content\"},[(!_vm.raw_mode)?[(_vm.format === 'gps')?[_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('latitude')}}),_c('div',{staticClass:\"u-inputGroup\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.latitude),expression:\"latitude\"}],attrs:{\"placeholder\":_vm.$t('latitude'),\"size\":\"medium\",\"type\":\"text\",\"disabled\":!_vm.edit_mode,\"help-text\":\"Latitude, par exemple : 64.138 ou 64° 8' 16.8\\\" N\"},domProps:{\"value\":(_vm.latitude)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.latitude=$event.target.value}}}),_c('span',{staticClass:\"u-suffix\"},[_vm._v(\"°\")])])],1),_c('div',{},[_c('DLabel',{attrs:{\"str\":_vm.$t('longitude')}}),_c('div',{staticClass:\"u-inputGroup\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.longitude),expression:\"longitude\"}],attrs:{\"placeholder\":_vm.$t('longitude'),\"size\":\"medium\",\"type\":\"text\",\"disabled\":!_vm.edit_mode,\"help-text\":\"Longitude, par exemple : -21.877 ou 21° 52' 37.199\\\" O\"},domProps:{\"value\":(_vm.longitude)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.longitude=$event.target.value}}}),_c('span',{staticClass:\"u-suffix\"},[_vm._v(\"°\")])])],1),(_vm.format === 'gps' && _vm.edit_mode)?_c('button',{staticClass:\"u-buttonLink\",attrs:{\"type\":\"button\",\"loading\":_vm.is_looking_for_gps_coords},on:{\"click\":_vm.currentPosition}},[_vm._v(\" \"+_vm._s(_vm.$t(\"current_position\"))+\" \")]):_vm._e(),_c('sl-alert',{attrs:{\"type\":\"warning\",\"open\":_vm.error_message,\"closable\":\"\"},on:{\"sl-after-hide\":function($event){_vm.error_message = false}}},[_c('sl-icon',{attrs:{\"slot\":\"icon\",\"name\":\"exclamation-triangle\"},slot:\"icon\"}),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.error_message)}})],1),_c('DisplayOnMap',{attrs:{\"pins\":_vm.longlat ? [_vm.longlat] : []},on:{\"newPosition\":_vm.newPosition}})]:[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],attrs:{\"size\":\"medium\",\"name\":\"address\",\"type\":\"text\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})]]:_c('pre',[_vm._v(_vm._s(_vm.location))])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"m_fields--content\">\n      <template v-if=\"!raw_mode\">\n        <!-- <sl-input v-sl-model=\"location\" size=\"medium\" name=\"text\" type=\"text\" /> -->\n        <template v-if=\"format === 'gps'\">\n          <div class=\"\">\n            <DLabel :str=\"$t('latitude')\" />\n            <div class=\"u-inputGroup\">\n              <input\n                :placeholder=\"$t('latitude')\"\n                v-model=\"latitude\"\n                size=\"medium\"\n                type=\"text\"\n                :disabled=\"!edit_mode\"\n                help-text=\"Latitude, par exemple : 64.138 ou 64° 8' 16.8&quot; N\"\n              />\n              <span class=\"u-suffix\">°</span>\n            </div>\n          </div>\n          <div class=\"\">\n            <DLabel :str=\"$t('longitude')\" />\n            <div class=\"u-inputGroup\">\n              <input\n                :placeholder=\"$t('longitude')\"\n                v-model=\"longitude\"\n                size=\"medium\"\n                type=\"text\"\n                :disabled=\"!edit_mode\"\n                help-text=\"Longitude, par exemple : -21.877 ou 21° 52' 37.199&quot; O\"\n              />\n              <span class=\"u-suffix\">°</span>\n            </div>\n          </div>\n\n          <button\n            type=\"button\"\n            class=\"u-buttonLink\"\n            @click=\"currentPosition\"\n            v-if=\"format === 'gps' && edit_mode\"\n            :loading=\"is_looking_for_gps_coords\"\n          >\n            <!-- :disabled=\"$root.state.is_electron\" -->\n            {{ $t(\"current_position\") }}\n          </button>\n          <!-- <button\n              type=\"button\"\n              class=\"u-button u-button_small\"\n              @click=\"pick_on_map = !pick_on_map\"\n              :active=\"pick_on_map\"\n              v-if=\"format === 'gps' && edit_mode\"\n            >\n              {{ $t(\"pick_on_map\") }}\n            </button> -->\n\n          <sl-alert\n            type=\"warning\"\n            :open=\"error_message\"\n            @sl-after-hide=\"error_message = false\"\n            closable\n          >\n            <sl-icon slot=\"icon\" name=\"exclamation-triangle\"></sl-icon>\n            <span v-html=\"error_message\" />\n          </sl-alert>\n\n          <!-- v-if=\"pick_on_map\" -->\n          <DisplayOnMap\n            :pins=\"longlat ? [longlat] : []\"\n            @newPosition=\"newPosition\"\n          />\n        </template>\n        <template v-else>\n          <input v-model=\"value\" size=\"medium\" name=\"address\" type=\"text\" />\n        </template>\n      </template>\n      <pre v-else>{{ location }}</pre>\n    </div>\n  </div>\n</template>\n<script>\nconst convertDMSToDD = (dms) => {\n  // eslint-disable-next-line\n  let parts = dms.split(/[^\\d+(\\,\\d+)\\d+(\\.\\d+)?\\w]+/);\n  let degrees = parseFloat(parts[0]);\n  let minutes = parseFloat(parts[1]);\n  let seconds = parseFloat(parts[2].replace(\",\", \".\"));\n  let direction = parts[3];\n\n  // console.log(\"degrees: \" + degrees);\n  // console.log(\"minutes: \" + minutes);\n  // console.log(\"seconds: \" + seconds);\n  // console.log(\"direction: \" + direction);\n\n  let dd = degrees + minutes / 60 + seconds / (60 * 60);\n\n  if (direction == \"S\" || direction == \"W\" || direction === \"O\") {\n    dd = dd * -1;\n  } // Don't do anything for N or E\n  return dd;\n};\n\nexport default {\n  props: {\n    format: String,\n    start_value: [Number, String],\n    edit_mode: Boolean,\n  },\n  components: {\n    DisplayOnMap: () => import(\"@/adc-core/fields/DisplayOnMap.vue\"),\n  },\n  data() {\n    return {\n      raw_mode: false,\n\n      longitude: \"\",\n      latitude: \"\",\n\n      degrees: \"\",\n      minutes: \"\",\n      seconds: \"\",\n\n      value: \"\",\n\n      // pick_on_map: true,\n\n      is_looking_for_gps_coords: false,\n      error_message: false,\n    };\n  },\n  created() {\n    if (this.start_value) {\n      const start_value = this.start_value.toString();\n      if (this.format === \"gps\") {\n        if (start_value.split(\" \").length > 0) {\n          const long = start_value.split(\" \")[0];\n          if (long && long !== \"undefined\") this.longitude = long;\n          const lat = start_value.split(\" \")[1];\n          if (lat && lat !== \"undefined\") this.latitude = lat;\n        }\n      } else this.value = start_value;\n    }\n  },\n  mounted() {\n    // this.$el.addEventListener(\"sl-hide\", (event) => {\n    //   if (event.target.tagName === \"SL-ALERT\") event.stopPropagation();\n    // });\n  },\n  beforeDestroy() {},\n  watch: {\n    location() {\n      this.$emit(\"update\", this.location);\n    },\n    value() {\n      this.$emit(\"update\", this.value);\n    },\n  },\n  computed: {\n    location() {\n      if (!this.longlat) return \"\";\n      let long = this.longlat.longitude;\n      let lat = this.longlat.latitude;\n      return `${long} ${lat}`;\n    },\n    longlat() {\n      if (!this.longitude || !this.latitude) return undefined;\n\n      let longitude = this.longitude;\n      let latitude = this.latitude;\n\n      if (typeof longitude === \"string\" && longitude.includes(\"°\"))\n        longitude = convertDMSToDD(longitude);\n      if (typeof latitude === \"string\" && latitude.includes(\"°\"))\n        latitude = convertDMSToDD(latitude);\n\n      return {\n        longitude,\n        latitude,\n      };\n    },\n  },\n  methods: {\n    currentPosition() {\n      this.is_looking_for_gps_coords = true;\n\n      var options = {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0,\n      };\n\n      const success = (pos) => {\n        var crd = pos.coords;\n\n        this.is_looking_for_gps_coords = false;\n\n        this.longitude = crd.longitude;\n        this.latitude = crd.latitude;\n\n        // console.log(\"Votre position actuelle est :\");\n        // console.log(`Latitude : ${crd.latitude}`);\n        // console.log(`Longitude : ${crd.longitude}`);\n        // console.log(`La précision est de ${crd.accuracy} mètres.`);\n      };\n\n      const error = (err) => {\n        this.error_message = `Échec de la localisation de votre appareil.<br>(${err.code}): ${err.message}`;\n        this.is_looking_for_gps_coords = false;\n      };\n\n      navigator.geolocation.getCurrentPosition(success, error, options);\n    },\n    newPosition({ longitude, latitude }) {\n      this.longitude = longitude;\n      this.latitude = latitude;\n      // this.pick_on_map = false;\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._nowButton {\n  margin-top: var(--sl-spacing-xx-small);\n}\n\n._btnRow {\n  display: flex;\n  flex-flow: row wrap;\n  gap: calc(var(--spacing) / 2);\n  margin: calc(var(--spacing) / 2) 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PositionPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PositionPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PositionPicker.vue?vue&type=template&id=662b90f4&scoped=true&\"\nimport script from \"./PositionPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./PositionPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PositionPicker.vue?vue&type=style&index=0&id=662b90f4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"662b90f4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"_mapSettings\">\n    <div class=\"u-spacingBottom\">\n      <DLabel :str=\"$t('map_mode')\" />\n      <RadioCheckboxField\n        :field_name=\"'map_mode'\"\n        :input_type=\"'radio'\"\n        :content=\"map_mode\"\n        :path=\"publication.$path\"\n        :can_edit=\"true\"\n        :options=\"map_mode_options\"\n      />\n    </div>\n\n    <div class=\"u-spacingBottom\">\n      <template v-if=\"map_mode === 'gps'\">\n        <DLabel :str=\"$t('gps_starting_point')\" />\n        <PositionPicker\n          :format=\"'gps'\"\n          :start_value=\"publication.map_initial_location || ''\"\n          :edit_mode=\"true\"\n          @update=\"updateBasePosition\"\n        />\n      </template>\n      <template v-else-if=\"map_mode === 'image'\">\n        <DLabel :str=\"$t('image_basemap')\" />\n        <SingleBaseMediaPicker\n          :field_name=\"'map_basemap'\"\n          :content=\"publication.map_basemap\"\n          :path=\"publication.$path\"\n          :media_type_to_pick=\"'image'\"\n        />\n      </template>\n    </div>\n    {{ publication.map_basemap }}\n  </div>\n</template>\n<script>\nimport PositionPicker from \"@/components/publications/cartography/PositionPicker.vue\";\nimport SingleBaseMediaPicker from \"@/components/makes/SingleBaseMediaPicker.vue\"; // eslint-disable-line\n\nexport default {\n  props: {\n    publication: Object,\n    path: String,\n  },\n  components: {\n    PositionPicker,\n    SingleBaseMediaPicker,\n  },\n  data() {\n    return {\n      map_mode_options: [\n        {\n          key: \"gps\",\n          label: this.$t(\"map_mode_gps\"),\n          instructions: this.$t(\"map_mode_gps_instr\"),\n        },\n        {\n          key: \"image\",\n          label: this.$t(\"map_mode_image\"),\n          instructions: this.$t(\"map_mode_image_instr\"),\n        },\n      ],\n    };\n  },\n  i18n: {\n    // `i18n` option, setup locale info for component\n    messages: {\n      fr: {\n        map_mode: \"Mode de cartographie\",\n\n        map_mode_gps: \"Coordonnées GPS avec un fond de carte OpenStreetMap\",\n        map_mode_gps_instr: \"Pour cartographier un espace extérieur.\",\n        gps_starting_point: \"Point de référence de la carte\",\n\n        map_mode_image: \"Fond de plan image\",\n        map_mode_image_instr:\n          \"Pour cartographier un espace intérieur ou très réduit ou un espace non-cartographique.\",\n        image_basemap: \"Image utilisée comme fond de carte\",\n      },\n      en: {},\n    },\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {\n    map_mode() {\n      return this.publication.map_mode || \"gps\";\n      // gps or image\n    },\n  },\n  methods: {\n    async updateBasePosition(val) {\n      await this.updatePubli({\n        map_initial_location: val,\n      });\n    },\n\n    async updatePubli(new_meta) {\n      await this.$api.updateMeta({\n        path: this.path,\n        new_meta,\n      });\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n._mapSettings {\n  width: 100%;\n  max-width: 500px;\n  margin: 0 auto;\n  background: white;\n  padding: calc(var(--spacing) / 1);\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapSettings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapSettings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapSettings.vue?vue&type=template&id=165346fc&scoped=true&\"\nimport script from \"./MapSettings.vue?vue&type=script&lang=js&\"\nexport * from \"./MapSettings.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapSettings.vue?vue&type=style&index=0&id=165346fc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"165346fc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <RadioSwitch\n      v-if=\"can_edit\"\n      class=\"_switch\"\n      :content.sync=\"current_view\"\n      :options=\"[\n        {\n          label: $t('settings'),\n          value: 'settings',\n        },\n        {\n          label: $t('map'),\n          value: 'map',\n        },\n      ]\"\n    />\n\n    <MapSettings\n      v-if=\"current_view === 'settings'\"\n      :publication=\"publication\"\n      :path=\"publication.$path\"\n    />\n    <MapView v-else :publication=\"publication\" />\n  </div>\n</template>\n<script>\nimport MapSettings from \"@/components/publications/cartography/MapSettings.vue\";\nimport MapView from \"@/components/publications/cartography/MapView.vue\";\n\nexport default {\n  props: {\n    publication: Object,\n    can_edit: Boolean,\n  },\n  components: {\n    MapSettings,\n    MapView,\n  },\n  data() {\n    return {\n      current_view: \"map\",\n    };\n  },\n  created() {},\n  mounted() {},\n  beforeDestroy() {},\n  watch: {},\n  computed: {},\n  methods: {},\n};\n</script>\n<style lang=\"scss\" scoped>\n._switch {\n  margin: calc(var(--spacing) * 1) 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-37[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapTemplate.vue?vue&type=template&id=3c48c2c0&scoped=true&\"\nimport script from \"./MapTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./MapTemplate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapTemplate.vue?vue&type=style&index=0&id=3c48c2c0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c48c2c0\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._mapSettings[data-v-165346fc]{width:100%;max-width:500px;margin:0 auto;background:#fff;padding:calc(var(--spacing)/1)}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._mapView[data-v-978799fc]{width:100%;height:80vh;background:var(--c-gris);border-radius:4px;overflow:hidden;display:flex;flex-flow:row wrap}._mapContainer[data-v-978799fc]{height:100%}._textContainer[data-v-978799fc]{position:relative;height:100%;flex:1 1 200px;max-width:320px;background:var(--panel-color);border:var(--panel-borders);box-shadow:var(--panel-shadows);text-align:left}._textContainer[data-v-978799fc],._viewPreview[data-v-978799fc]{padding:calc(var(--spacing)/2)}._viewPreview[data-v-978799fc]{background:var(--c-gris_clair);margin-bottom:calc(var(--spacing)/2);display:flex;align-items:center;gap:calc(var(--spacing)/2)}._viewPreview[data-v-978799fc]:hover{background:var(--c-gris_fonce)}._openedView[data-v-978799fc]{position:absolute;top:calc(var(--spacing)/4);left:calc(var(--spacing)/4);width:calc(100% - var(--spacing)/2);height:100%;overflow:auto;background:#fff;padding:calc(var(--spacing)/2)}._closeBtn[data-v-978799fc]{position:absolute;top:0;right:0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._nowButton[data-v-662b90f4]{margin-top:var(--sl-spacing-xx-small)}._btnRow[data-v-662b90f4]{display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);margin:calc(var(--spacing)/2) 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"._switch[data-v-3c48c2c0]{margin:calc(var(--spacing)*1) 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapSettings.vue?vue&type=style&index=0&id=165346fc&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c2dee876\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapView.vue?vue&type=style&index=0&id=978799fc&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2f5354de\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PositionPicker.vue?vue&type=style&index=0&id=662b90f4&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1e4e6720\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-19[0].rules[0].use[4]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapTemplate.vue?vue&type=style&index=0&id=3c48c2c0&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8801d8f8\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","start_coords","start_zoom","$t","_l","view","index","key","on","$event","openView","_v","_s","title","opened_view_id","opened_view","closeView","ref","text","_e","staticRenderFns","props","publication","components","DisplayOnMap","data","views_list","map_center","map_zoom","i18n","messages","fr","created","mounted","beforeDestroy","watch","computed","methods","center","zoom","component","current_view","label","value","$path","map_mode","map_mode_options","map_initial_location","updateBasePosition","map_basemap","raw_mode","location","format","directives","name","rawName","expression","edit_mode","domProps","target","composing","latitude","longitude","is_looking_for_gps_coords","currentPosition","error_message","slot","longlat","newPosition","convertDMSToDD","dd","start_value","degrees","minutes","seconds","enableHighAccuracy","timeout","maximumAge","navigator","path","PositionPicker","SingleBaseMediaPicker","instructions","map_mode_gps","map_mode_gps_instr","gps_starting_point","map_mode_image","map_mode_image_instr","image_basemap","en","new_meta","can_edit","MapSettings","MapView","___CSS_LOADER_EXPORT___","push","module","id","content","__esModule","default","locals","exports","add"],"sourceRoot":""}