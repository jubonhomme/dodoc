(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[666],{95737:function(t,e,i){"use strict";i.d(e,{Z:function(){return ct}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_projectInfos",class:{"is--list":"list"===t.context,"u-card":"list"===t.context,"is--linkToProject":"full"!==t.context,"is--mobileView":t.$root.is_mobile_view}},[i("div",{staticClass:"_projectInfos--cover"},[i("CoverField",{attrs:{context:t.context,cover:t.project.$cover,path:t.project.$path,can_edit:t.can_edit}}),i("transition",{attrs:{name:"toggleLock",mode:"out-in"}},["finished"===t.project.$status?i("sl-icon",{key:t.project.$status,staticClass:"_icon _check",attrs:{name:"check-circle-fill"}}):"private"===t.project.$status?i("sl-icon",{key:t.project.$status,staticClass:"_icon _private",attrs:{name:"file-lock2-fill"}}):t._e()],1),t.display_original_space?i("div",{staticClass:"_originalSpace"},[t._v(" +"+t._s(t.original_space_name)+" ")]):t._e()],1),i("div",{staticClass:"_projectInfos--infos"},["full"===t.context?i("StatusTag",{attrs:{status:t.project.$status,path:t.project.$path,can_edit:t.can_edit}}):t._e(),i("TitleField",{staticClass:"_title",attrs:{field_name:"title",label:"full"===t.context&&t.can_edit&&!t.project.title?t.$t("title"):"",content:t.project.title,path:t.project.$path,required:!0,maxlength:40,tag:"full"===t.context?"h1":"h3",can_edit:t.can_edit,instructions:t.$t("project_title_instructions")}}),t.show_description?i("TitleField",{staticClass:"_description",attrs:{field_name:"description",label:"full"!==t.context||t.project.description?"":t.$t("description"),content:t.project.description,path:t.project.$path,maxlength:1280,input_type:"markdown",can_edit:t.can_edit}}):t._e(),"full"===t.context?i("div",{staticClass:"_allTags"},[t.project.keywords&&t.project.keywords.length>0?i("TagsList",{attrs:{tags:t.project.keywords,tag_type:"keywords",clickable:!1}}):t._e(),t.project.machines&&t.project.machines.length>0?i("TagsList",{attrs:{tags:t.project.machines,tag_type:"machines",clickable:!1}}):t._e(),t.project.materials&&t.project.materials.length>0?i("TagsList",{attrs:{tags:t.project.materials,tag_type:"materials",clickable:!1}}):t._e()],1):t._e()],1),"full"===t.context?i("div",{staticClass:"_projectInfos--meta",class:{"is--hidden":!t.show_meta}},[i("CardMeta",{attrs:{project:t.project,can_edit:t.can_edit}}),i("CardLicense",{attrs:{project:t.project,can_edit:t.can_edit}}),i("CardFiles",{attrs:{project:t.project,can_edit:t.can_edit}}),i("CardCompetences",{attrs:{project:t.project,can_edit:t.can_edit}}),i("CardMachinesMaterials",{attrs:{project:t.project,can_edit:t.can_edit}}),i("CardKeywords",{attrs:{project:t.project,can_edit:t.can_edit}})],1):t._e(),"list"===t.context?i("div",{staticClass:"_projectInfos--open"},[i("router-link",{attrs:{to:{path:t.createURLFromPath(t.project.$path)}}},[i("div",{staticClass:"_clickZone"})])],1):t._e()])},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DetailsPane",{attrs:{header:t.$t("informations"),icon:"info-square",is_open_initially:!t.$root.is_mobile_view}},[i("div",{staticClass:"u-spacingBottom"},[i("AdminsAndContributorsField",{attrs:{folder:t.project,can_edit:t.can_edit,admin_label:t.$t("referent"),admin_instructions:t.$t("project_admin_instructions"),contrib_instructions:t.$t("project_contrib_instructions")}})],1),t.$root.app_infos.instance_meta.enable_events?i("EventField",{staticClass:"u-spacingBottom",attrs:{project:t.project,can_edit:t.can_edit}}):t._e(),i("RemixField",{staticClass:"u-spacingBottom",attrs:{project:t.project,can_edit:t.can_edit}}),i("div",{staticClass:"u-spacingBottom"},[i("DateDisplay",{attrs:{title:t.$t("date_created"),date:t.project.$date_created}}),i("DateDisplay",{attrs:{title:t.$t("date_modified"),date:t.project.$date_modified}})],1),t.can_edit?i("div",{staticClass:"u-mediaOptions"},[i("div",{},[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_dup_modal=!0}}},[i("sl-icon",{attrs:{name:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate_or_move_project"))+" ")],1)]),t.show_dup_modal?i("DuplicateOrRemixProject",{attrs:{path:t.project.$path,proposed_title:t.$t("copy_of")+" "+t.project.title},on:{close:function(e){t.show_dup_modal=!1}}}):t._e(),i("DownloadFolder",{attrs:{path:t.project.$path}}),i("RemoveMenu",{attrs:{remove_text:t.$t("remove_project")},on:{remove:t.removeProject}})],1):t._e(),t.$root.app_infos.is_electron&&t.is_instance_admin?i("div",{},[i("div",{staticClass:"u-spacingBottom"}),i("DLabel",{attrs:{str:t.$t("open_in_finder")}}),i("button",{staticClass:"u-button u-button_bleumarine u-button_small",attrs:{type:"button"},domProps:{innerHTML:t._s(t.project_path_wrappable)},on:{click:function(e){return t.openInFinder(t.project.$path)}}})],1):t._e()],1)},o=[],r=(i(68757),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{attrs:{title:t.modal_title},on:{close:function(e){return t.$emit("close")}}},[t.url_to_copy?[i("router-link",{staticClass:"u-button u-button_bleumarine",attrs:{to:t.url_to_copy}},[t._v(" "+t._s(t.$t("open_copy"))+" ")])]:[i("div",{},[i("div",{staticClass:"u-spacingBottom u-instructions"},[i("small",[t._v(" "+t._s(t.$t("dm_instr"))+" ")])]),i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.destination_space_label}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.destination_space_path,expression:"destination_space_path"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.destination_space_path=e.target.multiple?i:i[0]}}},t._l(t.spaces,(function(e){return i("option",{key:e.$path,domProps:{value:e.$path,textContent:t._s(e.title)}})})),0)],1),i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.new_title_label}}),i("TextInput",{ref:"titleInput",attrs:{content:t.new_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_title=e}}})],1),"duplicate"===t.mode?i("div",{staticClass:"u-spacingBottom"},[i("ToggleInput",{attrs:{content:t.remove_original,label:t.$t("remove_original"),options:{true:t.$t("remove_original_after_copy"),false:t.$t("keep_original_after_copy")}},on:{"update:content":function(e){t.remove_original=e}}})],1):t._e()]),i("div",{staticClass:"u-sameRow",attrs:{slot:"footer"},slot:"footer"},[t.is_copying?i("LoaderSpinner"):[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:""},on:{click:t.confirm}},[t.remove_original?[t._v(" "+t._s(t.$t("move"))+" ")]:["remix"===t.mode?[t._v(" "+t._s(t.$t("remix"))+" ")]:[t._v(" "+t._s(t.$t("duplicate"))+" ")]]],2)]],2)]],2)}),l=[],c=(i(57658),{props:{path:String,proposed_title:String,mode:{type:String,default:"duplicate"}},components:{},data(){return{spaces:void 0,destination_space_path:void 0,url_to_copy:!1,remove_original:!1,new_title:this.proposed_title,is_copying:!1}},created(){},async mounted(){const{space_slug:t}=this.decomposePath(this.path);this.destination_space_path=this.createPath({space_slug:t}),this.spaces=await this.$api.getFolders({path:"spaces"})},beforeDestroy(){},watch:{},computed:{modal_title(){return"remix"===this.mode?this.$t("remix_this_project"):this.$t("duplicate_or_move")},destination_space_label(){return"remix"===this.mode?this.$t("destination_space_remix"):this.$t("destination_space")},new_title_label(){return"remix"===this.mode?this.$t("title_of_remix"):this.$t("title_of_copy")}},methods:{async confirm(){this.is_copying=!0;const t=this.destination_space_path+"/projects";let e;try{if("duplicate"===this.mode)e=await this.$api.copyFolder({path:this.path,path_to_destination_type:t,new_meta:{title:this.new_title}});else if("remix"===this.mode){const i={title:this.new_title,$admins:this.setDefaultContentAdmins(),$contributors:[]};e=await this.$api.remixFolder({path:this.path,path_to_destination_type:t,new_meta:i})}}catch(a){throw"unique_field_taken"===a?(this.$alertify.delay(4e3).error(this.$t("notifications.title_taken")),this.$refs.titleInput.$el.querySelector("input").select()):"not_allowed_to_copy_folder"===a&&this.$alertify.delay(4e3).error(this.$t("notifications.not_allowed_to_copy_to_space")),this.is_copying=!1,"fail"}this.$alertify.closeLogOnClick(!0).delay(4e3).success(this.$t("folder_copied"));const i=this.createURLFromPath(e);this.remove_original?(this.is_copying=!1,await this.$api.deleteItem({path:this.path}),this.$router.push(i)):(this.url_to_copy=i,this.is_copying=!1)}}}),p=c,d=i(1001),h=(0,d.Z)(p,r,l,!1,null,"ecd84d76",null),u=h.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t.can_edit||t.project.event_linked_slug?i("DLabel",{attrs:{str:t.$t("created_during")}}):t._e(),t.is_loading?t._e():[i("RadioCheckboxField",{attrs:{field_name:"event_linked_slug",input_type:"radio",content:t.project.event_linked_slug,path:t.project.$path,can_edit:t.can_edit,options:t.events_options}})]],2)},m=[],f={props:{project:Object,can_edit:Boolean},components:{},data(){return{events:[],is_loading:!0}},async created(){this.events=await this.loadAllEvents(),this.is_loading=!1},mounted(){},beforeDestroy(){},watch:{},computed:{events_options(){if(!this.events)return[];const t=[{key:"",label:"â€“"}];return this.events.map((e=>{let i="";e.start_date&&(i+=e.start_date),e.end_date&&(i+="-"+e.end_date);const a=this.makeRelativeURLFromThumbs({$thumbs:e.$cover,$type:"image",$path:e.$path,resolution:50});t.push({key:this.getFilename(e.$path),label:e.title,instructions:i,thumb_src:a})})),t}},methods:{async loadAllEvents(){return await this.$api.getFolders({path:"events"}).catch((t=>{this.fetch_events_error=t.response}))}}},g=f,v=(0,d.Z)(g,_,m,!1,null,"47466f98",null),b=v.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_remixField"},[t.can_edit?i("ToggleField",{attrs:{label:t.$t("project_can_be_remixed"),field_name:"$can_be_remixed",content:!0===t.project.$can_be_remixed,path:t.project.$path,can_edit:t.can_edit}}):t._e(),t.project.$can_be_remixed?i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(e){t.show_remix_modal=!0}}},[i("sl-icon",{attrs:{name:"sign-intersection-y"}}),t._v(" "+t._s(t.$t("remix_this_project"))+" ")],1):t._e(),t.show_remix_modal?i("DuplicateOrRemixProject",{attrs:{path:t.project.$path,mode:"remix",proposed_title:t.$t("remix_of")+" "+t.project.title,source_title:t.project.title},on:{close:function(e){t.show_remix_modal=!1}}}):t._e()],1)},w=[],x={props:{project:Object,can_edit:Boolean},components:{DuplicateOrRemixProject:u},data(){return{is_loading:!1,show_remix_modal:!1}},async created(){this.project.is_remix_of&&(this.is_loading=!0,this.source_project=await this.$api.getFolder({path:this.event_path}).catch((t=>{this.error_fetching_source_project=t,this.is_loading=!1})),this.is_loading=!1)},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{remixProject(){}}},k=x,$=(i(30008),(0,d.Z)(k,y,w,!1,null,"6678a6cc",null)),j=$.exports,P={props:{project:Object,can_edit:Boolean},components:{EventField:b,RemixField:j,DuplicateOrRemixProject:u},data(){return{show_dup_modal:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{project_path_wrappable(){return this.project.$path.replaceAll("/","/<wbr>")}},methods:{async removeProject(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.project.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}},openInFinder(t){window.electronAPI.send("toMain",{type:"open_path",path:t})}}},C=P,M=(0,d.Z)(C,n,o,!1,null,"19a2d594",null),z=M.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DetailsPane",{attrs:{header:t.keywords_title,icon:"tag",has_items:!!t.project.keywords}},[i("div",{},[i("TagsField",{attrs:{field_name:"keywords",content:t.project.keywords,path:t.project.$path,can_edit:t.can_edit}})],1)])},L=[],I={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{keywords_title(){return this.$t("keywords")}},methods:{}},O=I,F=(0,d.Z)(O,S,L,!1,null,"445a6cf2",null),T=F.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DetailsPane",{attrs:{header:t.$t("levels_and_competences"),icon:"bookmark-star",has_items:!!t.project.level}},[i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.$t("skill_level")}}),i("SelectField",{attrs:{field_name:"level",content:t.project.level||"-",path:t.project.$path,can_edit:t.can_edit,options:t.basic_competences}})],1),i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.$t("target_audience")}}),i("RadioCheckboxField",{attrs:{field_name:"target_audience",input_type:"checkbox",content:t.project.target_audience,path:t.project.$path,can_edit:t.can_edit,options:t.target_audience_options}})],1),i("div",{},[i("DLabel",{attrs:{str:t.$t("disciplines")}}),i("RadioCheckboxField",{attrs:{field_name:"disciplines",input_type:"checkbox",content:t.project.disciplines,path:t.project.$path,can_edit:t.can_edit,options:t.discipline_options}})],1)])},D=[],B={props:{project:Object,can_edit:Boolean},components:{},data(){return{basic_competences:[{key:"-",text:"â€“"},{key:"beginner",text:this.$t("beginner")},{key:"intermediate",text:this.$t("intermediate")},{key:"experienced",text:this.$t("experienced")}],target_audience_options:[{key:"cycle1",label:this.$t("ta_cycle1"),instructions:this.$t("ta_cycle1_instr")},{key:"cycle2",label:this.$t("ta_cycle2"),instructions:this.$t("ta_cycle2_instr")},{key:"cycle3",label:this.$t("ta_cycle3"),instructions:this.$t("ta_cycle3_instr")},{key:"cycle4",label:this.$t("ta_cycle4"),instructions:this.$t("ta_cycle4_instr")},{key:"ulis",label:this.$t("ta_ulis")},{key:"cap",label:this.$t("ta_cap")},{key:"lycee",label:this.$t("ta_lycee")},{key:"lycee2",label:this.$t("ta_lycee2")},{key:"post",label:this.$t("ta_post")}],discipline_options:[{key:"math",label:this.$t("di_math")},{key:"french",label:this.$t("di_french")},{key:"langs",label:this.$t("di_langs")},{key:"history",label:this.$t("di_history")},{key:"geography",label:this.$t("di_geography")},{key:"biology",label:this.$t("di_biology")},{key:"technology",label:this.$t("di_technology")},{key:"physics",label:this.$t("di_physics")},{key:"chemistry",label:this.$t("di_chemistry")},{key:"sports",label:this.$t("di_sports")},{key:"civics",label:this.$t("di_civics")},{key:"arts",label:this.$t("di_arts")},{key:"music",label:this.$t("di_music")},{key:"transdisciplinary",label:this.$t("di_transdisciplinary")}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},E=B,R=(0,d.Z)(E,Z,D,!1,null,"ec09f5c0",null),A=R.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DetailsPane",{attrs:{header:t.$t("machines_and_materials"),icon:"tools",has_items:t.machines_materials_items_length>0&&t.machines_materials_items_length}},[i("div",{staticClass:"u-spacingBottom"},[i("TagsField",{attrs:{label:t.$t("materials"),field_name:"materials",content:t.project.materials,path:t.project.$path,can_edit:t.can_edit}})],1),i("div",{},[i("TagsField",{attrs:{label:t.$t("machines"),field_name:"machines",content:t.project.machines,path:t.project.$path,can_edit:t.can_edit}})],1)])},N=[],H={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{machines_materials_items_length(){let t=0;return this.project.materials&&Array.isArray(this.project.materials)&&(t+=this.project.materials.length),this.project.machines&&Array.isArray(this.project.machines)&&(t+=this.project.machines.length),t}},methods:{}},V=H,U=(0,d.Z)(V,q,N,!1,null,"149aedda",null),J=U.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DetailsPane",{attrs:{header:t.$t("authors_and_license"),icon:"people",has_items:!!t.project.license}},[i("div",{staticClass:"u-spacingBottom"},[i("TitleField",{attrs:{label:t.$t("authors"),field_name:"authors_list",content:t.project.authors_list,input_type:"markdown",path:t.project.$path,can_edit:t.can_edit}})],1),i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.$t("license"),instructions:t.can_edit?t.$t("licence_instructions"):""}}),i("RadioCheckboxField",{attrs:{field_name:"license",input_type:"radio",content:t.project.license,path:t.project.$path,can_edit:t.can_edit,options:t.license_options}})],1)])},Y=[],Q={props:{project:Object,can_edit:Boolean},components:{},data(){return{license_options:[{key:"",label:this.$t("none_f")},{key:"creativecommons_by_nc_sa",label:this.$t("creativecommons_by_nc_sa"),instructions:this.$t("creativecommons_by_nc_sa_explanations")},{key:"all_rights_reserved",label:this.$t("all_rights_reserved"),instructions:this.$t("all_rights_reserved_explanations")},{key:"copyleft",label:this.$t("copyleft"),instructions:this.$t("copyleft_explanations")},{key:"custom_license",label:this.$t("custom_license"),instructions:this.$t("custom_license_explanations")}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},X=Q,K=(0,d.Z)(X,W,Y,!1,null,"613c7cca",null),G=K.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DetailsPane",{attrs:{header:t.$t("files"),icon:"file-earmark-arrow-down",has_items:t.downloadable_files.length>0&&t.downloadable_files.length}},[i("FilesModule",{attrs:{field_name:"downloadable_files",path:t.project.$path,content:t.downloadable_files,project_path:t.project.$path,can_edit:t.can_edit}})],1)},et=[],it={props:{project:Object,can_edit:Boolean},components:{},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{downloadable_files(){return this.project.downloadable_files||[]}},methods:{}},at=it,st=(0,d.Z)(at,tt,et,!1,null,"0414dc8e",null),nt=st.exports,ot={props:{project:Object,context:String,can_edit:Boolean,display_original_space:Boolean},components:{CardMeta:z,CardKeywords:T,CardCompetences:A,CardMachinesMaterials:J,CardLicense:G,CardFiles:nt},data(){return{fetch_status:null,fetch_error:null,response:null,show_meta:!0,show_description:!0}},created(){"list"===this.context&&(this.show_description=!1)},mounted(){},beforeDestroy(){},watch:{"$root.is_mobile_view"(){this.$root.is_mobile_view&&(this.show_meta=!0)}},computed:{original_space_name(){let{space_slug:t}=this.decomposePath(this.project.$path);const e=this.createPath({space_slug:t}),i=this.getFromCache(e);return i.title}},methods:{}},rt=ot,lt=(i(62997),(0,d.Z)(rt,a,s,!1,null,"2f39dab3",null)),ct=lt.exports},26660:function(t,e,i){"use strict";i.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_mediaPicker"},[i("div",{staticClass:"_mpContent"},[t.selected_media?i("MediaContent",{attrs:{file:t.selected_media,resolution:220,context:"preview"}}):t._e(),i("div",{},[t.content?i("button",{staticClass:"u-button u-button_small u-button_red",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("b-icon",{attrs:{icon:"dash-circle"}}),t._v(" "+t._s(t.$t("change_base_media"))+" ")],1):i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){t.show_media_picker=!0}}},[i("b-icon",{attrs:{icon:"image"}}),t._v(" "+t._s(t.$t("pick_base_image"))+" ")],1),t.show_media_picker?i("PickMediaFromProjects",{attrs:{path:t.path,select_mode:"single",pick_from_type:t.media_type_to_pick},on:{addMedias:t.pickMedia,close:function(e){t.show_media_picker=!1}}}):t._e()],1)],1)])},s=[],n={props:{field_name:String,content:{type:String,default:""},path:String,media_type_to_pick:String},components:{},i18n:{messages:{fr:{pick_base_image:"Choisir le mÃ©dia de rÃ©fÃ©rence",change_base_media:"Changer le mÃ©dia de rÃ©fÃ©rence"}}},data(){return{show_media_picker:!this.content}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{selected_media(){const t=this.content;return!!t&&this.getSourceMedia({source_media:{meta_filename_in_project:t},folder_path:this.path})}},methods:{async pickMedia({path_to_source_media_metas:t}){const e=t[0],i=this.getFilename(e),a={[this.field_name]:i};return await this.$api.updateMeta({path:this.path,new_meta:a})}}},o=n,r=(i(86152),i(1001)),l=(0,r.Z)(o,a,s,!1,null,"50c54ccd",null),c=l.exports},50301:function(t,e,i){"use strict";i.d(e,{Z:function(){return f}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_topbar"},[!0!==t.no_back_button?i("button",{staticClass:"u-button u-button_icon",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("b-icon",{attrs:{icon:"arrow-left-circle-fill","aria-label":t.$t("back_to_publications")}})],1):t._e(),i("div",{staticClass:"_publiTitle"},[i("TitleField",{attrs:{field_name:"title",tag:"h2",content:t.publication.title,path:t.publication.$path,can_edit:t.can_edit}})],1),i("div",{staticClass:"_buttonRow"},[t.can_edit&&"parent_contributors"!==t.publication.$admins?i("div",{},[i("small",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:t.setCorrectPermForAdmins}},[t._v(" set perm to parent ")]),t._v(" "+t._s(t.publication.$admins)+" ")])]):t._e(),t.can_edit?i("sl-button",{attrs:{caret:""},on:{click:t.openSettings}},[i("b-icon",{attrs:{slot:"prefix",icon:"gear","aria-label":t.$t("settings")},slot:"prefix"}),t._v(" "+t._s(t.$t("settings"))+" ")],1):t._e(),t.can_edit?i("sl-dropdown",{on:{"sl-show":t.closeSettings}},[i("sl-button",{attrs:{slot:"trigger",caret:""},slot:"trigger"},[t._v(" "+t._s(t.$t("options"))+" ")]),i("sl-menu",[i("sl-menu-item",[i("DuplicatePublication",{attrs:{path:t.publication.$path,source_title:t.publication.title,publication:t.publication},on:{close:function(e){return t.$emit("close")}}})],1),i("sl-menu-item",[i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removePublication}})],1)],1)],1):t._e(),i("sl-dropdown",{on:{"sl-show":t.closeSettings}},[i("sl-button",{attrs:{slot:"trigger",caret:""},slot:"trigger"},[i("b-icon",{attrs:{slot:"prefix",icon:"box-arrow-up-right"},slot:"prefix"}),t._v(" "+t._s(t.$t("share"))+" ")],1),i("sl-menu",[i("sl-menu-item",[i("button",{staticClass:"u-buttonLink _exportBtn",attrs:{type:"button",disabled:!t.can_edit||t.is_exporting},on:{click:t.exportPublication}},[i("sl-icon",{attrs:{name:"filetype-pdf"}}),t._v(" "+t._s(t.$t("export_in_pdf"))+" "),i("transition",{attrs:{name:"fade_fast",duration:150,mode:"out-in"}},[t.is_exporting?i("LoaderSpinner"):t._e()],1)],1)]),i("sl-menu-item",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_qr_code_modal=!0}}},[i("sl-icon",{attrs:{name:"qr-code"}}),t._v(" "+t._s(t.$t("direct_link"))+" ")],1),t.show_qr_code_modal?i("QRModal",{attrs:{url_to_access:t.share_url},on:{close:function(e){t.show_qr_code_modal=!1}}}):t._e()],1)],1)],1)],1)])},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_modal=!0}}},[i("sl-icon",{attrs:{name:"file-plus"}}),t._v(" "+t._s(t.$t("duplicate_or_move"))+" ")],1),t.show_modal?i("BaseModal2",{attrs:{title:t.$t("duplicate_or_move")},on:{close:function(e){t.show_modal=!1}}},[t.navigation_to_copy?[i("router-link",{staticClass:"u-button u-button_bleumarine",attrs:{to:t.navigation_to_copy}},[t._v(" "+t._s(t.$t("open_copy"))+" ")])]:[i("div",{staticClass:"u-spacingBottom"},[i("div",{staticClass:"u-instructions"},[i("small",[t._v(" "+t._s(t.$t("dmp_instr"))+" ")])]),i("br"),i("SpaceProjectPicker",{staticClass:"u-spacingBottom",attrs:{path:t.path},on:{newProjectSelected:function(e){t.destination_project_path=e}}}),i("div",{staticClass:"u-spacingBottom"},[i("DLabel",{attrs:{str:t.$t("title_of_copy")}}),i("TextInput",{ref:"titleInput",attrs:{content:t.new_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_title=e}}})],1),i("div",{},[i("ToggleInput",{attrs:{content:t.remove_original,label:t.$t("remove_original"),options:{true:t.$t("remove_original_after_copy"),false:t.$t("keep_original_after_copy")}},on:{"update:content":function(e){t.remove_original=e}}})],1)],1),i("div",{staticClass:"u-sameRow",attrs:{slot:"footer"},slot:"footer"},[t.is_copying?i("LoaderSpinner"):[i("button",{staticClass:"u-buttonLink",attrs:{type:"button"},on:{click:function(e){t.show_modal=!1}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),i("button",{staticClass:"u-button u-button_red",attrs:{type:"button",autofocus:"",disabled:!t.destination_project_path},on:{click:t.confirm}},[t.remove_original?[t._v(" "+t._s(t.$t("move"))+" ")]:[t._v(" "+t._s(t.$t("duplicate"))+" ")]],2)]],2)]],2):t._e()],1)},o=[],r=(i(26699),i(57658),i(81045)),l={props:{path:String,source_title:String,publication:Object},components:{SpaceProjectPicker:r.Z},data(){return{navigation_to_copy:!1,show_modal:!1,destination_project_path:void 0,remove_original:!1,new_title:this.$t("copy_of")+" "+this.source_title,is_copying:!1}},created(){},async mounted(){},beforeDestroy(){},watch:{},computed:{project_medias_to_copy(){return this.publication.$files.reduce(((t,e)=>(Object.prototype.hasOwnProperty.call(e,"source_medias")&&e.source_medias.map((e=>{const i=this.getSourceMedia({source_media:e,folder_path:this.publication.$path});t.includes(i.$path)||t.push(i.$path)})),t)),[])}},methods:{async confirm(){this.is_copying=!0;const t=this.destination_project_path+"/publications",e=await this.$api.copyFolder({path:this.path,path_to_destination_type:t,new_meta:{title:this.new_title}}).catch((t=>{throw"unique_field_taken"===t?(this.$alertify.delay(4e3).error(this.$t("notifications.title_taken")),this.$refs.titleInput.$el.querySelector("input").select()):"not_allowed_to_copy_to_space"===t&&this.$alertify.delay(4e3).error(this.$t("notifications.not_allowed_to_copy_to_space")),this.is_copying=!1,"fail"})),i=await this.$api.getFolder({path:e});if(this.$alertify.closeLogOnClick(!0).delay(4e3).success("publication_copy_success"),this.getParent(this.path)!==this.destination_project_path+"/publications"){this.$alertify.closeLogOnClick(!0).delay(4e3).log("has_linked_media_to_copy");for(let t of this.project_medias_to_copy){const a=await this.$api.copyFile({path:t,path_to_destination_folder:this.destination_project_path,new_meta:{group:"imported_from_"+e}}).catch((t=>{this.$alertify.delay(4e3).error(t)})),s=this.getFilename(t);if(a!==s)for(let t of i.$files){if(!Object.prototype.hasOwnProperty.call(t,"source_medias"))continue;if(!t.source_medias.some((t=>t.meta_filename_in_project&&t.meta_filename_in_project===s)))continue;const e=t.source_medias.map((t=>(t.meta_filename_in_project===s&&(t.meta_filename_in_project=a),t)));await this.$api.updateMeta({path:t.$path,new_meta:{source_medias:e}})}}this.$alertify.closeLogOnClick(!0).delay(4e3).success("linked media copied")}let a={};a.projectpanes=JSON.stringify([{type:"publish",size:100,folder:this.getFilename(i.$path)}]);const s={path:this.createURLFromPath(this.destination_project_path),query:a};this.remove_original?(this.is_copying=!1,await this.$api.deleteItem({path:this.path}),this.$emit("close")):(this.is_copying=!1,this.navigation_to_copy=s)}}},c=l,p=i(1001),d=(0,p.Z)(c,n,o,!1,null,"08436319",null),h=d.exports,u={props:{publication:Object,no_back_button:Boolean,can_edit:Boolean},components:{DuplicatePublication:h},data(){return{show_qr_code_modal:!1,is_exporting:!1}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{share_url(){let t={};"page_by_page"===this.publication.template?t={display:"slides"}:"story_with_sections"===this.publication.template&&(t={display:"section"});const e=this.$router.resolve({path:this.createURLFromPath(this.publication.$path),query:t});return window.location.origin+e.href}},methods:{async exportPublication(){let t={recipe:"pdf",page_width:this.publication.page_width,page_height:this.publication.page_height,layout_mode:this.publication.layout_mode||"print",suggested_file_name:this.publication.title,additional_meta:{$origin:"publish"}};!0===this.publication.page_spreads&&(t.page_width*=2);const e=await this.$api.exportFolder({path:this.publication.$path,instructions:t});this.$alertify.delay(4e3).log(this.$t("compilation_started")),this.is_exporting=!0;const i=({task_id:t})=>{t===e&&(this.is_exporting=!1,this.$eventHub.$off("task.ended",i))};this.$eventHub.$on("task.ended",i)},async removePublication(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.publication.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}},async setCorrectPermForAdmins(){await this.$api.updateMeta({path:this.publication.$path,new_meta:{$admins:"parent_contributors"}})},openSettings(){this.$eventHub.$emit("publication.settings.toggle")},closeSettings(){this.$eventHub.$emit("publication.settings.close")}}},_=u,m=(i(90371),(0,p.Z)(_,a,s,!1,null,"033d6a34",null)),f=m.exports},83406:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return ae}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_projectView"},[i("transition",{attrs:{name:"fade_fast",mode:"out-in"}},[t.project?t.fetch_project_error?i("div",{key:"err"},[t._v(" "+t._s(t.fetch_project_error)+" ")]):i("div",{key:"project"},[i("div",{staticClass:"_topContent"},[t.can_contribute_to_project?i("div",{staticClass:"_displayAsPublic"},[i("div",{staticClass:"_sticky"},[i("div",{staticClass:"_content"},[i("ToggleInput",{attrs:{content:t.display_as_public,label:t.$t("display_as_public")},on:{"update:content":function(e){t.display_as_public=e}}})],1)])]):t._e(),i("ProjectPresentation",{attrs:{project:t.project,context:"full",can_edit:t.can_edit_project&&!t.display_as_public}})],1),i("div",{staticClass:"_projectPanesAndList"},[t.can_contribute_to_project&&!t.display_as_public?i("PaneList2",{staticClass:"_paneList",attrs:{can_edit:t.can_contribute_to_project&&!t.display_as_public,project:t.project,panes:t.projectpanes},on:{"update:panes":function(e){t.projectpanes=e}}}):i("hr",{staticClass:"_separator"}),i("div",{staticClass:"_panes"},[i("ProjectPanes",{attrs:{projectpanes:t.projectpanes,project:t.project,can_edit_project:t.can_contribute_to_project&&!t.display_as_public},on:{"update:projectpanes":function(e){t.projectpanes=e}}})],1)],1)]):i("div",{key:"loader",staticClass:"u-divCentered"},[i("LoaderSpinner")],1)])],1)},s=[],n=(i(57658),i(95737)),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_paneList",class:{"is--mobile":t.$root.is_mobile_view,"has--noPanes":0===t.project_panes.length}},[i("span",{staticClass:"_paneList2",attrs:{label:"Panneaux"}},[i("div",{staticClass:"_projectTitle",class:{"is--shown":t.is_stickied_to_top}},[i("button",{staticClass:"u-button u-button_transparent",attrs:{type:"button"},on:{click:t.scrollToTop}},[i("b-icon",{attrs:{icon:"arrow-up"}}),i("span",[t._v(" "+t._s(t.project.title)+" ")])],1)]),i("span",{ref:"drawer",staticClass:"_projectPanes",attrs:{placement:"top"}},[t.can_edit?i("SlickList",{staticClass:"_paneList--list",attrs:{axis:"x",useDragHandle:!0},model:{value:t.project_panes,callback:function(e){t.project_panes=e},expression:"project_panes"}},t._l(t.possible_project_panes,(function(e,a){return i("SlickItem",{key:e.type,staticClass:"_paneItem",class:{"is--enabled":t.paneIsEnabled(e.type)},style:"--color-active: var(--color-"+e.type+");",attrs:{index:a}},[i("div",{ref:"pane_"+e.type,refInFor:!0,staticClass:"_btn",on:{click:function(i){return t.replacePane(i,e)}}},[t.getIcon(e.type)?i("span",{staticClass:"_icon",domProps:{innerHTML:t._s(t.getIcon(e.type))}}):t._e(),t.paneIsEnabled(e.type)||!t.$root.is_mobile_view?i("span",{staticClass:"_name"},[t._v(" "+t._s(a+1)+" â€¢ "+t._s(t.$t(e.type))+" ")]):t._e(),t.project_panes.some((function(t){return t.type===e.type}))?i("div",{staticClass:"_inlineBtn _removePaneBtn"},[i("sl-icon-button",{attrs:{name:"x-circle-fill",label:"Fermer"},on:{click:function(i){return i.stopPropagation(),t.removePane(e.type)}}})],1):t.project_panes.length>0&&!t.$root.is_mobile_view?i("div",{staticClass:"_inlineBtn _addPaneBtn"},[i("sl-icon-button",{attrs:{name:"plus-circle-fill",label:"Ajouter"},on:{click:function(i){return i.stopPropagation(),t.addPane(i,e)}}})],1):t._e()])])})),1):t._e()],1),t.$root.is_mobile_view?t._e():i("span")])])},r=[],l=i(55656),c={props:{panes:Array,project:Object,can_edit:Boolean},components:{SlickItem:l.SlickItem,SlickList:l.SlickList},directives:{handle:l.HandleDirective},data(){return{show_panelist:!1,is_stickied_to_top:!1,project_panes:[],possible_project_panes:[{type:"capture"},{type:"collect"},{type:"make"},{type:"publish"}]}},created(){},mounted(){document.addEventListener("scroll",this.detectTopOfWindow)},beforeDestroy(){document.removeEventListener("scroll",this.detectTopOfWindow)},watch:{panes:{handler(){this.project_panes=this.panes.slice()},deep:!0,immediate:!0},project_panes:{handler(){if(JSON.stringify(this.project_panes)===JSON.stringify(this.panes))return!1;this.project_panes=this.project_panes.map((t=>(0===t.size&&(t.size=20),t))),this.$emit("update:panes",this.project_panes)},deep:!0}},computed:{cover_thumb(){return this.makeRelativeURLFromThumbs({$thumbs:this.project.$cover,$type:"image",$path:this.project.$path,resolution:50})}},methods:{detectTopOfWindow(){this.$el.getBoundingClientRect().y<=10?this.is_stickied_to_top=!0:this.is_stickied_to_top=!1},scrollToTop(){document.body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},removePane(t){this.project_panes=this.project_panes.filter((e=>e.type!==t))},paneIsEnabled(t){return this.project_panes.some((e=>e.type===t))},replacePane(t,e){this.project_panes=[],this.addPane(t,e)},addPane(t,e){console.log("PaneList2 / addPane"),this.$nextTick((()=>{t.target.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}));let i=JSON.parse(JSON.stringify(this.project_panes));i.push(e);const a=this.possible_project_panes.map((t=>t.type));i.sort(((t,e)=>a.indexOf(t.type)-a.indexOf(e.type))),i=i.map((t=>(t.size=100/i.length,t))),this.project_panes=i},getIcon(t){return"capture"===t?'\n      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 168 168" style="enable-background:new 0 0 168 168;" xml:space="preserve">\n          <path style="fill:var(--c-orange);" d="M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84\n            C168,37.6,130.4,0,84,0z"/>\n          <path style="fill:var(--c-rouge);" d="M84,41.3c-23.6,0-42.7,19.1-42.7,42.7c0,23.6,19.1,42.7,42.7,42.7\n            c23.6,0,42.7-19.1,42.7-42.7C126.7,60.4,107.6,41.3,84,41.3z"/>\n        </svg>\n        ':"collect"===t?'\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n       viewBox="0 0 168 168" style="enable-background:new 0 0 168 168;" xml:space="preserve">\n            <path style="fill:var(--c-rouge);" d="M84,0C37.6,0,0,37.6,0,84c0,46.4,37.6,84,84,84c46.4,0,84-37.6,84-84 C168,37.6,130.4,0,84,0z"/>\n            <path style="fill:var(--c-orange);" d="m42 42h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m73.2 42h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m104.4 42h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m42 73.5h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m73.2 73.5h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m104.4 73.5h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m42 105h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m73.2 105h21.6v21h-21.6z"/>\n            <path style="fill:var(--c-orange);" d="m104.4 105h21.6v21h-21.6z"/>\n          </svg>\n        ':"make"===t?'\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 168">\n            <circle cx="84.13" cy="84" r="84" style="fill: var(--c-bleuvert)"/>\n            <path d="M115.33,27.75A4.07,4.07,0,0,1,118,25.89a4.44,4.44,0,0,1,3.48.67,4.51,4.51,0,0,1,2,3,4.13,4.13,0,0,1-.7,3.17l-10.6,14.72h-8.91ZM90.85,28.89A5.87,5.87,0,1,1,85,34.76,5.87,5.87,0,0,1,90.85,28.89Zm-21.39-10a8.53,8.53,0,1,1-8.53,8.53A8.54,8.54,0,0,1,69.46,18.92ZM45.51,50.58h77v8.78h-77ZM49.35,67.3h69.3c9.74,8.63,15.1,20.17,15.1,32.56a42.54,42.54,0,0,1-9.38,26.47L119.63,121l-4.41-5-4.41,5-6.35,7.18L98.11,121l-4.41-5-4.41,5-6.35,7.18L76.59,121l-4.41-5-4.41,5-6.35,7.18L55.07,121l-4.41-5-4.41,5-3.6,4.08a42.38,42.38,0,0,1-8.4-25.2C34.26,87.47,39.61,75.93,49.35,67.3ZM35.24,136.49h5.15l10.28-11.63L61.42,137l10.76-12.17L82.94,137,93.7,124.86,104.46,137l10.75-12.17,10.28,11.63h5.15v8.59H35.24Z" \n              style="fill: var(--c-bleumarine)"/>\n          </svg>\n        ':"publish"===t&&'\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 168 168">\n            <circle cx="84" cy="84" r="84" style="fill: var(--c-bleumarine)"/>\n            <path d="M129.4,143.86H38.62V25.42H129.4Z" style="fill: var(--c-bleuvert)"/>\n            <rect x="53.82" y="39.01" width="26.85" height="10.37" style="fill: var(--c-bleumarine)"/>\n            <rect x="53.82" y="54.17" width="26.84" height="9.53" style="fill: var(--c-bleumarine)"/>\n            <rect x="87.34" y="39.01" width="26.85" height="24.68" style="fill: var(--c-bleumarine)"/>\n            <rect x="53.76" y="71.22" width="60.49" height="29.07" style="fill: var(--c-bleumarine)"/>\n            <rect x="53.76" y="105.8" width="26.85" height="23.66" style="fill: var(--c-bleumarine)"/>\n            <rect x="87.35" y="105.8" width="26.85" height="23.66" style="fill: var(--c-bleumarine)"/>\n          </svg>\n        '}}},p=c,d=(i(43190),i(1001)),h=(0,d.Z)(p,o,r,!1,null,"5eeb668a",null),u=h.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_projetPanes",class:{"has--multiplePanes":t.can_edit_project,"is--editable":t.can_edit_project},on:{click:t.scrollToPanes}},[i("splitpanes",{attrs:{"watch-slots":"","dbl-click-splitter":!1},on:{resized:t.resized}},[0===t.projectpanes.length?[i("pane",[i("div",{staticClass:"_msg"},[i("span",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("choose_a_pane"))+" ")]),i("br"),i("br"),i("br"),i("br"),i("DLabel",{attrs:{str:t.$t("latest_changes_to_project")}}),i("div",{staticClass:"u-instructions"},[i("small",[t._v(" "+t._s(t.$t("waiting"))+" ")])])],1)])]:t._e(),t._l(t.projectpanes,(function(e){return i("pane",{key:e.index,staticClass:"_pane",style:"--color-type: var(--color-"+e.type+");",attrs:{"min-size":"5",size:e.size,"data-size":e.size}},[t.can_edit_project?i("InstructionsWindow",{key:e.type,attrs:{type:e.type,path:t.project.$path},on:{close:t.scrollToPanes}}):t._e(),"capture"===e.type?i("CapturePane",{attrs:{project:t.project,selected_mode:e.mode,stopmotion_slug:e.stopmotion},on:{"update:selected_mode":function(i){return t.setItem(e,"mode",i)},"update:stopmotion_slug":function(i){return t.setItem(e,"stopmotion",i)}}}):"collect"===e.type?i("MediaLibrary",{key:e.key,attrs:{project:t.project,media_focused:e.focus},on:{"update:media_focused":function(i){return t.setItem(e,"focus",i)}}}):t._e(),"make"===e.type?i("MakePane",{attrs:{project:t.project,opened_make_slug:e.make,can_edit:t.can_edit_project},on:{"update:opened_make_slug":function(i){return t.setItem(e,"make",i)}}}):t._e(),"publish"===e.type?i("PublierPane",{attrs:{project:t.project,publication_opened:e.folder,page_opened_id:e.page_id,can_edit:t.can_edit_project},on:{"update:publication_opened":function(i){return t.setItem(e,"folder",i)},"update:page_opened_id":function(i){return t.setItem(e,"page_id",i)}}}):t._e()],1)}))],2)],1)},m=[],f=(i(26699),Object.defineProperty),g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,x=(t,e,i)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,k=(t,e)=>{for(var i in e||(e={}))y.call(e,i)&&x(t,i,e[i]);if(b)for(var i of b(e))w.call(e,i)&&x(t,i,e[i]);return t},$=(t,e)=>g(t,v(e)),j=(t,e)=>{var i={};for(var a in t)y.call(t,a)&&e.indexOf(a)<0&&(i[a]=t[a]);if(null!=t&&b)for(var a of b(t))e.indexOf(a)<0&&w.call(t,a)&&(i[a]=t[a]);return i};function P(t,e,i,a,s,n,o,r){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=r?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var p=c.render;c.render=function(t,e){return l.call(e),p(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}const C={name:"splitpanes",props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce(((t,e)=>(t[e.id]=e)&&t),{})}},methods:{updatePaneComponents(){this.panes.forEach((t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})}))},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))),this.touch.mouseDown=!1,setTimeout((()=>{this.touch.dragging=!1,this.unbindEvents()}),100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout((()=>{this.splitterTaps.splitter=null}),500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let i=0;this.panes=this.panes.map(((t,a)=>(t.size=a===e?t.max:t.min,a!==e&&(i+=t.min),t))),this.panes[e].size-=i,this.$emit("pane-maximize",this.panes[e])},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:i,clientY:a}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:i-e.left,y:a-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),100*t/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let i={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const a=0+(this.pushOtherPanes?0:i.prevPanesSize),s=100-(this.pushOtherPanes?0:i.nextPanesSize),n=Math.max(Math.min(this.getCurrentDragPercentage(t),s),a);let o=[e,e+1],r=this.panes[o[0]]||null,l=this.panes[o[1]]||null;const c=r.max<100&&n>=r.max+i.prevPanesSize,p=l.max<100&&n<=100-(l.max+this.sumNextPanesSize(e+1));if(c||p)c?(r.size=r.max,l.size=Math.max(100-r.max-i.prevPanesSize-i.nextPanesSize,0)):(r.size=Math.max(100-l.max-i.prevPanesSize-this.sumNextPanesSize(e+1),0),l.size=l.max);else{if(this.pushOtherPanes){const t=this.doPushOtherPanes(i,n);if(!t)return;({sums:i,panesToResize:o}=t),r=this.panes[o[0]]||null,l=this.panes[o[1]]||null}null!==r&&(r.size=Math.min(Math.max(n-i.prevPanesSize-i.prevReachedMinPanes,r.min),r.max)),null!==l&&(l.size=Math.min(Math.max(100-n-i.nextPanesSize-i.nextReachedMinPanes,l.min),l.max))}},doPushOtherPanes(t,e){const i=this.touch.activeSplitter,a=[i,i+1];return e<t.prevPanesSize+this.panes[a[0]].min&&(a[0]=this.findPrevExpandedPane(i).index,t.prevReachedMinPanes=0,a[0]<i&&this.panes.forEach(((e,s)=>{s>a[0]&&s<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),t.prevPanesSize=this.sumPrevPanesSize(a[0]),void 0===a[0])?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach(((e,a)=>{a>0&&a<=i&&(e.size=e.min,t.prevReachedMinPanes+=e.min)})),this.panes[a[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[a[1]].min&&(a[1]=this.findNextExpandedPane(i).index,t.nextReachedMinPanes=0,a[1]>i+1&&this.panes.forEach(((e,s)=>{s>i&&s<a[1]&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),t.nextPanesSize=this.sumNextPanesSize(a[1]-1),void 0===a[1])?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach(((e,a)=>{a<this.panesCount-1&&a>=i+1&&(e.size=e.min,t.nextReachedMinPanes+=e.min)})),this.panes[a[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:a}},sumPrevPanesSize(t){return this.panes.reduce(((e,i,a)=>e+(a<t?i.size:0)),0)},sumNextPanesSize(t){return this.panes.reduce(((e,i,a)=>e+(a>t+1?i.size:0)),0)},findPrevExpandedPane(t){const e=[...this.panes].reverse().find((e=>e.index<t&&e.size>e.min));return e||{}},findNextExpandedPane(t){const e=this.panes.find((e=>e.index>t+1&&e.size>e.min));return e||{}},checkSplitpanesNodes(){const t=Array.from(this.container.children);t.forEach((t=>{const e=t.classList.contains("splitpanes__pane"),i=t.classList.contains("splitpanes__splitter");if(!e&&!i)return t.parentNode.removeChild(t),void console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed.")}))},addSplitter(t,e,i=!1){const a=t-1,s=document.createElement("div");s.classList.add("splitpanes__splitter"),i||(s.onmousedown=t=>this.onMouseDown(t,a),"undefined"!==typeof window&&"ontouchstart"in window&&(s.ontouchstart=t=>this.onMouseDown(t,a)),s.onclick=t=>this.onSplitterClick(t,a+1)),this.dblClickSplitter&&(s.ondblclick=t=>this.onSplitterDblClick(t,a+1)),e.parentNode.insertBefore(s,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach((t=>{t.className.includes("splitpanes__splitter")&&this.removeSplitter(t)}));let e=0;t.forEach((t=>{t.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,t,!0):e&&this.addSplitter(e,t),e++)}))},requestUpdate(t){var e=t,{target:i}=e,a=j(e,["target"]);const s=this.indexedPanes[i._uid];Object.entries(a).forEach((([t,e])=>s[t]=e))},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some((i=>(i.className.includes("splitpanes__pane")&&e++,i===t.$el)));const i=parseFloat(t.minSize),a=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._uid,index:e,min:isNaN(i)?0:i,max:isNaN(a)?100:a,size:null===t.size?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach(((t,e)=>t.index=e)),this.ready&&this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},onPaneRemove(t){const e=this.panes.findIndex((e=>e.id===t._uid)),i=this.panes.splice(e,1)[0];this.panes.forEach(((t,e)=>t.index=e)),this.$nextTick((()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:$(k({},i),{index:e})}),this.$emit("pane-remove",{removed:i,panes:this.panes.map((t=>({min:t.min,max:t.max,size:t.size})))})}))},resetPaneSizes(t={}){t.addedPane||t.removedPane?this.panes.some((t=>null!==t.givenSize||t.min||t.max<100))?this.equalizeAfterAddOrRemove(t):this.equalize():this.initialPanesSizing(),this.ready&&this.$emit("resized",this.panes.map((t=>({min:t.min,max:t.max,size:t.size}))))},equalize(){const t=100/this.panesCount;let e=0,i=[],a=[];this.panes.forEach((s=>{s.size=Math.max(Math.min(t,s.max),s.min),e-=s.size,s.size>=s.max&&i.push(s.id),s.size<=s.min&&a.push(s.id)})),e>.1&&this.readjustSizes(e,i,a)},initialPanesSizing(){this.panesCount;let t=100,e=[],i=[],a=0;this.panes.forEach((s=>{t-=s.size,null!==s.size&&a++,s.size>=s.max&&e.push(s.id),s.size<=s.min&&i.push(s.id)}));let s=100;t>.1&&(this.panes.forEach((e=>{null===e.size&&(e.size=Math.max(Math.min(t/(this.panesCount-a),e.max),e.min)),s-=e.size})),s>.1&&this.readjustSizes(t,e,i))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let i=100/this.panesCount,a=0,s=[],n=[];t&&null!==t.givenSize&&(i=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach((t=>{a-=t.size,t.size>=t.max&&s.push(t.id),t.size<=t.min&&n.push(t.id)})),Math.abs(a)<.1||(this.panes.forEach((e=>{t&&null!==t.givenSize&&t.id===e.id||(e.size=Math.max(Math.min(i,e.max),e.min)),a-=e.size,e.size>=e.max&&s.push(e.id),e.size<=e.min&&n.push(e.id)})),a>.1&&this.readjustSizes(a,s,n))},readjustSizes(t,e,i){let a;a=t>0?t/(this.panesCount-e.length):t/(this.panesCount-i.length),this.panes.forEach(((s,n)=>{if(t>0&&!e.includes(s.id)){const e=Math.max(Math.min(s.size+a,s.max),s.min),i=e-s.size;t-=i,s.size=e}else if(!i.includes(s.id)){const e=Math.max(Math.min(s.size+a,s.max),s.min),i=e-s.size;t-=i,s.size=e}s.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[s.id].size}%`})})),Math.abs(t)>.1&&this.$nextTick((()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")}))}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){const e=[...this.container.querySelectorAll(".splitpanes__splitter")];e.forEach(((e,i)=>{e.ondblclick=t?t=>this.onSplitterDblClick(t,i):void 0}))}},beforeDestroy(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(t){return t("div",{ref:"container",class:["splitpanes","splitpanes--"+(this.horizontal?"horizontal":"vertical"),{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default)}};let M,z;const S={};var L=P(C,M,z,!1,I,null,null,null);function I(t){for(let e in S)this[e]=S[e]}var O=function(){return L.exports}(),F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"splitpanes__pane",style:t.style,on:{click:function(e){return t.onPaneClick(e,t._uid)}}},[t._t("default")],2)},T=[];const Z={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeDestroy(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||0===this.size?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}},D={};var B=P(Z,F,T,!1,E,null,null,null);function E(t){for(let e in D)this[e]=D[e]}var R=function(){return B.exports}(),A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_capturePane"},[i("CaptureView",{attrs:{slugFolderName:t.project.$path,path:t.project.$path,read_only:!1,selected_mode:t.selected_mode,stopmotion_slug:t.stopmotion_slug},on:{changeMode:function(e){return t.$emit("update:selected_mode",e)},openStopmotion:function(e){return t.$emit("update:stopmotion_slug",e)}}})],1)},q=[],N={props:{project:Object,selected_mode:String,stopmotion_slug:String},components:{CaptureView:()=>i.e(887).then(i.bind(i,56887))},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},H=N,V=(i(34496),(0,d.Z)(H,A,q,!1,null,"573ec683",null)),U=V.exports,J=i(55397),W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_makePane"},[t.opened_make_slug?i("div",[i("MakeOpen",{attrs:{project_path:t.project.$path,make_slug:t.opened_make_slug,can_edit:t.can_edit},on:{remove:t.removeMake,close:function(e){return t.$emit("update:opened_make_slug",!1)}}})],1):i("div",[i("br"),t.can_edit?i("RadioSwitch",{attrs:{content:t.current_view,options:[{label:t.$t("create"),value:"create"},{label:t.$t("existing"),value:"existing"}]},on:{"update:content":function(e){t.current_view=e}}}):t._e(),i("br"),"create"===t.current_view?i("section",t._l(t.recipe_types,(function(e){return i("div",{key:e.key,staticClass:"m_recipes--type"},[i("div",{staticClass:"u-label u-colorWhite"},[t._v(" "+t._s(t.$t(e.label))+" ")]),i("div",{staticClass:"m_recipes--type--grid"},t._l(e.recipes,(function(e){return i("div",{key:e.key,staticClass:"m_recipe"},[i("div",{staticClass:"m_recipe--icon",domProps:{innerHTML:t._s(e.icon)}}),i("div",{staticClass:"m_recipe--text"},[i("h2",{},[t._v(t._s(t.$t(e.key)))]),i("p",{staticClass:"margin-vert-small"},[i("span",{staticClass:"margin-vert-verysmall",domProps:{innerHTML:t._s(t.$t(e.summary))}}),i("br")]),e.instructions?i("button",{staticClass:"u-buttonLink",class:{"is--active":e.show_instructions},attrs:{type:"button"},on:{click:function(t){e.show_instructions=!e.show_instructions}}},[t._v(" "+t._s(t.$t("more_informations"))+" ")]):t._e(),e.show_instructions?[i("p",[i("span",{domProps:{innerHTML:t._s(t.$t(e.instructions))}})])]:t._e()],2),i("br"),i("div",{staticClass:"m_recipe--buttons"},[!0!==e.enabled?i("div",[i("hr"),t._m(0,!0)]):i("button",{staticClass:"u-button u-button_bleumarine",attrs:{type:"button"},on:{click:function(i){return t.createMake(e.key)}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[i("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),i("span",[t._v(t._s(t.$t("create")))])])])])})),0)])})),0):"existing"===t.current_view?i("section",[i("MakesList",{attrs:{project_path:t.project.$path,can_edit:t.can_edit},on:{open:t.openMakes}})],1):t._e()],1)])},Y=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("small",[t._v(" Pas encore disponible sur doâ€¢doc 10 / vous pouvez utiliser "),i("a",{attrs:{href:"https://dodoc.fr/"}},[t._v("doâ€¢doc 9")]),t._v(" en attendant. ")])}],Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"_makesList"},[i("label",{staticClass:"u-label u-colorWhite"},[t._v(" "+t._s(t.$t("makes_list"))+" ")]),i("div",{staticClass:"_makes"},[0===t.makes.length?i("div",{staticClass:"u-instructions"},[t._v(" "+t._s(t.$t("none_f"))+" ")]):t._l(t.makes,(function(e){return i("div",{key:e.$path,staticClass:"_makes--item"},[i("span",[i("b",[t._v(" "+t._s(e.title)+" ")]),i("br"),i("span",[i("i",[t._v(" "+t._s(t.$t(e.type).toLowerCase())+" ")])])]),i("DateDisplay",{attrs:{title:t.$t("date_created"),date:e.$date_created}}),i("button",{staticClass:"u-button",attrs:{type:"button"},on:{click:function(i){t.$emit("open",e.$path.split("/").at(-1))}}},[t._v(" "+t._s(t.$t("open"))+" ")])],1)}))],2)])},X=[],K={props:{project_path:String,can_edit:Boolean},components:{},data(){return{path:`${this.project_path}/makes`,makes:[]}},created(){},async mounted(){this.makes=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{},methods:{}},G=K,tt=(i(59872),(0,d.Z)(G,Q,X,!1,null,"c03d85b0",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_make"},[i("button",{staticClass:"u-buttonLink u-buttonLink_white",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("b-icon",{attrs:{icon:"arrow-left-short"}}),t._v(" "+t._s(t.$t("back_to_makes_list"))+" ")],1),t.fetch_make_error?i("div",[t._v(" "+t._s(t.fetch_make_error)+" ")]):t._e(),t.make?i("div",[i("div",{staticClass:"_topbar"},[i("TitleField",{attrs:{field_name:"title",tag:"h2",content:t.make.title,path:t.make.$path,required:!0,minlength:3,maxlength:40,can_edit:t.can_edit}}),t.can_edit?i("RemoveMenu",{attrs:{remove_text:t.$t("remove")},on:{remove:t.removeMake}}):t._e()],1),i("SingleBaseMediaPicker",{attrs:{field_name:"base_media_filename",content:t.make.base_media_filename,path:t.make.$path,media_type_to_pick:t.media_type_to_pick}}),t.base_media?i("div",{key:t.base_media.$path,staticClass:"_content"},[["edit_image"===t.make.type?i("EditImage",{attrs:{make:t.make,project_path:t.project_path,base_media:t.base_media}}):"trim_video"===t.make.type||"trim_audio"===t.make.type?i("TrimAudioVideo",{attrs:{make:t.make,project_path:t.project_path,base_media:t.base_media}}):t._e()]],2):t._e()],1):t._e()])},at=[],st=i(26660),nt={props:{project_path:String,make_slug:String,can_edit:Boolean},components:{SingleBaseMediaPicker:st.Z,EditImage:()=>i.e(979).then(i.bind(i,41979)),TrimAudioVideo:()=>i.e(940).then(i.bind(i,18940))},data(){return{make:null,fetch_make_error:!1}},created(){},async mounted(){await this.listMake(),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.make.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.make.$path})},watch:{},computed:{base_media(){const t=this.make.base_media_filename;return!!t&&this.getSourceMedia({source_media:{meta_filename_in_project:t},folder_path:this.make.$path})},media_type_to_pick(){return"edit_image"===this.make.type?"image":"trim_audio"===this.make.type?"audio":"trim_video"===this.make.type?"video":void 0}},methods:{async listMake(){const t=await this.$api.getFolder({path:`${this.project_path}/makes/${this.make_slug}`}).catch((t=>{this.fetch_make_error=t.response}));this.make=t},closeOnRemove({path:t}){t===this.make.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.make_was_removed")),this.$emit("close"))},async removeMake(){this.fetch_status="pending",this.fetch_error=null;try{const t=await this.$api.deleteItem({path:this.make.$path});this.response=t.data,this.fetch_status="success"}catch(t){this.fetch_status="error",this.fetch_error=t.response.data}}}},ot=nt,rt=(i(88742),(0,d.Z)(ot,it,at,!1,null,"7c67a63f",null)),lt=rt.exports,ct={props:{can_edit:Boolean,opened_make_slug:String,project:Object},components:{MakesList:et,MakeOpen:lt},data(){return{current_view:"create",recipe_types:[{key:"image",label:"",recipes:[{key:"edit_image",summary:"edit_image_summary",instructions:"video_assemblage_instructions",show_instructions:!1,icon:'\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <rect y="0.53" width="201" height="201" style="fill: none"/>\n    <g>\n      <g>\n        <rect x="107.44" y="30.53" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="111.93" y="35.12" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121px"/>\n      </g>\n      <g>\n        <path d="M79.06,120.65,66.93,132.77,27.07,172.64l5.46,5.46,52-52Z"/>\n        <path d="M79.15,116.75a1.29,1.29,0,0,0,1.29-1.28v-9a1.29,1.29,0,0,0-2.58,0v9A1.29,1.29,0,0,0,79.15,116.75Z"/>\n        <path d="M79.15,134.8a1.29,1.29,0,0,0-1.29,1.29v9a1.29,1.29,0,1,0,2.58,0v-9A1.29,1.29,0,0,0,79.15,134.8Z"/>\n        <path d="M98.48,124.49h-9a1.29,1.29,0,0,0,0,2.58h9a1.29,1.29,0,0,0,0-2.58Z"/>\n        <path d="M59.81,127.07h9a1.29,1.29,0,0,0,0-2.58h-9a1.29,1.29,0,0,0,0,2.58Z"/>\n        <path d="M86.88,119.33a1.35,1.35,0,0,0,.92-.37l6.38-6.38a1.29,1.29,0,1,0-1.82-1.82L86,117.14a1.28,1.28,0,0,0,.9,2.19Z"/>\n        <path d="M87.8,132.59A1.29,1.29,0,0,0,86,134.41l6.38,6.38a1.26,1.26,0,0,0,.91.38,1.31,1.31,0,0,0,.92-.38,1.29,1.29,0,0,0,0-1.82Z"/>\n        <path d="M70.51,119a1.26,1.26,0,0,0,.92.37,1.34,1.34,0,0,0,.91-.37,1.27,1.27,0,0,0,0-1.82L66,110.76a1.28,1.28,0,0,0-1.81,1.82Z"/>\n      </g>\n    </g>\n    <rect x="23.93" y="153.7" width="52.51" height="2.57" transform="translate(-94.89 80.88) rotate(-45)" style="fill: #fff"/>\n    <rect x="68.62" y="128.62" width="13.29" height="2.57" transform="translate(-69.81 91.27) rotate(-45)" style="fill: #fff"/>\n    <rect width="201" height="201" style="fill: none"/>\n  </g>\n</svg>\n              ',enabled:!0},{key:"trim_audio",summary:"trim_audio_summary",show_instructions:!1,icon:"\n              ",enabled:!0},{key:"trim_video",summary:"trim_video_summary",show_instructions:!1,icon:"\n              ",enabled:!0}]},{key:"video",label:"make_a_video",recipes:[{key:"video_assemblage",summary:"video_assemblage_summary",show_instructions:!1,instructions:"video_assemblage_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <rect x="68.73" y="12.93" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="73.23" y="17.52" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n        <rect x="72.36" y="66.15" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.36" y="73.43" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M94.24,47.59c-.7.45-1.28.14-1.28-.69V31.19c0-.83.58-1.14,1.28-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <g>\n        <rect x="68.73" y="114.16" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="73.23" y="118.76" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n        <rect x="72.36" y="167.38" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.36" y="174.66" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M94.24,148.82c-.7.46-1.28.14-1.28-.69v-15.7c0-.84.58-1.15,1.28-.7l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <path d="M101.87,98.27h4.24v2.54h-4.24v4.33H99.11v-4.33H94.89V98.27h4.22V94h2.76Z" style="fill: #fff"/>\n    </g>\n  </g>\n</svg>\n          '},{key:"video_effects",summary:"video_effects_summary",show_instructions:!1,instructions:"video_effects_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <rect y="0.53" width="201" height="201" style="fill: none"/>\n    <g>\n      <g>\n        <rect x="107.44" y="30.53" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="111.93" y="35.12" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121px"/>\n        <rect x="111.07" y="83.75" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="111.07" y="91.03" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M132.94,65.19c-.7.45-1.27.14-1.27-.69V48.79c0-.83.57-1.14,1.27-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <g>\n        <path d="M79.06,120.65,66.93,132.77,27.07,172.64l5.46,5.46,52-52Z"/>\n        <path d="M79.15,116.75a1.29,1.29,0,0,0,1.29-1.28v-9a1.29,1.29,0,0,0-2.58,0v9A1.29,1.29,0,0,0,79.15,116.75Z"/>\n        <path d="M79.15,134.8a1.29,1.29,0,0,0-1.29,1.29v9a1.29,1.29,0,1,0,2.58,0v-9A1.29,1.29,0,0,0,79.15,134.8Z"/>\n        <path d="M98.48,124.49h-9a1.29,1.29,0,0,0,0,2.58h9a1.29,1.29,0,0,0,0-2.58Z"/>\n        <path d="M59.81,127.07h9a1.29,1.29,0,0,0,0-2.58h-9a1.29,1.29,0,0,0,0,2.58Z"/>\n        <path d="M86.88,119.33a1.35,1.35,0,0,0,.92-.37l6.38-6.38a1.29,1.29,0,1,0-1.82-1.82L86,117.14a1.28,1.28,0,0,0,.9,2.19Z"/>\n        <path d="M87.8,132.59A1.29,1.29,0,0,0,86,134.41l6.38,6.38a1.26,1.26,0,0,0,.91.38,1.31,1.31,0,0,0,.92-.38,1.29,1.29,0,0,0,0-1.82Z"/>\n        <path d="M70.51,119a1.26,1.26,0,0,0,.92.37,1.34,1.34,0,0,0,.91-.37,1.27,1.27,0,0,0,0-1.82L66,110.76a1.28,1.28,0,0,0-1.81,1.82Z"/>\n      </g>\n    </g>\n    <rect x="23.93" y="153.7" width="52.51" height="2.57" transform="translate(-94.89 80.88) rotate(-45)" style="fill: #fff"/>\n    <rect x="68.62" y="128.62" width="13.29" height="2.57" transform="translate(-69.81 91.27) rotate(-45)" style="fill: #fff"/>\n    <rect width="201" height="201" style="fill: none"/>\n  </g>\n</svg>\n          '},{key:"stopmotion_animation",summary:"stopmotion_animation_summary",show_instructions:!1,instructions:"stopmotion_animation_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <g>\n          <g>\n            <rect x="25.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="29.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(46.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">1</text>\n        </g>\n        <g>\n          <g>\n            <rect x="75.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="79.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(96.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">2</text>\n        </g>\n        <g>\n          <g>\n            <rect x="125.5" y="9.92" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="129.04" y="13.24" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(146.15 33.42)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">3</text>\n        </g>\n      </g>\n      <g>\n        <g>\n          <g>\n            <rect x="25.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="29.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(46.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">5</text>\n        </g>\n        <g>\n          <g>\n            <rect x="75.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="79.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(96.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">6</text>\n        </g>\n        <g>\n          <g>\n            <rect x="125.5" y="77.48" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="129.04" y="80.81" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(146.15 100.99)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">7</text>\n        </g>\n      </g>\n      <g>\n        <g>\n          <g>\n            <rect x="25.5" y="145.05" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="29.04" y="148.38" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(46.15 168.55)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">9</text>\n        </g>\n        <g>\n          <g>\n            <rect x="75.5" y="145.05" width="50" height="46.04" style="fill: #fff"/>\n            <rect x="79.04" y="148.38" width="42.45" height="31.19" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.6319287679171661px"/>\n          </g>\n          <text transform="translate(91.81 168.55)" style="font-size: 14.490870475769043px;font-family: FiraCode-Medium, Fira Code;font-weight: 500">10</text>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n          '},{key:"mix_audio_and_video",summary:"mix_audio_and_video_summary",show_instructions:!1,instructions:"mix_audio_and_video_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <rect x="68.88" y="30.28" width="63.54" height="72" style="fill: #fff"/>\n        <rect x="73.38" y="34.87" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n        <rect x="72.52" y="83.5" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.52" y="90.78" width="23.67" height="4.99" style="fill: #353535"/>\n        <path d="M94.39,64.94c-.7.45-1.28.14-1.28-.69V48.54c0-.83.58-1.14,1.28-.69l11.92,7.72a.91.91,0,0,1,0,1.65Z" style="fill: #353535"/>\n      </g>\n      <g>\n        <rect x="68.58" y="134.72" width="63.54" height="36" style="fill: #fff"/>\n        <rect x="72.21" y="153.34" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.21" y="160.62" width="23.67" height="4.99" style="fill: #353535"/>\n        <g>\n          <line x1="73.38" y1="143.52" x2="127.32" y2="143.52" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n          <g>\n            <path d="M94.69,151c-.28.18-.51.06-.51-.28V137c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: #353535"/>\n            <path d="M94.69,151c-.28.18-.51.06-.51-.28V137c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: none;stroke: #fff;stroke-miterlimit: 10;stroke-width: 2px"/>\n          </g>\n          <circle cx="74.38" cy="143.52" r="2.58" style="fill: #353535"/>\n          <circle cx="126.32" cy="143.52" r="2.58" style="fill: #353535"/>\n        </g>\n      </g>\n      <path d="M102,117.63h4.24v2.54H102v4.32H99.27v-4.32H95v-2.54h4.23V113.3H102Z" style="fill: #fff"/>\n    </g>\n  </g>\n</svg>\n          '},{key:"mix_audio_and_image",summary:"mix_audio_and_image_summary",show_instructions:!1,instructions:"mix_audio_and_image_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <g id="Calque_6" data-name="Calque 6">\n    <g>\n      <g>\n        <rect x="68.88" y="30.28" width="63.54" height="62" style="fill: #fff"/>\n        <rect x="73.38" y="34.87" width="53.94" height="43.04" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121120286444px"/>\n      </g>\n      <g>\n        <rect x="68.58" y="124.72" width="63.54" height="36" style="fill: #fff"/>\n        <rect x="72.21" y="143.34" width="31.66" height="4.99" style="fill: #353535"/>\n        <rect x="72.21" y="150.62" width="23.67" height="4.99" style="fill: #353535"/>\n        <g>\n          <line x1="73.38" y1="133.52" x2="127.32" y2="133.52" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.16121120286444px"/>\n          <g>\n            <path d="M94.69,141c-.28.18-.51.06-.51-.28V127c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: #353535"/>\n            <path d="M94.69,141c-.28.18-.51.06-.51-.28V127c0-.34.23-.46.51-.28l10.56,6.84a.36.36,0,0,1,0,.66Z" style="fill: none;stroke: #fff;stroke-miterlimit: 10;stroke-width: 2px"/>\n          </g>\n          <circle cx="74.38" cy="133.52" r="2.58" style="fill: #353535"/>\n          <circle cx="126.32" cy="133.52" r="2.58" style="fill: #353535"/>\n        </g>\n      </g>\n      <path d="M102,107.63h4.24v2.54H102v4.32H99.27v-4.32H95v-2.54h4.23V103.3H102Z" style="fill: #fff"/>\n    </g>\n  </g>\n</svg>\n          '}]},{key:"exhibition",label:"make_an_exhibition",recipes:[{key:"face_masks",summary:"face_masks_summary",show_instructions:!1,instructions:"face_masks_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <rect x="67" y="67" width="67" height="67" style="fill: #fff"/>\n</svg>\n              '},{key:"image_tracking",summary:"image_tracking_summary",show_instructions:!1,instructions:"image_tracking_instructions",icon:'\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 201 201">\n  <rect x="67" y="67" width="67" height="67" style="fill: #fff"/>\n</svg>\n              '}]}]}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createMake(t){const e=(Math.random().toString(36)+"00000000000000000").slice(2,5),i=this.$t(t)+"-"+e,a=await this.$api.createFolder({path:`${this.project.$path}/makes`,additional_meta:{type:t,title:i,requested_slug:i,$admins:"parent_contributors"}});this.openMakes(a)},openMakes(t){this.$emit("update:opened_make_slug",t)},removeMake(t){}}},pt=ct,dt=(i(97888),(0,d.Z)(pt,W,Y,!1,null,"48f6d9de",null)),ht=dt.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publierPane",class:{"is--editable":t.can_edit}},[t.publication_opened?i("PublicationOpen",{attrs:{project_path:t.project.$path,publication_slug:t.publication_opened,page_opened_id:t.page_opened_id,can_edit:t.can_edit},on:{togglePage:function(e){return t.$emit("update:page_opened_id",e)},close:function(e){t.$emit("update:publication_opened",!1),t.$emit("update:page_opened_id",!1)}}}):i("PublicationsList",{attrs:{project_path:t.project.$path,can_edit:t.can_edit},on:{togglePubli:function(e){return t.$emit("update:publication_opened",e)}}})],1)},_t=[],mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationsList"},[i("div",{staticClass:"_topBtn"},[i("div",{staticClass:"u-sameRow"},[i("DLabel",{attrs:{str:t.$t("publications"),tag:"h2"}}),t.can_edit?i("button",{staticClass:"u-button u-button_bleuvert",attrs:{type:"button"},on:{click:function(e){t.show_create_publication=!0}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[i("path",{staticStyle:{fill:"var(--color-publish)"},attrs:{d:"M24.6,24.4c-32.8,32.8-32.8,86.1,0,119c32.8,32.8,85.9,32.8,118.7,0c32.8-32.8,32.8-85.9,0-118.7\n\t\tC110.5-8.2,57.5-8.2,24.6,24.4z"}}),i("polygon",{staticStyle:{fill:"#ffffff"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),t._v(" Â  "+t._s(t.$t("create"))+" ")]):t._e()],1)]),t.show_create_publication?i("CreatePublication",{attrs:{project_path:t.project_path,template_options:t.template_options},on:{close:function(e){t.show_create_publication=!1},openPubli:function(e){return t.$emit("togglePubli",e)}}}):t._e(),i("br"),i("div",{staticClass:"_publications"},[i("transition-group",{staticClass:"_publications--list",attrs:{tag:"div",name:"listComplete"}},t._l(t.sorted_publications,(function(e){return i("div",{key:e.$path},[i("PublicationPreview",{attrs:{publication:e,template_options:t.template_options,can_edit:t.can_edit},on:{open:function(i){return t.openEntry(e.$path)}}})],1)})),0)],1)],1)},ft=[],gt=(i(52262),i(24506),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseModal2",{attrs:{title:t.$t("create_a_publication")},on:{close:function(e){return t.$emit("close")}}},[i("form",{staticClass:"input-validation-required",on:{submit:function(e){return e.preventDefault(),t.createPublication.apply(null,arguments)}}},[i("DLabel",{attrs:{str:t.$t("title")}}),i("TextInput",{attrs:{content:t.new_publication_title,maxlength:40,required:!0},on:{"update:content":function(e){t.new_publication_title=e},toggleValidity:function(e){return t.allow_save=e}}}),i("br"),i("div",{},[i("ToggleInput",{attrs:{content:t.new_publication_is_private,label:t.$t("private"),options:{true:t.$t("private_status_explanations"),false:t.$t("public_status_explanations")}},on:{"update:content":function(e){t.new_publication_is_private=e}}})],1),i("br"),i("div",{staticClass:"_templates"},t._l(t.template_options,(function(e){return i("div",{key:e.key,staticClass:"_templates--item",class:{"is--active":t.new_publication_template===e.key}},[i("strong",[t._v(t._s(e.label))]),i("div",{domProps:{innerHTML:t._s(e.icon)}}),i("button",{staticClass:"u-button u-button_bleuvert_fonce",attrs:{type:"submit",name:"action",disabled:!0===e.disabled},on:{click:function(i){t.new_publication_template=e.key}}},[i("svg",{staticStyle:{"enable-background":"new 0 0 168 168"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 168 168","xml:space":"preserve"}},[i("polygon",{staticStyle:{fill:"white"},attrs:{points:"132.3,73.4 132.3,94.4 94.6,94.4 94.6,132.1 73.6,132.1 73.6,94.4 35.9,94.4 35.9,73.4 \n\t\t73.6,73.4 73.6,35.7 94.6,35.7 94.6,73.4 \t\t"}})]),i("span",[t._v(" "+t._s(t.$t("create"))+" ")])])])})),0),t.error_msg?[i("br"),i("br"),i("div",{staticClass:"u-errorMsg",domProps:{textContent:t._s(t.error_msg)}})]:t._e()],2)])}),vt=[],bt={props:{project_path:String,template_options:Array},components:{},data(){return{new_publication_title:"",new_publication_is_private:!1,new_publication_template:"page_by_page",is_creating_publication:!1,allow_save:!1,error_msg:""}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{async createPublication(){this.is_creating_publication=!0;let t={title:this.new_publication_title,template:this.new_publication_template,requested_slug:this.new_publication_title,$status:!0===this.new_publication_is_private?"private":"public",$admins:"parent_contributors"};"page_by_page"===this.new_publication_template&&(t.layout_mode="print",t.page_width=210,t.page_height=297,t.pages=[{id:"first_page"}]);try{const e=await this.$api.createFolder({path:`${this.project_path}/publications`,additional_meta:t});this.$emit("openPubli",e)}catch(e){this.error_msg="Error: "+e.message,setTimeout((()=>{this.error_msg=""}),5e3),this.is_creating_publication=!1}}}},yt=bt,wt=(i(24863),(0,d.Z)(yt,gt,vt,!1,null,"2e5dfd72",null)),xt=wt.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationPreview"},[i("div",{staticClass:"_publicationPreview--cover",on:{click:function(e){return t.$emit("open")}}},[t.cover_thumb?i("div",[i("img",{attrs:{src:t.cover_thumb}}),t.template_icon?i("span",{staticClass:"_iconPreview",domProps:{innerHTML:t._s(t.template_icon)}}):t._e()]):i("div",{staticClass:"_noPreview"},[t.template_icon?i("span",{domProps:{innerHTML:t._s(t.template_icon)}}):t._e()]),i("transition",{attrs:{name:"fade_fast"}},[t.is_making_preview?i("div",{staticClass:"_previewProgress"},[i("AnimatedCounter",{attrs:{value:t.preview_progress}})],1):t._e()]),t.can_edit&&!t.is_making_preview?i("button",{staticClass:"u-button u-button_small u-button_black _generatePreviewBtn",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.generatePreview.apply(null,arguments)}}},[i("sl-icon",{attrs:{name:"arrow-clockwise"}})],1):t._e()],1),i("header",{staticClass:"_header",on:{click:function(e){return t.$emit("open")}}},[t.publication.template?i("small",{domProps:{innerHTML:t._s(t.$t(t.publication.template))}}):t._e(),i("h2",[t._v(" "+t._s(t.publication.title)+" ")])]),i("div",{})])},$t=[],jt={props:{publication:Object,template_options:Array,can_edit:Boolean},components:{},data(){return{is_making_preview:!1,preview_progress:0}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{cover_thumb(){return this.makeRelativeURLFromThumbs({$thumbs:this.publication.$cover,$type:"image",$path:this.publication.$path,resolution:640})},template_icon(){const t=this.template_options.find((t=>t.key===this.publication.template));return!!t&&t.icon}},methods:{async removePublication(){await this.$api.deleteItem({path:this.publication.$path})},async generatePreview(){const t={recipe:"png",page:1,page_width:this.publication.page_width,page_height:this.publication.page_height,layout_mode:this.publication.layout_mode||"print"};this.is_making_preview=!0;const e=await this.$api.generatePreviewForPublication({path:this.publication.$path,instructions:t});this.$api.join({room:"task_"+e});const i=({task_id:t,progress:i})=>{t===e&&(this.preview_progress=+i)};this.$eventHub.$on("task.status",i);const a=({task_id:t})=>{t===e&&(this.preview_progress=100,setTimeout((()=>{this.is_making_preview=!1,this.preview_progress=0}),2e3),this.$eventHub.$off("task.ended",a),this.$eventHub.$off("task.status",i),this.$api.leave({room:"task_"+e}))};this.$eventHub.$on("task.ended",a)}}},Pt=jt,Ct=(i(9018),(0,d.Z)(Pt,kt,$t,!1,null,"d14db8e8",null)),Mt=Ct.exports,zt={props:{project_path:String,project_downloadable_files:Array,can_edit:Boolean},components:{CreatePublication:xt,PublicationPreview:Mt},data(){return{path:`${this.project_path}/publications`,show_create_publication:!1,publications:[],template_options:[{key:"page_by_page",label:this.$t("page_by_page"),icon:'\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="201px" height="201px" viewBox="0 0 201 201" style="overflow:visible;enable-background:new 0 0 201 201;" xml:space="preserve">\n          <rect x="35.68" y="8.83" width="129.64" height="183.35" style="fill: #fff"/>\n          <rect x="46.15" y="31.82" width="39.07" height="27.55" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.0944702326735385px"/>\n          <rect x="118.95" y="68.62" width="35.9" height="53.44" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.9170289512680598px"/>\n          <rect x="46.15" y="68.62" width="63.37" height="53.44" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 2.161211202864444px"/>\n          <rect x="73.36" y="136.54" width="54.27" height="4.99" style="fill: #353535"/>\n          <rect x="73.36" y="153.02" width="54.27" height="4.99" style="fill: #353535"/>\n          <rect x="73.36" y="144.78" width="54.27" height="4.99" style="fill: #353535"/>\n          <rect x="73.36" y="161.26" width="54.27" height="4.99" style="fill: #353535"/>\n          <line x1="46.15" y1="22.57" x2="154.85" y2="22.57" style="fill: none;stroke: #353535;stroke-miterlimit: 10;stroke-width: 1.8953584524134504px"/>\n        </svg>\n        '},{key:"story_with_sections",label:this.$t("story_with_sections"),icon:'\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="201px" height="201px" viewBox="0 0 201 201" style="overflow:visible;enable-background:new 0 0 201 201;" xml:space="preserve">\n            <rect x="35.7" y="8.8" class="st1" width="129.6" height="183.4" style="fill: #fff;" />\n            <rect x="64.9" y="46.8" width="71.2" height="53.6" style="fill:none;stroke:#353535;stroke-width:1.917;stroke-miterlimit:10;" />\n            <rect x="64.9" y="145.2" width="71.2" height="39.8" style="fill:none;stroke:#353535;stroke-width:1.917;stroke-miterlimit:10;" />\n            <rect x="65" y="108" width="71.1" height="5" style="fill:#353535;" />\n            <rect x="65" y="124.5" class="st3" width="71.1" height="5"  style="fill:#353535;"/>\n            <rect x="65" y="116.2" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="65" y="132.7" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="64.9" y="25.9" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="64.9" y="17.6" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n            <rect x="64.9" y="34.1" class="st3" width="71.1" height="5" style="fill:#353535;"/>\n          </svg>\n          '},{key:"cartography",label:this.$t("cartography"),icon:'\n          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="101px" height="101px" viewBox="0 0 101 101" style="overflow:visible;enable-background:new 0 0 101 101;" xml:space="preserve">\n            <path fill="white" fill-rule="evenodd" clip-rule="evenodd" d="M79.257,21.725c2.267,3.934,3.667,8.167,4.2,12.7  c0.567,4.767,0.133,9.583-1.3,14.45c-1.767,5.967-4.6,12.167-8.5,18.6c-5.133,8.5-11.35,16.7-18.65,24.601  c-1.7,1.833-3.367,2.75-5,2.75c-1.6,0-3.25-0.917-4.95-2.75c-5.434-5.967-10.05-11.667-13.85-17.101  c-4.433-6.366-8.05-12.75-10.85-19.149c-2.8-6.5-4.15-12.567-4.05-18.2c0.133-8.133,3-15.316,8.6-21.55  c3.8-4.233,8.183-7.267,13.15-9.101c0.4-0.166,0.816-0.316,1.25-0.449c6.7-1.801,13.767-1.801,21.2,0  c3.667,1.166,7.05,2.967,10.15,5.399C74.157,14.625,77.024,17.892,79.257,21.725z M50.107,16.075c-6.2,0-11.517,2.183-15.95,6.55  c-4.4,4.367-6.6,9.633-6.6,15.8c-0.033,6.2,2.133,11.517,6.5,15.95c4.367,4.4,9.633,6.617,15.8,6.65  c6.233,0.033,11.567-2.134,16-6.5c4.4-4.4,6.617-9.717,6.65-15.95c0-6.2-2.183-11.5-6.55-15.9  C61.557,18.309,56.274,16.108,50.107,16.075z M57.907,46.525c-2.233,2.199-4.9,3.283-8,3.25c-3.034,0-5.65-1.101-7.85-3.301  c-2.167-2.199-3.25-4.833-3.25-7.899c0-3.101,1.1-5.75,3.3-7.95c2.2-2.2,4.85-3.3,7.95-3.3c3.066,0,5.7,1.1,7.9,3.3  c2.2,2.233,3.3,4.9,3.3,8C61.224,41.725,60.107,44.358,57.907,46.525z"/>\n          </svg>\n          '}]}},created(){},async mounted(){this.publications=await this.$api.getFolders({path:this.path}),this.$api.join({room:this.path})},beforeDestroy(){this.$api.leave({room:this.path})},watch:{},computed:{sorted_publications(){const t=this.publications.slice();return t.sort(((t,e)=>+new Date(e.$date_created)-+new Date(t.$date_created)))}},methods:{openEntry(t){const e=t.split("/").at(-1);this.$emit("togglePubli",e)},closeEntry(){this.$emit("togglePubli",!1)}}},St=zt,Lt=(i(42486),(0,d.Z)(St,mt,ft,!1,null,"132f9759",null)),It=Lt.exports,Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"_publicationOpen"},[t.publication?t.fetch_publication_error?i("div",[t._v(" "+t._s(t.fetch_publication_error)+" ")]):t.publication?[i("PublicationTopbar",{staticClass:"_publicationOpen--topbar",attrs:{publication:t.publication,can_edit:t.can_edit},on:{close:function(e){return t.$emit("close")}}}),"story"===t.publication.template?i("StoryTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,can_edit:t.can_edit}}):"story_with_sections"===t.publication.template?i("StorySectionTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,opened_section_meta_filename:t.page_opened_id,can_edit:t.can_edit},on:{toggleSection:function(e){return t.$emit("togglePage",e)}}}):"page_by_page"===t.publication.template?i("PageTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,can_edit:t.can_edit,page_opened_id:t.page_opened_id},on:{togglePage:function(e){return t.$emit("togglePage",e)}}}):"cartography"===t.publication.template?i("MapTemplate",{staticClass:"_publicationOpen--content",attrs:{publication:t.publication,opened_view_meta_filename:t.page_opened_id,can_edit:t.can_edit},on:{toggleView:function(e){return t.$emit("togglePage",e)}}}):t._e()]:t._e():i("sl-spinner",{staticStyle:{"--indicator-color":"currentColor"}})],2)},Ft=[],Tt=i(50301),Zt={props:{project_path:String,publication_slug:String,page_opened_id:String,can_edit:Boolean},components:{PublicationTopbar:Tt.Z,StoryTemplate:()=>i.e(754).then(i.bind(i,10754)),StorySectionTemplate:()=>i.e(123).then(i.bind(i,47123)),PageTemplate:()=>i.e(25).then(i.bind(i,41025)),MapTemplate:()=>i.e(849).then(i.bind(i,39849))},data(){return{publication:null,fetch_publication_error:null}},created(){},async mounted(){await this.listPublication(),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.publication.$path})},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.publication.$path})},watch:{},computed:{},methods:{async listPublication(){const t=await this.$api.getFolder({path:`${this.project_path}/publications/${this.publication_slug}`}).catch((t=>{this.fetch_publication_error=t.response}));this.publication=t},closeOnRemove({path:t}){t===this.publication.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.publication_was_removed")),this.$emit("close"))}}},Dt=Zt,Bt=(i(40349),(0,d.Z)(Dt,Ot,Ft,!1,null,"6d674629",null)),Et=Bt.exports,Rt={props:{project:Object,publication_opened:String,page_opened_id:String,can_edit:Boolean},components:{PublicationsList:It,PublicationOpen:Et},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{}},At=Rt,qt=(i(50703),(0,d.Z)(At,ut,_t,!1,null,"79755e1d",null)),Nt=qt.exports,Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.show_instructions?i("div",{key:""+t.type,staticClass:"_floatingMsg",on:{click:function(e){return e.target!==e.currentTarget?null:t.closeInstructions.apply(null,arguments)}}},[i("div",[i("span",{domProps:{innerHTML:t._s(t.$t("instructions.pane."+t.type))}}),i("sl-icon-button",{attrs:{name:"x-circle-fill",label:"Fermer"},on:{click:function(e){return e.stopPropagation(),t.closeInstructions.apply(null,arguments)}}})],1)]):t._e()])},Vt=[],Ut={props:{type:String,path:String},components:{},data(){return{show_instructions:!0,local_storage_path:this.path+"/instructions_shown_for_"+this.type}},created(){"true"===localStorage.getItem(this.local_storage_path)&&(this.show_instructions=!1)},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{closeInstructions(){this.show_instructions=!1,localStorage.setItem(this.local_storage_path,"true"),this.$emit("close")}}},Jt=Ut,Wt=(i(41555),(0,d.Z)(Jt,Ht,Vt,!1,null,"1ff4632a",null)),Yt=Wt.exports,Qt={props:{projectpanes:Array,project:Object,can_edit_project:Boolean},components:{Splitpanes:O,Pane:R,PublierPane:Nt,MediaLibrary:J.Z,MakePane:ht,CapturePane:U,InstructionsWindow:Yt},data(){return{}},created(){},mounted(){},beforeDestroy(){},watch:{},computed:{},methods:{scrollToPanes(){"Projet"===this.$route.name&&this.can_edit_project&&this.$el.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},setItem(t,e,i){Object.prototype.hasOwnProperty.call(t,e)&&t[e]===i||!i?this.$delete(t,e):this.$set(t,e,i)},resized(t){console.log("Project / methods: resized");let e=this.projectpanes.slice();e.map(((e,i)=>(e.size=Number(t[i].size.toFixed(1)),e))),this.$emit("update:projectpanes",e)}}},Xt=Qt,Kt=(i(49459),(0,d.Z)(Xt,_,m,!1,null,"d3e5d9ec",null)),Gt=Kt.exports,te={props:{},components:{ProjectPresentation:n.Z,PaneList2:u,ProjectPanes:Gt},data(){return{fetch_project_error:null,project:null,display_as_public:!1,projectpanes:[]}},async created(){await this.listProject(),await this.getSpace(),this.can_edit_project||(this.projectpanes=[{type:"publish",size:100}]),this.$eventHub.$emit("received.project",this.project),this.$eventHub.$on("folder.removed",this.closeOnRemove),this.$api.join({room:this.project.$path})},mounted(){},beforeDestroy(){this.$eventHub.$off("folder.removed",this.closeOnRemove),this.$api.leave({room:this.project.$path})},watch:{$route:{handler(){let t=this.$route.query?.projectpanes;t&&(this.projectpanes=JSON.parse(t))},immediate:!0},projectpanes:{handler(){this.updateQueryPanes()},deep:!0},display_as_public:{handler(){this.display_as_public&&(1!==this.projectpanes.length||this.projectpanes.some((t=>"publish"!==t.type)))&&(this.projectpanes=[{type:"publish",size:100}])}}},computed:{can_edit_project(){return this.canLoggedinEditFolder({folder:this.project})},can_contribute_to_project(){return this.canLoggedinContributeToFolder({folder:this.project})}},methods:{async listProject(){const t=this.createPath({space_slug:this.$route.params.space_slug,project_slug:this.$route.params.project_slug}),e=await this.$api.getFolder({path:t}).catch((t=>{this.fetch_project_error=t.response,this.is_loading=!1}));this.project=e},async getSpace(){const t=this.createPath({space_slug:this.$route.params.space_slug}),e=await this.$api.getFolder({path:t}).catch((()=>{}));this.$eventHub.$emit("received.space",e)},updateQueryPanes(){let t={};if(this.projectpanes&&(t.projectpanes=JSON.stringify(this.projectpanes)),this.$route.query&&JSON.stringify(this.$route.query)===JSON.stringify(t))return!1;this.$router.replace({query:t})},closeOnRemove({path:t}){t===this.project.$path&&(this.$alertify.closeLogOnClick(!0).delay(4e3).log(this.$t("notifications.project_was_removed")),this.$router.push(this.getParent(this.createURLFromPath(this.project.$path))))}}},ee=te,ie=(i(15541),(0,d.Z)(ee,a,s,!1,null,"5fe2ef26",null)),ae=ie.exports},5890:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._projetPanes[data-v-d3e5d9ec]{position:relative}._projetPanes[data-v-d3e5d9ec]:not(.is--editable)  ._pane>*{min-height:100vh}._projetPanes.is--editable[data-v-d3e5d9ec]  ._pane>*{min-height:calc(100vh - 44px)}._projetPanes.has--multiplePanes[data-v-d3e5d9ec]  ._pane{height:calc(100vh - 44px);overflow:auto}._msg[data-v-d3e5d9ec]{text-align:center;max-width:50ch;margin:0 auto;padding:calc(var(--spacing)*2)}._msg[data-v-d3e5d9ec]  ._labelLine{justify-content:center}",""]),e["default"]=r},70753:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._projectInfos[data-v-2f39dab3]{position:relative;display:flex;flex-flow:row nowrap;align-items:stretch;width:100%;margin:0 auto;overflow:hidden;background:#fff;transition:all .4s cubic-bezier(.19,1,.22,1)}._projectInfos.is--linkToProject[data-v-2f39dab3]:hover{transform:translateY(-8px);box-shadow:0 3px 6px rgba(0,0,0,.16),0 3px 6px rgba(0,0,0,.23)}._projectInfos.is--list[data-v-2f39dab3]{border-radius:4px}._projectInfos.is--list ._description[data-v-2f39dab3],._projectInfos.is--list ._title[data-v-2f39dab3]{font-size:90%}._projectInfos.is--list[data-v-2f39dab3]{display:block}._projectInfos.is--mobileView[data-v-2f39dab3]{flex-flow:row wrap}._projectInfos>*[data-v-2f39dab3]{flex:10 1 320px;transition:all .4s cubic-bezier(.19,1,.22,1)}._projectInfos>._projectInfos--meta[data-v-2f39dab3]{flex:1 0 260px}._projectInfos>._projectInfos--meta.is--hidden[data-v-2f39dab3]{flex:0 0 0;opacity:0}._projectInfos.is--mobileView ._projectInfos--meta[data-v-2f39dab3]{flex:0 0 100%}._projectInfos--infos[data-v-2f39dab3]{display:flex;flex-flow:column nowrap;place-content:center;gap:calc(var(--spacing)/1);padding:calc(var(--spacing)/1);transition:all .4s}.is--list ._projectInfos--infos[data-v-2f39dab3]{gap:calc(var(--spacing)/4);order:0;padding-top:calc(var(--spacing)/2);pointer-events:none}.is--list ._projectInfos--infos ._showDescription[data-v-2f39dab3]{pointer-events:auto}._projectInfos--infos>*[data-v-2f39dab3]{max-width:56ch}._imageSelect[data-v-2f39dab3]{background:#fff;position:relative}._projectInfos--cover[data-v-2f39dab3]{position:relative;aspect-ratio:1/1;width:45vh;height:45vh;flex:0 0 45vh}@supports not (aspect-ratio:1/1){._projectInfos--cover[data-v-2f39dab3]{width:500px;height:500px}}.is--list ._projectInfos--cover[data-v-2f39dab3]{padding:2px;width:100%;height:auto}.is--mobileView ._projectInfos--cover[data-v-2f39dab3]{flex:1 1 auto;max-width:none;max-height:none;height:auto}._projectInfos--cover ._icon[data-v-2f39dab3]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/1);font-size:125%}._projectInfos--cover ._check[data-v-2f39dab3]{color:var(--c-bleuvert)}._projectInfos--cover ._originalSpace[data-v-2f39dab3]{position:absolute;bottom:0;left:0;margin:calc(var(--spacing)/2);padding:calc(var(--spacing)/4) calc(var(--spacing)/2);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);font-size:var(--sl-font-size-small)}._projectInfos--meta[data-v-2f39dab3]{height:45vh;overflow:auto}._projectInfos--meta[data-v-2f39dab3]::-webkit-scrollbar{height:18px;width:18px;background-color:transparent}._projectInfos--meta[data-v-2f39dab3]::-webkit-scrollbar-thumb,._projectInfos--meta[data-v-2f39dab3]::-webkit-scrollbar-track{border:6px solid hsla(0,0%,100%,0);border-radius:24px;background-clip:padding-box;-webkit-transition:all .4s;transition:all .4s}._projectInfos--meta[data-v-2f39dab3]::-webkit-scrollbar-track{background-color:transparent}._projectInfos--meta[data-v-2f39dab3]::-webkit-scrollbar-thumb{background-color:var(--c-noir)}._projectInfos--meta[data-v-2f39dab3]::-webkit-scrollbar-thumb:hover{background-color:var(--c-gris);border:6px solid hsla(0,0%,100%,0)}.is--mobileView ._projectInfos--meta[data-v-2f39dab3]{height:auto}._projectInfos--meta>*[data-v-2f39dab3]{flex:0 0 auto;min-width:220px}._projectInfos--open[data-v-2f39dab3]{display:flex;justify-content:center}._projectInfos--open ._clickZone[data-v-2f39dab3]{position:absolute;top:0;left:0;width:100%;height:100%}._showMeta[data-v-2f39dab3]{position:absolute;top:0;right:0;z-index:100;background:#fff;margin:calc(var(--spacing)/4)}._showDescription[data-v-2f39dab3]{position:relative;z-index:100;padding:0;text-align:left}._allTags[data-v-2f39dab3]{display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/4)}",""]),e["default"]=r},56701:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._make[data-v-7c67a63f]{padding:calc(var(--spacing)/4)}._topbar[data-v-7c67a63f]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:calc(var(--spacing)*1);align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/2) calc(var(--spacing)*1);margin:calc(var(--spacing)/2) auto 0;box-shadow:0 1px 4px rgba(0,0,0,.1)}",""]),e["default"]=r},95924:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._makesList[data-v-c03d85b0]{max-width:800px;max-width:var(--max-column-width);margin:0 auto}._makes--item[data-v-c03d85b0]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;background:#fff;margin-bottom:2px;padding:calc(var(--spacing)/2) calc(var(--spacing)*1);gap:calc(var(--spacing)*1)}",""]),e["default"]=r},39978:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._mediaPicker[data-v-50c54ccd]{display:flex}._mediaPicker>._mpContent[data-v-50c54ccd]{display:flex;flex-flow:row wrap;align-items:center;margin:calc(var(--spacing)/2) auto;background:var(--c-bleumarine_fonce);gap:calc(var(--spacing)*1);gap:calc(var(--spacing)/4);padding:calc(var(--spacing)/4);border-radius:4px}._mediaPicker>._mpContent[data-v-50c54ccd]  ._mediaContent{width:50px;height:50px}._mediaPicker>._mpContent[data-v-50c54ccd]  ._mediaContent ._mediaContent--image{position:absolute;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;max-width:none}",""]),e["default"]=r},57919:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._paneList[data-v-5eeb668a]{position:sticky;top:0;overflow:visible;z-index:100;width:100%;min-height:44px;padding:calc(var(--spacing)/4) 0;padding:0;margin:0 auto;background-color:#fff;border-top:1px solid var(--c-gris);background:var(--panel-color)}._paneList.has--noPanes[data-v-5eeb668a]{border-bottom:1px solid var(--c-gris)}._paneList2[data-v-5eeb668a]{display:flex;flex-flow:row nowrap;align-items:center;overflow:hidden}._paneList2>*[data-v-5eeb668a]{flex:1 1 0}._paneList2>._projectPanes[data-v-5eeb668a]{flex:0 0 auto}._paneList.is--mobile ._paneList2>._projectPanes[data-v-5eeb668a]{flex:1 0 auto}._paneList--list[data-v-5eeb668a]{display:flex;flex-flow:row wrap;justify-content:center;gap:calc(var(--spacing)/4);white-space:nowrap;height:auto;overflow:auto}._paneList--list>*[data-v-5eeb668a]{flex:0 0 0;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:all .2s cubic-bezier(.19,1,.22,1)}._paneItem[data-v-5eeb668a],._paneList--list>*[data-v-5eeb668a]{display:flex;align-items:center}._paneItem[data-v-5eeb668a]{flex-flow:row nowrap;border-radius:44px;text-decoration:none;text-transform:uppercase;font-weight:500;letter-spacing:.03em;color:var(--color-active)}._paneItem.is--enabled[data-v-5eeb668a],._paneItem[data-v-5eeb668a]:focus,._paneItem[data-v-5eeb668a]:hover{color:#fff;background-color:var(--color-active)}._paneItem sl-icon-button[data-v-5eeb668a]::part(base){color:currentColor}._inlineBtn[data-v-5eeb668a]{position:relative;display:block;--sl-transition-medium:0;border-radius:50%;transition:all .1s cubic-bezier(.19,1,.22,1)}._addPaneBtn[data-v-5eeb668a]:focus,._addPaneBtn[data-v-5eeb668a]:hover,._removePaneBtn[data-v-5eeb668a]:focus,._removePaneBtn[data-v-5eeb668a]:hover{background:#fff;color:var(--color-active)}._btn[data-v-5eeb668a]{display:flex;justify-content:center;align-items:center;padding:calc(var(--spacing)/4);transition:all .2s cubic-bezier(.19,1,.22,1);cursor:pointer;width:100%;height:100%}._icon[data-v-5eeb668a]{width:2rem;height:2rem}._name[data-v-5eeb668a]{padding:0 calc(var(--spacing)/2)}._projectTitle[data-v-5eeb668a]{padding:calc(var(--spacing)/4);font-weight:700;opacity:0;transform:translateY(-100%);transition:.25s cubic-bezier(.19,1,.22,1)}._projectTitle.is--shown[data-v-5eeb668a]{opacity:1;transform:translateY(0)}._projectTitle>button[data-v-5eeb668a]{padding:calc(var(--spacing)/4) calc(var(--spacing)/4);display:flex;justify-content:flex-start;align-items:center;gap:calc(var(--spacing)/2)}._projectTitle img[data-v-5eeb668a]{width:2rem;height:2rem;-o-object-fit:cover;object-fit:cover}._projectTitle span[data-v-5eeb668a]{min-height:2rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:flex;align-items:center}",""]),e["default"]=r},99025:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._capturePane[data-v-573ec683]{height:100%;overflow:auto}",""]),e["default"]=r},13455:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._makePane[data-v-48f6d9de]{background:var(--color-make);height:100%;overflow:auto;padding:calc(var(--spacing)*1)}.m_recipes--type[data-v-48f6d9de]{margin-bottom:calc(var(--spacing)*2)}.m_recipes--type--grid[data-v-48f6d9de]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/2);align-items:stretch}.m_recipe[data-v-48f6d9de]{border-radius:8px;background:#fff;padding:calc(var(--spacing)/2);border-radius:var(--button-radius)}.m_recipe--icon[data-v-48f6d9de]{border-radius:4px;background:var(--c-bleumarine);flex:0 1 160px;min-width:120px;margin:0;padding:0}.m_recipe--icon[data-v-48f6d9de]  svg{width:100%;max-width:160px;margin:0 auto}.m_recipe--text[data-v-48f6d9de]{flex-basis:50%;max-width:44ch;padding:0;color:#000}.m_recipe--text p[data-v-48f6d9de]{line-height:1.4}.m_recipe--text hr[data-v-48f6d9de]{border:none;border-top:2px solid #000;width:1em}.m_recipe--buttons[data-v-48f6d9de]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center}.u-buttonLink.is--active[data-v-48f6d9de]{color:var(--c-bleumarine)}",""]),e["default"]=r},44951:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._publierPane[data-v-79755e1d]{padding-top:2px;background:#fff;background:var(--c-gris_clair)}._publierPane.is--editable[data-v-79755e1d]{background:var(--color-publish)}",""]),e["default"]=r},95391:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._floatingMsg[data-v-1ff4632a]{position:absolute;left:0;top:0;width:100%;height:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:1000;text-align:center;padding:calc(var(--spacing)*2);cursor:pointer}._floatingMsg>div[data-v-1ff4632a]{position:relative;background:var(--color-type);background:#fff;max-width:54ch;padding:calc(var(--spacing)/2);margin:0 auto;border:2px solid var(--c-gris);border-radius:4px;pointer-events:auto;cursor:default}._floatingMsg sl-icon-button[data-v-1ff4632a]{position:absolute;top:-1em;right:-1em;color:currentColor}._floatingMsg sl-icon-button[data-v-1ff4632a]::part(base){color:currentColor}",""]),e["default"]=r},1762:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"",""]),e["default"]=r},86380:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._templates[data-v-2e5dfd72]{display:grid;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)/4);align-items:stretch;grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}._templates--item[data-v-2e5dfd72]{display:flex;flex-flow:column nowrap;justify-content:space-between;text-align:center;align-items:center;background:var(--c-bleuvert);border-radius:4px;padding:calc(var(--spacing)/2)}._templates--item.is--active[data-v-2e5dfd72]{border:2px solid #fff;outline:2px solid var(--c-bleuvert_fonce)}._label[data-v-2e5dfd72]  label{color:#000!important}",""]),e["default"]=r},30601:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._publicationOpen[data-v-6d674629]{position:relative;min-height:calc(100vh - 44px);display:flex;flex-flow:column nowrap}._publicationOpen--topbar[data-v-6d674629]{flex:0 0 auto}._publicationOpen--content[data-v-6d674629]{flex:1 1 auto}",""]),e["default"]=r},31699:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._publicationPreview header[data-v-d14db8e8]{height:8em;cursor:pointer}._publicationPreview--cover[data-v-d14db8e8]{position:relative;border-radius:2px;overflow:hidden;box-shadow:0 1px 4px rgba(0,0,0,.2);cursor:pointer}._header[data-v-d14db8e8]{padding:calc(var(--spacing)/2) 0;cursor:pointer;overflow:hidden}._generatePreviewBtn[data-v-d14db8e8]{position:absolute;top:0;right:0;margin:calc(var(--spacing)/2)}._previewProgress[data-v-d14db8e8]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);padding:calc(var(--spacing)*1);font-family:Fira Code}._iconPreview[data-v-d14db8e8]{width:30px;height:30px;position:absolute;bottom:0;left:0;z-index:1;background:var(--c-bleuvert);margin:calc(var(--spacing)/4);padding:calc(var(--spacing)/4);border-radius:4px}._noPreview[data-v-d14db8e8]{display:flex;justify-content:center;align-content:center;align-items:center;padding:calc(var(--spacing)/1);width:100%;aspect-ratio:1;min-height:50px}",""]),e["default"]=r},85644:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._topbar[data-v-033d6a34]{display:flex;flex-flow:row wrap;gap:calc(var(--spacing)/2);align-items:center;width:100%;background:#fff;padding:calc(var(--spacing)/2);border-radius:1px;margin:0;box-shadow:0 1px 4px rgba(0,0,0,.1)}._publiTitle[data-v-033d6a34]{flex:10 1 auto}._buttonRow[data-v-033d6a34]{display:flex;flex-flow:row wrap;flex:1 1 auto;justify-content:flex-end;gap:calc(var(--spacing)/2)}._exportBtn[data-v-033d6a34]{position:relative}",""]),e["default"]=r},47314:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._publicationsList[data-v-132f9759]{width:100%;max-width:calc(var(--max-column-width));margin:0 auto;padding:calc(var(--spacing)*1)}._publications--list[data-v-132f9759]{display:grid;grid-auto-rows:max-content;grid-gap:calc(var(--spacing)*1);align-items:end;grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}",""]),e["default"]=r},51928:function(t,e,i){"use strict";i.r(e);var a=i(8081),s=i.n(a),n=i(23645),o=i.n(n),r=o()(s());r.push([t.id,"._projectView[data-v-5fe2ef26]{position:relative;min-height:calc(100vh - 60px)}._projectPanesAndList[data-v-5fe2ef26]{position:relative;z-index:6;display:flex;flex-flow:column nowrap}._projectPanesAndList ._paneList[data-v-5fe2ef26]{flex:0 0 auto}._projectPanesAndList ._panes[data-v-5fe2ef26]{flex:1 1 auto}._topContent[data-v-5fe2ef26]{position:relative}._tabButton[data-v-5fe2ef26]{text-align:center;background:var(--c-gris);padding:calc(var(--spacing)/2)}._tabButton>*[data-v-5fe2ef26]{background:#fff;border-radius:4px}._displayAsPublic[data-v-5fe2ef26]{position:absolute;height:100%;width:100%;z-index:1000;display:flex;justify-content:center;align-items:flex-start;pointer-events:none}._displayAsPublic ._sticky[data-v-5fe2ef26]{position:sticky;top:0;left:0;padding:calc(var(--spacing)/1)}._displayAsPublic ._content[data-v-5fe2ef26]{pointer-events:auto;background:var(--c-bleuvert);border:2px solid var(--c-bleuvert_fonce);border-radius:8px;color:#fff}._displayAsPublic ._content>*[data-v-5fe2ef26]{padding:calc(var(--spacing)/8) calc(var(--spacing)/4)}._displayAsPublic ._content[data-v-5fe2ef26]  .u-label{color:#fff}._separator[data-v-5fe2ef26]{margin:0}",""]),e["default"]=r},49459:function(t,e,i){var a=i(5890);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("6c2e7ab8",a,!0,{sourceMap:!1,shadowMode:!1})},62997:function(t,e,i){var a=i(70753);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("a0cd045c",a,!0,{sourceMap:!1,shadowMode:!1})},88742:function(t,e,i){var a=i(56701);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("ea98d7a2",a,!0,{sourceMap:!1,shadowMode:!1})},59872:function(t,e,i){var a=i(95924);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("19f302a1",a,!0,{sourceMap:!1,shadowMode:!1})},86152:function(t,e,i){var a=i(39978);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("0f283075",a,!0,{sourceMap:!1,shadowMode:!1})},43190:function(t,e,i){var a=i(57919);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("0418d9ec",a,!0,{sourceMap:!1,shadowMode:!1})},34496:function(t,e,i){var a=i(99025);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("779b28e0",a,!0,{sourceMap:!1,shadowMode:!1})},97888:function(t,e,i){var a=i(13455);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("6cb71fa0",a,!0,{sourceMap:!1,shadowMode:!1})},50703:function(t,e,i){var a=i(44951);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("55c17e81",a,!0,{sourceMap:!1,shadowMode:!1})},41555:function(t,e,i){var a=i(95391);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("44c183ca",a,!0,{sourceMap:!1,shadowMode:!1})},30008:function(t,e,i){var a=i(1762);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("34d33c0c",a,!0,{sourceMap:!1,shadowMode:!1})},24863:function(t,e,i){var a=i(86380);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("ac548bea",a,!0,{sourceMap:!1,shadowMode:!1})},40349:function(t,e,i){var a=i(30601);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("00d67b1a",a,!0,{sourceMap:!1,shadowMode:!1})},9018:function(t,e,i){var a=i(31699);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("2c09ed14",a,!0,{sourceMap:!1,shadowMode:!1})},90371:function(t,e,i){var a=i(85644);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("0b0396da",a,!0,{sourceMap:!1,shadowMode:!1})},42486:function(t,e,i){var a=i(47314);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("3b5e5446",a,!0,{sourceMap:!1,shadowMode:!1})},15541:function(t,e,i){var a=i(51928);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=i(31982).Z;s("4060f3a5",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=ProjectView.js.map